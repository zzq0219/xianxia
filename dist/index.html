
<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>仙侠卡牌RPG</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            fontFamily: {
              'serif': ['"Noto Serif SC"', 'serif'],
              'sans': ['"Inter"', 'sans-serif'],
            },
            animation: {
              'fade-in': 'fadeIn 0.5s ease-in-out',
              'slide-up': 'slideUp 0.3s ease-out',
              'pulse-fast': 'pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite',
              'shake': 'shake 0.5s cubic-bezier(.36,.07,.19,.97) both',
              'flash': 'flash 0.5s ease-out',
              'glow': 'glow 2s ease-in-out infinite alternate',
              'float': 'float 3s ease-in-out infinite',
              'marquee': 'marquee 40s linear infinite',
            },
            keyframes: {
              fadeIn: {
                '0%': { opacity: 0 },
                '100%': { opacity: 1 },
              },
              slideUp: {
                '0%': { transform: 'translateY(100%)', opacity: 0.8 },
                '100%': { transform: 'translateY(0)', opacity: 1 },
              },
              shake: {
                '10%, 90%': { transform: 'translate3d(-1px, 0, 0)' },
                '20%, 80%': { transform: 'translate3d(2px, 0, 0)' },
                '30%, 50%, 70%': { transform: 'translate3d(-4px, 0, 0)' },
                '40%, 60%': { transform: 'translate3d(4px, 0, 0)' },
              },
              flash: {
                '0%, 100%': { opacity: 1 },
                '50%': { opacity: 0.1 },
              },
              glow: {
                'from': { textShadow: '0 0 5px #fef08a, 0 0 10px #fef08a, 0 0 15px #fde047' },
                'to': { textShadow: '0 0 10px #facc15, 0 0 20px #facc15, 0 0 30px #eab308' },
              },
               float: {
                '0%, 100%': { transform: 'translateY(0px)' },
                '50%': { transform: 'translateY(-8px)' },
              },
              marquee: {
                '0%': { transform: 'translateX(0)' },
                '100%': { transform: 'translateX(-50%)' },
              },
            },
          },
        },
      }
    </script>

<style>
    body {
        background-size: cover;
        background-position: center;
        background-attachment: fixed;
        background-color: #0c0a09; /* stone-950 */
    }
    .prose {
        --tw-prose-body: #d6d3d1; /* stone-400 */
        --tw-prose-headings: #fde047; /* yellow-300 */
        --tw-prose-invert-body: #d6d3d1;
        --tw-prose-invert-headings: #fde047;
    }
    ::-webkit-scrollbar { width: 8px; }
    ::-webkit-scrollbar-track { background: #1c1917; } /* stone-900 */
    ::-webkit-scrollbar-thumb { background: #57534e; border-radius: 4px; } /* stone-600 */
    ::-webkit-scrollbar-thumb:hover { background: #78716c; } /* stone-500 */

    .ornate-border {
        border: 10px solid;
        border-image-slice: 40 42;
        border-image-width: 15px;
        border-image-outset: 0;
        border-image-repeat: stretch;
        border-image-source: url('https://i.imgur.com/z4b2r4j.png');
        position: relative;
    }
    .scroll-container {
      background-image: url('https://www.transparenttextures.com/patterns/old-paper-2.png'), linear-gradient(to bottom, #f5eadd, #d8c9b3);
      background-color: #e4d8c5; /* A base parchment color */
      color: #402e1a;
      border: 2px solid #a89379;
      box-shadow: 0 5px 15px rgba(0,0,0,0.5);
      padding: 1rem 2rem;
      border-radius: 2px;
    }
    .scroll-container .prose {
        --tw-prose-body: #5c452b;
        --tw-prose-headings: #8c6a48;
    }
    .text-rainbow {
        background-image: linear-gradient(to right, #f87171, #fb923c, #facc15, #4ade80, #38bdf8, #a78bfa, #f472b6);
        background-size: 200% auto;
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        animation: rainbow-flow 3s linear infinite;
    }
    @keyframes rainbow-flow {
        to {
            background-position: 200% center;
        }
    }
</style>
<link rel="stylesheet" href="/index.css">
  <script type="importmap">
{
  "imports": {
    "react": "https://aistudiocdn.com/react@^19.2.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.2.0/",
    "react/": "https://aistudiocdn.com/react@^19.2.0/",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.28.0"
  }
}
</script>
  <script type="module" crossorigin>(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))o(m);new MutationObserver(m=>{for(const p of m)if(p.type==="childList")for(const b of p.addedNodes)b.tagName==="LINK"&&b.rel==="modulepreload"&&o(b)}).observe(document,{childList:!0,subtree:!0});function d(m){const p={};return m.integrity&&(p.integrity=m.integrity),m.referrerPolicy&&(p.referrerPolicy=m.referrerPolicy),m.crossOrigin==="use-credentials"?p.credentials="include":m.crossOrigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function o(m){if(m.ep)return;m.ep=!0;const p=d(m);fetch(m.href,p)}})();function Z0(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var uu={exports:{}},hs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b0;function rh(){if(b0)return hs;b0=1;var c=Symbol.for("react.transitional.element"),u=Symbol.for("react.fragment");function d(o,m,p){var b=null;if(p!==void 0&&(b=""+p),m.key!==void 0&&(b=""+m.key),"key"in m){p={};for(var E in m)E!=="key"&&(p[E]=m[E])}else p=m;return m=p.ref,{$$typeof:c,type:o,key:b,ref:m!==void 0?m:null,props:p}}return hs.Fragment=u,hs.jsx=d,hs.jsxs=d,hs}var p0;function uh(){return p0||(p0=1,uu.exports=rh()),uu.exports}var n=uh(),ou={exports:{}},oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g0;function oh(){if(g0)return oe;g0=1;var c=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),m=Symbol.for("react.profiler"),p=Symbol.for("react.consumer"),b=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),O=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),Y=Symbol.iterator;function z(x){return x===null||typeof x!="object"?null:(x=Y&&x[Y]||x["@@iterator"],typeof x=="function"?x:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,U={};function G(x,R,$){this.props=x,this.context=R,this.refs=U,this.updater=$||N}G.prototype.isReactComponent={},G.prototype.setState=function(x,R){if(typeof x!="object"&&typeof x!="function"&&x!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,x,R,"setState")},G.prototype.forceUpdate=function(x){this.updater.enqueueForceUpdate(this,x,"forceUpdate")};function J(){}J.prototype=G.prototype;function Q(x,R,$){this.props=x,this.context=R,this.refs=U,this.updater=$||N}var I=Q.prototype=new J;I.constructor=Q,A(I,G.prototype),I.isPureReactComponent=!0;var ee=Array.isArray;function ue(){}var W={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function Ae(x,R,$){var F=$.ref;return{$$typeof:c,type:x,key:R,ref:F!==void 0?F:null,props:$}}function Je(x,R){return Ae(x.type,R,x.props)}function _e(x){return typeof x=="object"&&x!==null&&x.$$typeof===c}function me(x){var R={"=":"=0",":":"=2"};return"$"+x.replace(/[=:]/g,function($){return R[$]})}var $e=/\/+/g;function ge(x,R){return typeof x=="object"&&x!==null&&x.key!=null?me(""+x.key):R.toString(36)}function Xe(x){switch(x.status){case"fulfilled":return x.value;case"rejected":throw x.reason;default:switch(typeof x.status=="string"?x.then(ue,ue):(x.status="pending",x.then(function(R){x.status==="pending"&&(x.status="fulfilled",x.value=R)},function(R){x.status==="pending"&&(x.status="rejected",x.reason=R)})),x.status){case"fulfilled":return x.value;case"rejected":throw x.reason}}throw x}function _(x,R,$,F,re){var be=typeof x;(be==="undefined"||be==="boolean")&&(x=null);var we=!1;if(x===null)we=!0;else switch(be){case"bigint":case"string":case"number":we=!0;break;case"object":switch(x.$$typeof){case c:case u:we=!0;break;case O:return we=x._init,_(we(x._payload),R,$,F,re)}}if(we)return re=re(x),we=F===""?"."+ge(x,0):F,ee(re)?($="",we!=null&&($=we.replace($e,"$&/")+"/"),_(re,R,$,"",function(ea){return ea})):re!=null&&(_e(re)&&(re=Je(re,$+(re.key==null||x&&x.key===re.key?"":(""+re.key).replace($e,"$&/")+"/")+we)),R.push(re)),1;we=0;var it=F===""?".":F+":";if(ee(x))for(var Ge=0;Ge<x.length;Ge++)F=x[Ge],be=it+ge(F,Ge),we+=_(F,R,$,be,re);else if(Ge=z(x),typeof Ge=="function")for(x=Ge.call(x),Ge=0;!(F=x.next()).done;)F=F.value,be=it+ge(F,Ge++),we+=_(F,R,$,be,re);else if(be==="object"){if(typeof x.then=="function")return _(Xe(x),R,$,F,re);throw R=String(x),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(x).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return we}function X(x,R,$){if(x==null)return x;var F=[],re=0;return _(x,F,"","",function(be){return R.call($,be,re++)}),F}function le(x){if(x._status===-1){var R=x._result;R=R(),R.then(function($){(x._status===0||x._status===-1)&&(x._status=1,x._result=$)},function($){(x._status===0||x._status===-1)&&(x._status=2,x._result=$)}),x._status===-1&&(x._status=0,x._result=R)}if(x._status===1)return x._result.default;throw x._result}var he=typeof reportError=="function"?reportError:function(x){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof x=="object"&&x!==null&&typeof x.message=="string"?String(x.message):String(x),error:x});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",x);return}console.error(x)},Ce={map:X,forEach:function(x,R,$){X(x,function(){R.apply(this,arguments)},$)},count:function(x){var R=0;return X(x,function(){R++}),R},toArray:function(x){return X(x,function(R){return R})||[]},only:function(x){if(!_e(x))throw Error("React.Children.only expected to receive a single React element child.");return x}};return oe.Activity=S,oe.Children=Ce,oe.Component=G,oe.Fragment=d,oe.Profiler=m,oe.PureComponent=Q,oe.StrictMode=o,oe.Suspense=v,oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,oe.__COMPILER_RUNTIME={__proto__:null,c:function(x){return W.H.useMemoCache(x)}},oe.cache=function(x){return function(){return x.apply(null,arguments)}},oe.cacheSignal=function(){return null},oe.cloneElement=function(x,R,$){if(x==null)throw Error("The argument must be a React element, but you passed "+x+".");var F=A({},x.props),re=x.key;if(R!=null)for(be in R.key!==void 0&&(re=""+R.key),R)!de.call(R,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&R.ref===void 0||(F[be]=R[be]);var be=arguments.length-2;if(be===1)F.children=$;else if(1<be){for(var we=Array(be),it=0;it<be;it++)we[it]=arguments[it+2];F.children=we}return Ae(x.type,re,F)},oe.createContext=function(x){return x={$$typeof:b,_currentValue:x,_currentValue2:x,_threadCount:0,Provider:null,Consumer:null},x.Provider=x,x.Consumer={$$typeof:p,_context:x},x},oe.createElement=function(x,R,$){var F,re={},be=null;if(R!=null)for(F in R.key!==void 0&&(be=""+R.key),R)de.call(R,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(re[F]=R[F]);var we=arguments.length-2;if(we===1)re.children=$;else if(1<we){for(var it=Array(we),Ge=0;Ge<we;Ge++)it[Ge]=arguments[Ge+2];re.children=it}if(x&&x.defaultProps)for(F in we=x.defaultProps,we)re[F]===void 0&&(re[F]=we[F]);return Ae(x,be,re)},oe.createRef=function(){return{current:null}},oe.forwardRef=function(x){return{$$typeof:E,render:x}},oe.isValidElement=_e,oe.lazy=function(x){return{$$typeof:O,_payload:{_status:-1,_result:x},_init:le}},oe.memo=function(x,R){return{$$typeof:g,type:x,compare:R===void 0?null:R}},oe.startTransition=function(x){var R=W.T,$={};W.T=$;try{var F=x(),re=W.S;re!==null&&re($,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(ue,he)}catch(be){he(be)}finally{R!==null&&$.types!==null&&(R.types=$.types),W.T=R}},oe.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},oe.use=function(x){return W.H.use(x)},oe.useActionState=function(x,R,$){return W.H.useActionState(x,R,$)},oe.useCallback=function(x,R){return W.H.useCallback(x,R)},oe.useContext=function(x){return W.H.useContext(x)},oe.useDebugValue=function(){},oe.useDeferredValue=function(x,R){return W.H.useDeferredValue(x,R)},oe.useEffect=function(x,R){return W.H.useEffect(x,R)},oe.useEffectEvent=function(x){return W.H.useEffectEvent(x)},oe.useId=function(){return W.H.useId()},oe.useImperativeHandle=function(x,R,$){return W.H.useImperativeHandle(x,R,$)},oe.useInsertionEffect=function(x,R){return W.H.useInsertionEffect(x,R)},oe.useLayoutEffect=function(x,R){return W.H.useLayoutEffect(x,R)},oe.useMemo=function(x,R){return W.H.useMemo(x,R)},oe.useOptimistic=function(x,R){return W.H.useOptimistic(x,R)},oe.useReducer=function(x,R,$){return W.H.useReducer(x,R,$)},oe.useRef=function(x){return W.H.useRef(x)},oe.useState=function(x){return W.H.useState(x)},oe.useSyncExternalStore=function(x,R,$){return W.H.useSyncExternalStore(x,R,$)},oe.useTransition=function(){return W.H.useTransition()},oe.version="19.2.0",oe}var y0;function Su(){return y0||(y0=1,ou.exports=oh()),ou.exports}var k=Su();const Zi=Z0(k);var du={exports:{}},bs={},fu={exports:{}},mu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0;function dh(){return v0||(v0=1,(function(c){function u(_,X){var le=_.length;_.push(X);e:for(;0<le;){var he=le-1>>>1,Ce=_[he];if(0<m(Ce,X))_[he]=X,_[le]=Ce,le=he;else break e}}function d(_){return _.length===0?null:_[0]}function o(_){if(_.length===0)return null;var X=_[0],le=_.pop();if(le!==X){_[0]=le;e:for(var he=0,Ce=_.length,x=Ce>>>1;he<x;){var R=2*(he+1)-1,$=_[R],F=R+1,re=_[F];if(0>m($,le))F<Ce&&0>m(re,$)?(_[he]=re,_[F]=le,he=F):(_[he]=$,_[R]=le,he=R);else if(F<Ce&&0>m(re,le))_[he]=re,_[F]=le,he=F;else break e}}return X}function m(_,X){var le=_.sortIndex-X.sortIndex;return le!==0?le:_.id-X.id}if(c.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var p=performance;c.unstable_now=function(){return p.now()}}else{var b=Date,E=b.now();c.unstable_now=function(){return b.now()-E}}var v=[],g=[],O=1,S=null,Y=3,z=!1,N=!1,A=!1,U=!1,G=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function I(_){for(var X=d(g);X!==null;){if(X.callback===null)o(g);else if(X.startTime<=_)o(g),X.sortIndex=X.expirationTime,u(v,X);else break;X=d(g)}}function ee(_){if(A=!1,I(_),!N)if(d(v)!==null)N=!0,ue||(ue=!0,me());else{var X=d(g);X!==null&&Xe(ee,X.startTime-_)}}var ue=!1,W=-1,de=5,Ae=-1;function Je(){return U?!0:!(c.unstable_now()-Ae<de)}function _e(){if(U=!1,ue){var _=c.unstable_now();Ae=_;var X=!0;try{e:{N=!1,A&&(A=!1,J(W),W=-1),z=!0;var le=Y;try{t:{for(I(_),S=d(v);S!==null&&!(S.expirationTime>_&&Je());){var he=S.callback;if(typeof he=="function"){S.callback=null,Y=S.priorityLevel;var Ce=he(S.expirationTime<=_);if(_=c.unstable_now(),typeof Ce=="function"){S.callback=Ce,I(_),X=!0;break t}S===d(v)&&o(v),I(_)}else o(v);S=d(v)}if(S!==null)X=!0;else{var x=d(g);x!==null&&Xe(ee,x.startTime-_),X=!1}}break e}finally{S=null,Y=le,z=!1}X=void 0}}finally{X?me():ue=!1}}}var me;if(typeof Q=="function")me=function(){Q(_e)};else if(typeof MessageChannel<"u"){var $e=new MessageChannel,ge=$e.port2;$e.port1.onmessage=_e,me=function(){ge.postMessage(null)}}else me=function(){G(_e,0)};function Xe(_,X){W=G(function(){_(c.unstable_now())},X)}c.unstable_IdlePriority=5,c.unstable_ImmediatePriority=1,c.unstable_LowPriority=4,c.unstable_NormalPriority=3,c.unstable_Profiling=null,c.unstable_UserBlockingPriority=2,c.unstable_cancelCallback=function(_){_.callback=null},c.unstable_forceFrameRate=function(_){0>_||125<_?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<_?Math.floor(1e3/_):5},c.unstable_getCurrentPriorityLevel=function(){return Y},c.unstable_next=function(_){switch(Y){case 1:case 2:case 3:var X=3;break;default:X=Y}var le=Y;Y=X;try{return _()}finally{Y=le}},c.unstable_requestPaint=function(){U=!0},c.unstable_runWithPriority=function(_,X){switch(_){case 1:case 2:case 3:case 4:case 5:break;default:_=3}var le=Y;Y=_;try{return X()}finally{Y=le}},c.unstable_scheduleCallback=function(_,X,le){var he=c.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?he+le:he):le=he,_){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=le+Ce,_={id:O++,callback:X,priorityLevel:_,startTime:le,expirationTime:Ce,sortIndex:-1},le>he?(_.sortIndex=le,u(g,_),d(v)===null&&_===d(g)&&(A?(J(W),W=-1):A=!0,Xe(ee,le-he))):(_.sortIndex=Ce,u(v,_),N||z||(N=!0,ue||(ue=!0,me()))),_},c.unstable_shouldYield=Je,c.unstable_wrapCallback=function(_){var X=Y;return function(){var le=Y;Y=X;try{return _.apply(this,arguments)}finally{Y=le}}}})(mu)),mu}var j0;function fh(){return j0||(j0=1,fu.exports=dh()),fu.exports}var xu={exports:{}},pt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function mh(){if(N0)return pt;N0=1;var c=Su();function u(v){var g="https://react.dev/errors/"+v;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var O=2;O<arguments.length;O++)g+="&args[]="+encodeURIComponent(arguments[O])}return"Minified React error #"+v+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(){}var o={d:{f:d,r:function(){throw Error(u(522))},D:d,C:d,L:d,m:d,X:d,S:d,M:d},p:0,findDOMNode:null},m=Symbol.for("react.portal");function p(v,g,O){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:m,key:S==null?null:""+S,children:v,containerInfo:g,implementation:O}}var b=c.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function E(v,g){if(v==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return pt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,pt.createPortal=function(v,g){var O=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(u(299));return p(v,g,null,O)},pt.flushSync=function(v){var g=b.T,O=o.p;try{if(b.T=null,o.p=2,v)return v()}finally{b.T=g,o.p=O,o.d.f()}},pt.preconnect=function(v,g){typeof v=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,o.d.C(v,g))},pt.prefetchDNS=function(v){typeof v=="string"&&o.d.D(v)},pt.preinit=function(v,g){if(typeof v=="string"&&g&&typeof g.as=="string"){var O=g.as,S=E(O,g.crossOrigin),Y=typeof g.integrity=="string"?g.integrity:void 0,z=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;O==="style"?o.d.S(v,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:S,integrity:Y,fetchPriority:z}):O==="script"&&o.d.X(v,{crossOrigin:S,integrity:Y,fetchPriority:z,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},pt.preinitModule=function(v,g){if(typeof v=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var O=E(g.as,g.crossOrigin);o.d.M(v,{crossOrigin:O,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&o.d.M(v)},pt.preload=function(v,g){if(typeof v=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var O=g.as,S=E(O,g.crossOrigin);o.d.L(v,O,{crossOrigin:S,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},pt.preloadModule=function(v,g){if(typeof v=="string")if(g){var O=E(g.as,g.crossOrigin);o.d.m(v,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:O,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else o.d.m(v)},pt.requestFormReset=function(v){o.d.r(v)},pt.unstable_batchedUpdates=function(v,g){return v(g)},pt.useFormState=function(v,g,O){return b.H.useFormState(v,g,O)},pt.useFormStatus=function(){return b.H.useHostTransitionStatus()},pt.version="19.2.0",pt}var S0;function xh(){if(S0)return xu.exports;S0=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(u){console.error(u)}}return c(),xu.exports=mh(),xu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w0;function hh(){if(w0)return bs;w0=1;var c=fh(),u=Su(),d=xh();function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function m(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function p(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function b(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function E(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(p(e)!==e)throw Error(o(188))}function g(e){var t=e.alternate;if(!t){if(t=p(e),t===null)throw Error(o(188));return t!==e?null:e}for(var l=e,a=t;;){var s=l.return;if(s===null)break;var i=s.alternate;if(i===null){if(a=s.return,a!==null){l=a;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===l)return v(s),e;if(i===a)return v(s),t;i=i.sibling}throw Error(o(188))}if(l.return!==a.return)l=s,a=i;else{for(var r=!1,f=s.child;f;){if(f===l){r=!0,l=s,a=i;break}if(f===a){r=!0,a=s,l=i;break}f=f.sibling}if(!r){for(f=i.child;f;){if(f===l){r=!0,l=i,a=s;break}if(f===a){r=!0,a=i,l=s;break}f=f.sibling}if(!r)throw Error(o(189))}}if(l.alternate!==a)throw Error(o(190))}if(l.tag!==3)throw Error(o(188));return l.stateNode.current===l?e:t}function O(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=O(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,Y=Symbol.for("react.element"),z=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),U=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),J=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),ue=Symbol.for("react.suspense_list"),W=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),Ae=Symbol.for("react.activity"),Je=Symbol.for("react.memo_cache_sentinel"),_e=Symbol.iterator;function me(e){return e===null||typeof e!="object"?null:(e=_e&&e[_e]||e["@@iterator"],typeof e=="function"?e:null)}var $e=Symbol.for("react.client.reference");function ge(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===$e?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case G:return"Profiler";case U:return"StrictMode";case ee:return"Suspense";case ue:return"SuspenseList";case Ae:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case N:return"Portal";case Q:return e.displayName||"Context";case J:return(e._context.displayName||"Context")+".Consumer";case I:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case W:return t=e.displayName||null,t!==null?t:ge(e.type)||"Memo";case de:t=e._payload,e=e._init;try{return ge(e(t))}catch{}}return null}var Xe=Array.isArray,_=u.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=d.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},he=[],Ce=-1;function x(e){return{current:e}}function R(e){0>Ce||(e.current=he[Ce],he[Ce]=null,Ce--)}function $(e,t){Ce++,he[Ce]=e.current,e.current=t}var F=x(null),re=x(null),be=x(null),we=x(null);function it(e,t){switch($(be,t),$(re,e),$(F,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?qf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=qf(t),e=Lf(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}R(F),$(F,e)}function Ge(){R(F),R(re),R(be)}function ea(e){e.memoizedState!==null&&$(we,e);var t=F.current,l=Lf(t,e.type);t!==l&&($(re,e),$(F,l))}function ll(e){re.current===e&&(R(F),R(re)),we.current===e&&(R(we),ds._currentValue=le)}var bn,pn;function al(e){if(bn===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);bn=t&&t[1]||"",pn=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+bn+e+pn}var wa=!1;function ta(e,t){if(!e||wa)return"";wa=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var q=function(){throw Error()};if(Object.defineProperty(q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(q,[])}catch(M){var T=M}Reflect.construct(e,[],q)}else{try{q.call()}catch(M){T=M}e.call(q.prototype)}}else{try{throw Error()}catch(M){T=M}(q=e())&&typeof q.catch=="function"&&q.catch(function(){})}}catch(M){if(M&&T&&typeof M.stack=="string")return[M.stack,T.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=a.DetermineComponentFrameRoot(),r=i[0],f=i[1];if(r&&f){var h=r.split(`
`),C=f.split(`
`);for(s=a=0;a<h.length&&!h[a].includes("DetermineComponentFrameRoot");)a++;for(;s<C.length&&!C[s].includes("DetermineComponentFrameRoot");)s++;if(a===h.length||s===C.length)for(a=h.length-1,s=C.length-1;1<=a&&0<=s&&h[a]!==C[s];)s--;for(;1<=a&&0<=s;a--,s--)if(h[a]!==C[s]){if(a!==1||s!==1)do if(a--,s--,0>s||h[a]!==C[s]){var D=`
`+h[a].replace(" at new "," at ");return e.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",e.displayName)),D}while(1<=a&&0<=s);break}}}finally{wa=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?al(l):""}function vs(e,t){switch(e.tag){case 26:case 27:case 5:return al(e.type);case 16:return al("Lazy");case 13:return e.child!==t&&t!==null?al("Suspense Fallback"):al("Suspense");case 19:return al("SuspenseList");case 0:case 15:return ta(e.type,!1);case 11:return ta(e.type.render,!1);case 1:return ta(e.type,!0);case 31:return al("Activity");default:return""}}function js(e){try{var t="",l=null;do t+=vs(e,l),l=e,e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var la=Object.prototype.hasOwnProperty,nl=c.unstable_scheduleCallback,Ca=c.unstable_cancelCallback,Ns=c.unstable_shouldYield,gn=c.unstable_requestPaint,gt=c.unstable_now,yn=c.unstable_getCurrentPriorityLevel,Wi=c.unstable_ImmediatePriority,Ss=c.unstable_UserBlockingPriority,Ta=c.unstable_NormalPriority,ws=c.unstable_LowPriority,vn=c.unstable_IdlePriority,Cs=c.log,jn=c.unstable_setDisableYieldValue,wl=null,mt=null;function Vt(e){if(typeof Cs=="function"&&jn(e),mt&&typeof mt.setStrictMode=="function")try{mt.setStrictMode(wl,e)}catch{}}var xt=Math.clz32?Math.clz32:Pi,Fi=Math.log,Ii=Math.LN2;function Pi(e){return e>>>=0,e===0?32:31-(Fi(e)/Ii|0)|0}var Ma=256,Aa=262144,Ea=4194304;function sl(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Oa(e,t,l){var a=e.pendingLanes;if(a===0)return 0;var s=0,i=e.suspendedLanes,r=e.pingedLanes;e=e.warmLanes;var f=a&134217727;return f!==0?(a=f&~i,a!==0?s=sl(a):(r&=f,r!==0?s=sl(r):l||(l=f&~e,l!==0&&(s=sl(l))))):(f=a&~i,f!==0?s=sl(f):r!==0?s=sl(r):l||(l=a&~e,l!==0&&(s=sl(l)))),s===0?0:t!==0&&t!==s&&(t&i)===0&&(i=s&-s,l=t&-t,i>=l||i===32&&(l&4194048)!==0)?t:s}function aa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ts(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _a(){var e=Ea;return Ea<<=1,(Ea&62914560)===0&&(Ea=4194304),e}function Nn(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function na(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ec(e,t,l,a,s,i){var r=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var f=e.entanglements,h=e.expirationTimes,C=e.hiddenUpdates;for(l=r&~l;0<l;){var D=31-xt(l),q=1<<D;f[D]=0,h[D]=-1;var T=C[D];if(T!==null)for(C[D]=null,D=0;D<T.length;D++){var M=T[D];M!==null&&(M.lane&=-536870913)}l&=~q}a!==0&&Ms(e,a,0),i!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=i&~(r&~t))}function Ms(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-xt(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|l&261930}function As(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var a=31-xt(l),s=1<<a;s&t|e[a]&t&&(e[a]|=t),l&=~s}}function Es(e,t){var l=t&-t;return l=(l&42)!==0?1:za(l),(l&(e.suspendedLanes|t))!==0?0:l}function za(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Sn(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Os(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:u0(e.type))}function Da(e,t){var l=X.p;try{return X.p=e,t()}finally{X.p=l}}var Wt=Math.random().toString(36).slice(2),lt="__reactFiber$"+Wt,ht="__reactProps$"+Wt,Cl="__reactContainer$"+Wt,wn="__reactEvents$"+Wt,tc="__reactListeners$"+Wt,lc="__reactHandles$"+Wt,_s="__reactResources$"+Wt,sa="__reactMarker$"+Wt;function Cn(e){delete e[lt],delete e[ht],delete e[wn],delete e[tc],delete e[lc]}function il(e){var t=e[lt];if(t)return t;for(var l=e.parentNode;l;){if(t=l[Cl]||l[lt]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=Jf(e);e!==null;){if(l=e[lt])return l;e=Jf(e)}return t}e=l,l=e.parentNode}return null}function B(e){if(e=e[lt]||e[Cl]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function L(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(o(33))}function V(e){var t=e[_s];return t||(t=e[_s]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Z(e){e[sa]=!0}var se=new Set,pe={};function te(e,t){ae(e,t),ae(e+"Capture",t)}function ae(e,t){for(pe[e]=t,e=0;e<t.length;e++)se.add(t[e])}var Ee=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ce={},ke={};function nt(e){return la.call(ke,e)?!0:la.call(ce,e)?!1:Ee.test(e)?ke[e]=!0:(ce[e]=!0,!1)}function Fe(e,t,l){if(nt(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function jt(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function yt(e,t,l,a){if(a===null)e.removeAttribute(l);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+a)}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kt(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Tn(e,t,l){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,i=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(r){l=""+r,i.call(this,r)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(r){l=""+r},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ia(e){if(!e._valueTracker){var t=kt(e)?"checked":"value";e._valueTracker=Tn(e,t,""+e[t])}}function Ra(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),a="";return e&&(a=kt(e)?e.checked?"true":"false":e.value),e=a,e!==l?(t.setValue(e),!0):!1}function rt(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Mn=/[\n"\\]/g;function bt(e){return e.replace(Mn,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function ac(e,t,l,a,s,i,r,f){e.name="",r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.type=r:e.removeAttribute("type"),t!=null?r==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):r!=="submit"&&r!=="reset"||e.removeAttribute("value"),t!=null?nc(e,r,ct(t)):l!=null?nc(e,r,ct(l)):a!=null&&e.removeAttribute("value"),s==null&&i!=null&&(e.defaultChecked=!!i),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"?e.name=""+ct(f):e.removeAttribute("name")}function _u(e,t,l,a,s,i,r,f){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||l!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){ia(e);return}l=l!=null?""+ct(l):"",t=t!=null?""+ct(t):l,f||t===e.value||(e.value=t),e.defaultValue=t}a=a??s,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=f?e.checked:!!a,e.defaultChecked=!!a,r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"&&(e.name=r),ia(e)}function nc(e,t,l){t==="number"&&rt(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function ka(e,t,l,a){if(e=e.options,t){t={};for(var s=0;s<l.length;s++)t["$"+l[s]]=!0;for(l=0;l<e.length;l++)s=t.hasOwnProperty("$"+e[l].value),e[l].selected!==s&&(e[l].selected=s),s&&a&&(e[l].defaultSelected=!0)}else{for(l=""+ct(l),t=null,s=0;s<e.length;s++){if(e[s].value===l){e[s].selected=!0,a&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function zu(e,t,l){if(t!=null&&(t=""+ct(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+ct(l):""}function Du(e,t,l,a){if(t==null){if(a!=null){if(l!=null)throw Error(o(92));if(Xe(a)){if(1<a.length)throw Error(o(93));a=a[0]}l=a}l==null&&(l=""),t=l}l=ct(t),e.defaultValue=l,a=e.textContent,a===l&&a!==""&&a!==null&&(e.value=a),ia(e)}function Ba(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var am=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ru(e,t,l){var a=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,l):typeof l!="number"||l===0||am.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function ku(e,t,l){if(t!=null&&typeof t!="object")throw Error(o(62));if(e=e.style,l!=null){for(var a in l)!l.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var s in t)a=t[s],t.hasOwnProperty(s)&&l[s]!==a&&Ru(e,s,a)}else for(var i in t)t.hasOwnProperty(i)&&Ru(e,i,t[i])}function sc(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sm=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function zs(e){return sm.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function cl(){}var ic=null;function cc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ua=null,Ha=null;function Bu(e){var t=B(e);if(t&&(e=t.stateNode)){var l=e[ht]||null;e:switch(e=t.stateNode,t.type){case"input":if(ac(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+bt(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var a=l[t];if(a!==e&&a.form===e.form){var s=a[ht]||null;if(!s)throw Error(o(90));ac(a,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<l.length;t++)a=l[t],a.form===e.form&&Ra(a)}break e;case"textarea":zu(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&ka(e,!!l.multiple,t,!1)}}}var rc=!1;function Uu(e,t,l){if(rc)return e(t,l);rc=!0;try{var a=e(t);return a}finally{if(rc=!1,(Ua!==null||Ha!==null)&&(yi(),Ua&&(t=Ua,e=Ha,Ha=Ua=null,Bu(t),e)))for(t=0;t<e.length;t++)Bu(e[t])}}function An(e,t){var l=e.stateNode;if(l===null)return null;var a=l[ht]||null;if(a===null)return null;l=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(o(231,t,typeof l));return l}var rl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),uc=!1;if(rl)try{var En={};Object.defineProperty(En,"passive",{get:function(){uc=!0}}),window.addEventListener("test",En,En),window.removeEventListener("test",En,En)}catch{uc=!1}var Tl=null,oc=null,Ds=null;function Hu(){if(Ds)return Ds;var e,t=oc,l=t.length,a,s="value"in Tl?Tl.value:Tl.textContent,i=s.length;for(e=0;e<l&&t[e]===s[e];e++);var r=l-e;for(a=1;a<=r&&t[l-a]===s[i-a];a++);return Ds=s.slice(e,1<a?1-a:void 0)}function Rs(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ks(){return!0}function qu(){return!1}function Nt(e){function t(l,a,s,i,r){this._reactName=l,this._targetInst=s,this.type=a,this.nativeEvent=i,this.target=r,this.currentTarget=null;for(var f in e)e.hasOwnProperty(f)&&(l=e[f],this[f]=l?l(i):i[f]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?ks:qu,this.isPropagationStopped=qu,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ks)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ks)},persist:function(){},isPersistent:ks}),t}var ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bs=Nt(ca),On=S({},ca,{view:0,detail:0}),im=Nt(On),dc,fc,_n,Us=S({},On,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_n&&(_n&&e.type==="mousemove"?(dc=e.screenX-_n.screenX,fc=e.screenY-_n.screenY):fc=dc=0,_n=e),dc)},movementY:function(e){return"movementY"in e?e.movementY:fc}}),Lu=Nt(Us),cm=S({},Us,{dataTransfer:0}),rm=Nt(cm),um=S({},On,{relatedTarget:0}),mc=Nt(um),om=S({},ca,{animationName:0,elapsedTime:0,pseudoElement:0}),dm=Nt(om),fm=S({},ca,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mm=Nt(fm),xm=S({},ca,{data:0}),Yu=Nt(xm),hm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},pm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gm(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=pm[e])?!!t[e]:!1}function xc(){return gm}var ym=S({},On,{key:function(e){if(e.key){var t=hm[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Rs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xc,charCode:function(e){return e.type==="keypress"?Rs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Rs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vm=Nt(ym),jm=S({},Us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gu=Nt(jm),Nm=S({},On,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xc}),Sm=Nt(Nm),wm=S({},ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cm=Nt(wm),Tm=S({},Us,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mm=Nt(Tm),Am=S({},ca,{newState:0,oldState:0}),Em=Nt(Am),Om=[9,13,27,32],hc=rl&&"CompositionEvent"in window,zn=null;rl&&"documentMode"in document&&(zn=document.documentMode);var _m=rl&&"TextEvent"in window&&!zn,Qu=rl&&(!hc||zn&&8<zn&&11>=zn),Xu=" ",Zu=!1;function Vu(e,t){switch(e){case"keyup":return Om.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ju(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var qa=!1;function zm(e,t){switch(e){case"compositionend":return Ju(t);case"keypress":return t.which!==32?null:(Zu=!0,Xu);case"textInput":return e=t.data,e===Xu&&Zu?null:e;default:return null}}function Dm(e,t){if(qa)return e==="compositionend"||!hc&&Vu(e,t)?(e=Hu(),Ds=oc=Tl=null,qa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Qu&&t.locale!=="ko"?null:t.data;default:return null}}var Rm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $u(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rm[e.type]:t==="textarea"}function Ku(e,t,l,a){Ua?Ha?Ha.push(a):Ha=[a]:Ua=a,t=Ti(t,"onChange"),0<t.length&&(l=new Bs("onChange","change",null,l,a),e.push({event:l,listeners:t}))}var Dn=null,Rn=null;function km(e){Df(e,0)}function Hs(e){var t=L(e);if(Ra(t))return e}function Wu(e,t){if(e==="change")return t}var Fu=!1;if(rl){var bc;if(rl){var pc="oninput"in document;if(!pc){var Iu=document.createElement("div");Iu.setAttribute("oninput","return;"),pc=typeof Iu.oninput=="function"}bc=pc}else bc=!1;Fu=bc&&(!document.documentMode||9<document.documentMode)}function Pu(){Dn&&(Dn.detachEvent("onpropertychange",eo),Rn=Dn=null)}function eo(e){if(e.propertyName==="value"&&Hs(Rn)){var t=[];Ku(t,Rn,e,cc(e)),Uu(km,t)}}function Bm(e,t,l){e==="focusin"?(Pu(),Dn=t,Rn=l,Dn.attachEvent("onpropertychange",eo)):e==="focusout"&&Pu()}function Um(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hs(Rn)}function Hm(e,t){if(e==="click")return Hs(t)}function qm(e,t){if(e==="input"||e==="change")return Hs(t)}function Lm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var At=typeof Object.is=="function"?Object.is:Lm;function kn(e,t){if(At(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),a=Object.keys(t);if(l.length!==a.length)return!1;for(a=0;a<l.length;a++){var s=l[a];if(!la.call(t,s)||!At(e[s],t[s]))return!1}return!0}function to(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lo(e,t){var l=to(e);e=0;for(var a;l;){if(l.nodeType===3){if(a=e+l.textContent.length,e<=t&&a>=t)return{node:l,offset:t-e};e=a}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=to(l)}}function ao(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ao(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function no(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=rt(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=rt(e.document)}return t}function gc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Ym=rl&&"documentMode"in document&&11>=document.documentMode,La=null,yc=null,Bn=null,vc=!1;function so(e,t,l){var a=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;vc||La==null||La!==rt(a)||(a=La,"selectionStart"in a&&gc(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Bn&&kn(Bn,a)||(Bn=a,a=Ti(yc,"onSelect"),0<a.length&&(t=new Bs("onSelect","select",null,t,l),e.push({event:t,listeners:a}),t.target=La)))}function ra(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var Ya={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionrun:ra("Transition","TransitionRun"),transitionstart:ra("Transition","TransitionStart"),transitioncancel:ra("Transition","TransitionCancel"),transitionend:ra("Transition","TransitionEnd")},jc={},io={};rl&&(io=document.createElement("div").style,"AnimationEvent"in window||(delete Ya.animationend.animation,delete Ya.animationiteration.animation,delete Ya.animationstart.animation),"TransitionEvent"in window||delete Ya.transitionend.transition);function ua(e){if(jc[e])return jc[e];if(!Ya[e])return e;var t=Ya[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in io)return jc[e]=t[l];return e}var co=ua("animationend"),ro=ua("animationiteration"),uo=ua("animationstart"),Gm=ua("transitionrun"),Qm=ua("transitionstart"),Xm=ua("transitioncancel"),oo=ua("transitionend"),fo=new Map,Nc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nc.push("scrollEnd");function Jt(e,t){fo.set(e,t),te(t,[e])}var qs=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bt=[],Ga=0,Sc=0;function Ls(){for(var e=Ga,t=Sc=Ga=0;t<e;){var l=Bt[t];Bt[t++]=null;var a=Bt[t];Bt[t++]=null;var s=Bt[t];Bt[t++]=null;var i=Bt[t];if(Bt[t++]=null,a!==null&&s!==null){var r=a.pending;r===null?s.next=s:(s.next=r.next,r.next=s),a.pending=s}i!==0&&mo(l,s,i)}}function Ys(e,t,l,a){Bt[Ga++]=e,Bt[Ga++]=t,Bt[Ga++]=l,Bt[Ga++]=a,Sc|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function wc(e,t,l,a){return Ys(e,t,l,a),Gs(e)}function oa(e,t){return Ys(e,null,null,t),Gs(e)}function mo(e,t,l){e.lanes|=l;var a=e.alternate;a!==null&&(a.lanes|=l);for(var s=!1,i=e.return;i!==null;)i.childLanes|=l,a=i.alternate,a!==null&&(a.childLanes|=l),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(s=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,s&&t!==null&&(s=31-xt(l),e=i.hiddenUpdates,a=e[s],a===null?e[s]=[t]:a.push(t),t.lane=l|536870912),i):null}function Gs(e){if(50<ns)throw ns=0,Dr=null,Error(o(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Qa={};function Zm(e,t,l,a){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Et(e,t,l,a){return new Zm(e,t,l,a)}function Cc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ul(e,t){var l=e.alternate;return l===null?(l=Et(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function xo(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Qs(e,t,l,a,s,i){var r=0;if(a=e,typeof e=="function")Cc(e)&&(r=1);else if(typeof e=="string")r=Wx(e,l,F.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Ae:return e=Et(31,l,t,s),e.elementType=Ae,e.lanes=i,e;case A:return da(l.children,s,i,t);case U:r=8,s|=24;break;case G:return e=Et(12,l,t,s|2),e.elementType=G,e.lanes=i,e;case ee:return e=Et(13,l,t,s),e.elementType=ee,e.lanes=i,e;case ue:return e=Et(19,l,t,s),e.elementType=ue,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Q:r=10;break e;case J:r=9;break e;case I:r=11;break e;case W:r=14;break e;case de:r=16,a=null;break e}r=29,l=Error(o(130,e===null?"null":typeof e,"")),a=null}return t=Et(r,l,t,s),t.elementType=e,t.type=a,t.lanes=i,t}function da(e,t,l,a){return e=Et(7,e,a,t),e.lanes=l,e}function Tc(e,t,l){return e=Et(6,e,null,t),e.lanes=l,e}function ho(e){var t=Et(18,null,null,0);return t.stateNode=e,t}function Mc(e,t,l){return t=Et(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var bo=new WeakMap;function Ut(e,t){if(typeof e=="object"&&e!==null){var l=bo.get(e);return l!==void 0?l:(t={value:e,source:t,stack:js(t)},bo.set(e,t),t)}return{value:e,source:t,stack:js(t)}}var Xa=[],Za=0,Xs=null,Un=0,Ht=[],qt=0,Ml=null,Ft=1,It="";function ol(e,t){Xa[Za++]=Un,Xa[Za++]=Xs,Xs=e,Un=t}function po(e,t,l){Ht[qt++]=Ft,Ht[qt++]=It,Ht[qt++]=Ml,Ml=e;var a=Ft;e=It;var s=32-xt(a)-1;a&=~(1<<s),l+=1;var i=32-xt(t)+s;if(30<i){var r=s-s%5;i=(a&(1<<r)-1).toString(32),a>>=r,s-=r,Ft=1<<32-xt(t)+s|l<<s|a,It=i+e}else Ft=1<<i|l<<s|a,It=e}function Ac(e){e.return!==null&&(ol(e,1),po(e,1,0))}function Ec(e){for(;e===Xs;)Xs=Xa[--Za],Xa[Za]=null,Un=Xa[--Za],Xa[Za]=null;for(;e===Ml;)Ml=Ht[--qt],Ht[qt]=null,It=Ht[--qt],Ht[qt]=null,Ft=Ht[--qt],Ht[qt]=null}function go(e,t){Ht[qt++]=Ft,Ht[qt++]=It,Ht[qt++]=Ml,Ft=t.id,It=t.overflow,Ml=e}var ut=null,Le=null,Se=!1,Al=null,Lt=!1,Oc=Error(o(519));function El(e){var t=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Hn(Ut(t,e)),Oc}function yo(e){var t=e.stateNode,l=e.type,a=e.memoizedProps;switch(t[lt]=e,t[ht]=a,l){case"dialog":ve("cancel",t),ve("close",t);break;case"iframe":case"object":case"embed":ve("load",t);break;case"video":case"audio":for(l=0;l<is.length;l++)ve(is[l],t);break;case"source":ve("error",t);break;case"img":case"image":case"link":ve("error",t),ve("load",t);break;case"details":ve("toggle",t);break;case"input":ve("invalid",t),_u(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":ve("invalid",t);break;case"textarea":ve("invalid",t),Du(t,a.value,a.defaultValue,a.children)}l=a.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||a.suppressHydrationWarning===!0||Uf(t.textContent,l)?(a.popover!=null&&(ve("beforetoggle",t),ve("toggle",t)),a.onScroll!=null&&ve("scroll",t),a.onScrollEnd!=null&&ve("scrollend",t),a.onClick!=null&&(t.onclick=cl),t=!0):t=!1,t||El(e,!0)}function vo(e){for(ut=e.return;ut;)switch(ut.tag){case 5:case 31:case 13:Lt=!1;return;case 27:case 3:Lt=!0;return;default:ut=ut.return}}function Va(e){if(e!==ut)return!1;if(!Se)return vo(e),Se=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||$r(e.type,e.memoizedProps)),l=!l),l&&Le&&El(e),vo(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Le=Vf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));Le=Vf(e)}else t===27?(t=Le,Ql(e.type)?(e=Pr,Pr=null,Le=e):Le=t):Le=ut?Gt(e.stateNode.nextSibling):null;return!0}function fa(){Le=ut=null,Se=!1}function _c(){var e=Al;return e!==null&&(Tt===null?Tt=e:Tt.push.apply(Tt,e),Al=null),e}function Hn(e){Al===null?Al=[e]:Al.push(e)}var zc=x(null),ma=null,dl=null;function Ol(e,t,l){$(zc,t._currentValue),t._currentValue=l}function fl(e){e._currentValue=zc.current,R(zc)}function Dc(e,t,l){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===l)break;e=e.return}}function Rc(e,t,l,a){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var i=s.dependencies;if(i!==null){var r=s.child;i=i.firstContext;e:for(;i!==null;){var f=i;i=s;for(var h=0;h<t.length;h++)if(f.context===t[h]){i.lanes|=l,f=i.alternate,f!==null&&(f.lanes|=l),Dc(i.return,l,e),a||(r=null);break e}i=f.next}}else if(s.tag===18){if(r=s.return,r===null)throw Error(o(341));r.lanes|=l,i=r.alternate,i!==null&&(i.lanes|=l),Dc(r,l,e),r=null}else r=s.child;if(r!==null)r.return=s;else for(r=s;r!==null;){if(r===e){r=null;break}if(s=r.sibling,s!==null){s.return=r.return,r=s;break}r=r.return}s=r}}function Ja(e,t,l,a){e=null;for(var s=t,i=!1;s!==null;){if(!i){if((s.flags&524288)!==0)i=!0;else if((s.flags&262144)!==0)break}if(s.tag===10){var r=s.alternate;if(r===null)throw Error(o(387));if(r=r.memoizedProps,r!==null){var f=s.type;At(s.pendingProps.value,r.value)||(e!==null?e.push(f):e=[f])}}else if(s===we.current){if(r=s.alternate,r===null)throw Error(o(387));r.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(ds):e=[ds])}s=s.return}e!==null&&Rc(t,e,l,a),t.flags|=262144}function Zs(e){for(e=e.firstContext;e!==null;){if(!At(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xa(e){ma=e,dl=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ot(e){return jo(ma,e)}function Vs(e,t){return ma===null&&xa(e),jo(e,t)}function jo(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},dl===null){if(e===null)throw Error(o(308));dl=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else dl=dl.next=t;return l}var Vm=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},Jm=c.unstable_scheduleCallback,$m=c.unstable_NormalPriority,Ie={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kc(){return{controller:new Vm,data:new Map,refCount:0}}function qn(e){e.refCount--,e.refCount===0&&Jm($m,function(){e.controller.abort()})}var Ln=null,Bc=0,$a=0,Ka=null;function Km(e,t){if(Ln===null){var l=Ln=[];Bc=0,$a=qr(),Ka={status:"pending",value:void 0,then:function(a){l.push(a)}}}return Bc++,t.then(No,No),t}function No(){if(--Bc===0&&Ln!==null){Ka!==null&&(Ka.status="fulfilled");var e=Ln;Ln=null,$a=0,Ka=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Wm(e,t){var l=[],a={status:"pending",value:null,reason:null,then:function(s){l.push(s)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var s=0;s<l.length;s++)(0,l[s])(t)},function(s){for(a.status="rejected",a.reason=s,s=0;s<l.length;s++)(0,l[s])(void 0)}),a}var So=_.S;_.S=function(e,t){cf=gt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Km(e,t),So!==null&&So(e,t)};var ha=x(null);function Uc(){var e=ha.current;return e!==null?e:qe.pooledCache}function Js(e,t){t===null?$(ha,ha.current):$(ha,t.pool)}function wo(){var e=Uc();return e===null?null:{parent:Ie._currentValue,pool:e}}var Wa=Error(o(460)),Hc=Error(o(474)),$s=Error(o(542)),Ks={then:function(){}};function Co(e){return e=e.status,e==="fulfilled"||e==="rejected"}function To(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(cl,cl),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ao(e),e;default:if(typeof t.status=="string")t.then(cl,cl);else{if(e=qe,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=a}},function(a){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Ao(e),e}throw pa=t,Wa}}function ba(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(pa=l,Wa):l}}var pa=null;function Mo(){if(pa===null)throw Error(o(459));var e=pa;return pa=null,e}function Ao(e){if(e===Wa||e===$s)throw Error(o(483))}var Fa=null,Yn=0;function Ws(e){var t=Yn;return Yn+=1,Fa===null&&(Fa=[]),To(Fa,e,t)}function Gn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Fs(e,t){throw t.$$typeof===Y?Error(o(525)):(e=Object.prototype.toString.call(t),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Eo(e){function t(j,y){if(e){var w=j.deletions;w===null?(j.deletions=[y],j.flags|=16):w.push(y)}}function l(j,y){if(!e)return null;for(;y!==null;)t(j,y),y=y.sibling;return null}function a(j){for(var y=new Map;j!==null;)j.key!==null?y.set(j.key,j):y.set(j.index,j),j=j.sibling;return y}function s(j,y){return j=ul(j,y),j.index=0,j.sibling=null,j}function i(j,y,w){return j.index=w,e?(w=j.alternate,w!==null?(w=w.index,w<y?(j.flags|=67108866,y):w):(j.flags|=67108866,y)):(j.flags|=1048576,y)}function r(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function f(j,y,w,H){return y===null||y.tag!==6?(y=Tc(w,j.mode,H),y.return=j,y):(y=s(y,w),y.return=j,y)}function h(j,y,w,H){var ne=w.type;return ne===A?D(j,y,w.props.children,H,w.key):y!==null&&(y.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===de&&ba(ne)===y.type)?(y=s(y,w.props),Gn(y,w),y.return=j,y):(y=Qs(w.type,w.key,w.props,null,j.mode,H),Gn(y,w),y.return=j,y)}function C(j,y,w,H){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Mc(w,j.mode,H),y.return=j,y):(y=s(y,w.children||[]),y.return=j,y)}function D(j,y,w,H,ne){return y===null||y.tag!==7?(y=da(w,j.mode,H,ne),y.return=j,y):(y=s(y,w),y.return=j,y)}function q(j,y,w){if(typeof y=="string"&&y!==""||typeof y=="number"||typeof y=="bigint")return y=Tc(""+y,j.mode,w),y.return=j,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case z:return w=Qs(y.type,y.key,y.props,null,j.mode,w),Gn(w,y),w.return=j,w;case N:return y=Mc(y,j.mode,w),y.return=j,y;case de:return y=ba(y),q(j,y,w)}if(Xe(y)||me(y))return y=da(y,j.mode,w,null),y.return=j,y;if(typeof y.then=="function")return q(j,Ws(y),w);if(y.$$typeof===Q)return q(j,Vs(j,y),w);Fs(j,y)}return null}function T(j,y,w,H){var ne=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint")return ne!==null?null:f(j,y,""+w,H);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case z:return w.key===ne?h(j,y,w,H):null;case N:return w.key===ne?C(j,y,w,H):null;case de:return w=ba(w),T(j,y,w,H)}if(Xe(w)||me(w))return ne!==null?null:D(j,y,w,H,null);if(typeof w.then=="function")return T(j,y,Ws(w),H);if(w.$$typeof===Q)return T(j,y,Vs(j,w),H);Fs(j,w)}return null}function M(j,y,w,H,ne){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return j=j.get(w)||null,f(y,j,""+H,ne);if(typeof H=="object"&&H!==null){switch(H.$$typeof){case z:return j=j.get(H.key===null?w:H.key)||null,h(y,j,H,ne);case N:return j=j.get(H.key===null?w:H.key)||null,C(y,j,H,ne);case de:return H=ba(H),M(j,y,w,H,ne)}if(Xe(H)||me(H))return j=j.get(w)||null,D(y,j,H,ne,null);if(typeof H.then=="function")return M(j,y,w,Ws(H),ne);if(H.$$typeof===Q)return M(j,y,w,Vs(y,H),ne);Fs(y,H)}return null}function K(j,y,w,H){for(var ne=null,Te=null,P=y,xe=y=0,Ne=null;P!==null&&xe<w.length;xe++){P.index>xe?(Ne=P,P=null):Ne=P.sibling;var Me=T(j,P,w[xe],H);if(Me===null){P===null&&(P=Ne);break}e&&P&&Me.alternate===null&&t(j,P),y=i(Me,y,xe),Te===null?ne=Me:Te.sibling=Me,Te=Me,P=Ne}if(xe===w.length)return l(j,P),Se&&ol(j,xe),ne;if(P===null){for(;xe<w.length;xe++)P=q(j,w[xe],H),P!==null&&(y=i(P,y,xe),Te===null?ne=P:Te.sibling=P,Te=P);return Se&&ol(j,xe),ne}for(P=a(P);xe<w.length;xe++)Ne=M(P,j,xe,w[xe],H),Ne!==null&&(e&&Ne.alternate!==null&&P.delete(Ne.key===null?xe:Ne.key),y=i(Ne,y,xe),Te===null?ne=Ne:Te.sibling=Ne,Te=Ne);return e&&P.forEach(function($l){return t(j,$l)}),Se&&ol(j,xe),ne}function ie(j,y,w,H){if(w==null)throw Error(o(151));for(var ne=null,Te=null,P=y,xe=y=0,Ne=null,Me=w.next();P!==null&&!Me.done;xe++,Me=w.next()){P.index>xe?(Ne=P,P=null):Ne=P.sibling;var $l=T(j,P,Me.value,H);if($l===null){P===null&&(P=Ne);break}e&&P&&$l.alternate===null&&t(j,P),y=i($l,y,xe),Te===null?ne=$l:Te.sibling=$l,Te=$l,P=Ne}if(Me.done)return l(j,P),Se&&ol(j,xe),ne;if(P===null){for(;!Me.done;xe++,Me=w.next())Me=q(j,Me.value,H),Me!==null&&(y=i(Me,y,xe),Te===null?ne=Me:Te.sibling=Me,Te=Me);return Se&&ol(j,xe),ne}for(P=a(P);!Me.done;xe++,Me=w.next())Me=M(P,j,xe,Me.value,H),Me!==null&&(e&&Me.alternate!==null&&P.delete(Me.key===null?xe:Me.key),y=i(Me,y,xe),Te===null?ne=Me:Te.sibling=Me,Te=Me);return e&&P.forEach(function(ch){return t(j,ch)}),Se&&ol(j,xe),ne}function He(j,y,w,H){if(typeof w=="object"&&w!==null&&w.type===A&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case z:e:{for(var ne=w.key;y!==null;){if(y.key===ne){if(ne=w.type,ne===A){if(y.tag===7){l(j,y.sibling),H=s(y,w.props.children),H.return=j,j=H;break e}}else if(y.elementType===ne||typeof ne=="object"&&ne!==null&&ne.$$typeof===de&&ba(ne)===y.type){l(j,y.sibling),H=s(y,w.props),Gn(H,w),H.return=j,j=H;break e}l(j,y);break}else t(j,y);y=y.sibling}w.type===A?(H=da(w.props.children,j.mode,H,w.key),H.return=j,j=H):(H=Qs(w.type,w.key,w.props,null,j.mode,H),Gn(H,w),H.return=j,j=H)}return r(j);case N:e:{for(ne=w.key;y!==null;){if(y.key===ne)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){l(j,y.sibling),H=s(y,w.children||[]),H.return=j,j=H;break e}else{l(j,y);break}else t(j,y);y=y.sibling}H=Mc(w,j.mode,H),H.return=j,j=H}return r(j);case de:return w=ba(w),He(j,y,w,H)}if(Xe(w))return K(j,y,w,H);if(me(w)){if(ne=me(w),typeof ne!="function")throw Error(o(150));return w=ne.call(w),ie(j,y,w,H)}if(typeof w.then=="function")return He(j,y,Ws(w),H);if(w.$$typeof===Q)return He(j,y,Vs(j,w),H);Fs(j,w)}return typeof w=="string"&&w!==""||typeof w=="number"||typeof w=="bigint"?(w=""+w,y!==null&&y.tag===6?(l(j,y.sibling),H=s(y,w),H.return=j,j=H):(l(j,y),H=Tc(w,j.mode,H),H.return=j,j=H),r(j)):l(j,y)}return function(j,y,w,H){try{Yn=0;var ne=He(j,y,w,H);return Fa=null,ne}catch(P){if(P===Wa||P===$s)throw P;var Te=Et(29,P,null,j.mode);return Te.lanes=H,Te.return=j,Te}finally{}}}var ga=Eo(!0),Oo=Eo(!1),_l=!1;function qc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Lc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function zl(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Dl(e,t,l){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Oe&2)!==0){var s=a.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),a.pending=t,t=Gs(e),mo(e,null,l),t}return Ys(e,a,t,l),Gs(e)}function Qn(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,As(e,l)}}function Yc(e,t){var l=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,l===a)){var s=null,i=null;if(l=l.firstBaseUpdate,l!==null){do{var r={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};i===null?s=i=r:i=i.next=r,l=l.next}while(l!==null);i===null?s=i=t:i=i.next=t}else s=i=t;l={baseState:a.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:a.shared,callbacks:a.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var Gc=!1;function Xn(){if(Gc){var e=Ka;if(e!==null)throw e}}function Zn(e,t,l,a){Gc=!1;var s=e.updateQueue;_l=!1;var i=s.firstBaseUpdate,r=s.lastBaseUpdate,f=s.shared.pending;if(f!==null){s.shared.pending=null;var h=f,C=h.next;h.next=null,r===null?i=C:r.next=C,r=h;var D=e.alternate;D!==null&&(D=D.updateQueue,f=D.lastBaseUpdate,f!==r&&(f===null?D.firstBaseUpdate=C:f.next=C,D.lastBaseUpdate=h))}if(i!==null){var q=s.baseState;r=0,D=C=h=null,f=i;do{var T=f.lane&-536870913,M=T!==f.lane;if(M?(je&T)===T:(a&T)===T){T!==0&&T===$a&&(Gc=!0),D!==null&&(D=D.next={lane:0,tag:f.tag,payload:f.payload,callback:null,next:null});e:{var K=e,ie=f;T=t;var He=l;switch(ie.tag){case 1:if(K=ie.payload,typeof K=="function"){q=K.call(He,q,T);break e}q=K;break e;case 3:K.flags=K.flags&-65537|128;case 0:if(K=ie.payload,T=typeof K=="function"?K.call(He,q,T):K,T==null)break e;q=S({},q,T);break e;case 2:_l=!0}}T=f.callback,T!==null&&(e.flags|=64,M&&(e.flags|=8192),M=s.callbacks,M===null?s.callbacks=[T]:M.push(T))}else M={lane:T,tag:f.tag,payload:f.payload,callback:f.callback,next:null},D===null?(C=D=M,h=q):D=D.next=M,r|=T;if(f=f.next,f===null){if(f=s.shared.pending,f===null)break;M=f,f=M.next,M.next=null,s.lastBaseUpdate=M,s.shared.pending=null}}while(!0);D===null&&(h=q),s.baseState=h,s.firstBaseUpdate=C,s.lastBaseUpdate=D,i===null&&(s.shared.lanes=0),Hl|=r,e.lanes=r,e.memoizedState=q}}function _o(e,t){if(typeof e!="function")throw Error(o(191,e));e.call(t)}function zo(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)_o(l[e],t)}var Ia=x(null),Is=x(0);function Do(e,t){e=jl,$(Is,e),$(Ia,t),jl=e|t.baseLanes}function Qc(){$(Is,jl),$(Ia,Ia.current)}function Xc(){jl=Is.current,R(Ia),R(Is)}var Ot=x(null),Yt=null;function Rl(e){var t=e.alternate;$(Ke,Ke.current&1),$(Ot,e),Yt===null&&(t===null||Ia.current!==null||t.memoizedState!==null)&&(Yt=e)}function Zc(e){$(Ke,Ke.current),$(Ot,e),Yt===null&&(Yt=e)}function Ro(e){e.tag===22?($(Ke,Ke.current),$(Ot,e),Yt===null&&(Yt=e)):kl()}function kl(){$(Ke,Ke.current),$(Ot,Ot.current)}function _t(e){R(Ot),Yt===e&&(Yt=null),R(Ke)}var Ke=x(0);function Ps(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Fr(l)||Ir(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ml=0,fe=null,Be=null,Pe=null,ei=!1,Pa=!1,ya=!1,ti=0,Vn=0,en=null,Fm=0;function Ze(){throw Error(o(321))}function Vc(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!At(e[l],t[l]))return!1;return!0}function Jc(e,t,l,a,s,i){return ml=i,fe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_.H=e===null||e.memoizedState===null?pd:rr,ya=!1,i=l(a,s),ya=!1,Pa&&(i=Bo(t,l,a,s)),ko(e),i}function ko(e){_.H=Kn;var t=Be!==null&&Be.next!==null;if(ml=0,Pe=Be=fe=null,ei=!1,Vn=0,en=null,t)throw Error(o(300));e===null||et||(e=e.dependencies,e!==null&&Zs(e)&&(et=!0))}function Bo(e,t,l,a){fe=e;var s=0;do{if(Pa&&(en=null),Vn=0,Pa=!1,25<=s)throw Error(o(301));if(s+=1,Pe=Be=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}_.H=gd,i=t(l,a)}while(Pa);return i}function Im(){var e=_.H,t=e.useState()[0];return t=typeof t.then=="function"?Jn(t):t,e=e.useState()[0],(Be!==null?Be.memoizedState:null)!==e&&(fe.flags|=1024),t}function $c(){var e=ti!==0;return ti=0,e}function Kc(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function Wc(e){if(ei){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}ei=!1}ml=0,Pe=Be=fe=null,Pa=!1,Vn=ti=0,en=null}function vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?fe.memoizedState=Pe=e:Pe=Pe.next=e,Pe}function We(){if(Be===null){var e=fe.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=Pe===null?fe.memoizedState:Pe.next;if(t!==null)Pe=t,Be=e;else{if(e===null)throw fe.alternate===null?Error(o(467)):Error(o(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Pe===null?fe.memoizedState=Pe=e:Pe=Pe.next=e}return Pe}function li(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jn(e){var t=Vn;return Vn+=1,en===null&&(en=[]),e=To(en,e,t),t=fe,(Pe===null?t.memoizedState:Pe.next)===null&&(t=t.alternate,_.H=t===null||t.memoizedState===null?pd:rr),e}function ai(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jn(e);if(e.$$typeof===Q)return ot(e)}throw Error(o(438,String(e)))}function Fc(e){var t=null,l=fe.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var a=fe.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=li(),fe.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),a=0;a<e;a++)l[a]=Je;return t.index++,l}function xl(e,t){return typeof t=="function"?t(e):t}function ni(e){var t=We();return Ic(t,Be,e)}function Ic(e,t,l){var a=e.queue;if(a===null)throw Error(o(311));a.lastRenderedReducer=l;var s=e.baseQueue,i=a.pending;if(i!==null){if(s!==null){var r=s.next;s.next=i.next,i.next=r}t.baseQueue=s=i,a.pending=null}if(i=e.baseState,s===null)e.memoizedState=i;else{t=s.next;var f=r=null,h=null,C=t,D=!1;do{var q=C.lane&-536870913;if(q!==C.lane?(je&q)===q:(ml&q)===q){var T=C.revertLane;if(T===0)h!==null&&(h=h.next={lane:0,revertLane:0,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),q===$a&&(D=!0);else if((ml&T)===T){C=C.next,T===$a&&(D=!0);continue}else q={lane:0,revertLane:C.revertLane,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},h===null?(f=h=q,r=i):h=h.next=q,fe.lanes|=T,Hl|=T;q=C.action,ya&&l(i,q),i=C.hasEagerState?C.eagerState:l(i,q)}else T={lane:q,revertLane:C.revertLane,gesture:C.gesture,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},h===null?(f=h=T,r=i):h=h.next=T,fe.lanes|=q,Hl|=q;C=C.next}while(C!==null&&C!==t);if(h===null?r=i:h.next=f,!At(i,e.memoizedState)&&(et=!0,D&&(l=Ka,l!==null)))throw l;e.memoizedState=i,e.baseState=r,e.baseQueue=h,a.lastRenderedState=i}return s===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Pc(e){var t=We(),l=t.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=e;var a=l.dispatch,s=l.pending,i=t.memoizedState;if(s!==null){l.pending=null;var r=s=s.next;do i=e(i,r.action),r=r.next;while(r!==s);At(i,t.memoizedState)||(et=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),l.lastRenderedState=i}return[i,a]}function Uo(e,t,l){var a=fe,s=We(),i=Se;if(i){if(l===void 0)throw Error(o(407));l=l()}else l=t();var r=!At((Be||s).memoizedState,l);if(r&&(s.memoizedState=l,et=!0),s=s.queue,lr(Lo.bind(null,a,s,e),[e]),s.getSnapshot!==t||r||Pe!==null&&Pe.memoizedState.tag&1){if(a.flags|=2048,tn(9,{destroy:void 0},qo.bind(null,a,s,l,t),null),qe===null)throw Error(o(349));i||(ml&127)!==0||Ho(a,t,l)}return l}function Ho(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=fe.updateQueue,t===null?(t=li(),fe.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function qo(e,t,l,a){t.value=l,t.getSnapshot=a,Yo(t)&&Go(e)}function Lo(e,t,l){return l(function(){Yo(t)&&Go(e)})}function Yo(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!At(e,l)}catch{return!0}}function Go(e){var t=oa(e,2);t!==null&&Mt(t,e,2)}function er(e){var t=vt();if(typeof e=="function"){var l=e;if(e=l(),ya){Vt(!0);try{l()}finally{Vt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:e},t}function Qo(e,t,l,a){return e.baseState=l,Ic(e,Be,typeof a=="function"?a:xl)}function Pm(e,t,l,a,s){if(ci(e))throw Error(o(485));if(e=t.action,e!==null){var i={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(r){i.listeners.push(r)}};_.T!==null?l(!0):i.isTransition=!1,a(i),l=t.pending,l===null?(i.next=t.pending=i,Xo(t,i)):(i.next=l.next,t.pending=l.next=i)}}function Xo(e,t){var l=t.action,a=t.payload,s=e.state;if(t.isTransition){var i=_.T,r={};_.T=r;try{var f=l(s,a),h=_.S;h!==null&&h(r,f),Zo(e,t,f)}catch(C){tr(e,t,C)}finally{i!==null&&r.types!==null&&(i.types=r.types),_.T=i}}else try{i=l(s,a),Zo(e,t,i)}catch(C){tr(e,t,C)}}function Zo(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(a){Vo(e,t,a)},function(a){return tr(e,t,a)}):Vo(e,t,l)}function Vo(e,t,l){t.status="fulfilled",t.value=l,Jo(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,Xo(e,l)))}function tr(e,t,l){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=l,Jo(t),t=t.next;while(t!==a)}e.action=null}function Jo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function $o(e,t){return t}function Ko(e,t){if(Se){var l=qe.formState;if(l!==null){e:{var a=fe;if(Se){if(Le){t:{for(var s=Le,i=Lt;s.nodeType!==8;){if(!i){s=null;break t}if(s=Gt(s.nextSibling),s===null){s=null;break t}}i=s.data,s=i==="F!"||i==="F"?s:null}if(s){Le=Gt(s.nextSibling),a=s.data==="F!";break e}}El(a)}a=!1}a&&(t=l[0])}}return l=vt(),l.memoizedState=l.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:t},l.queue=a,l=xd.bind(null,fe,a),a.dispatch=l,a=er(!1),i=cr.bind(null,fe,!1,a.queue),a=vt(),s={state:t,dispatch:null,action:e,pending:null},a.queue=s,l=Pm.bind(null,fe,s,i,l),s.dispatch=l,a.memoizedState=e,[t,l,!1]}function Wo(e){var t=We();return Fo(t,Be,e)}function Fo(e,t,l){if(t=Ic(e,t,$o)[0],e=ni(xl)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var a=Jn(t)}catch(r){throw r===Wa?$s:r}else a=t;t=We();var s=t.queue,i=s.dispatch;return l!==t.memoizedState&&(fe.flags|=2048,tn(9,{destroy:void 0},ex.bind(null,s,l),null)),[a,i,e]}function ex(e,t){e.action=t}function Io(e){var t=We(),l=Be;if(l!==null)return Fo(t,l,e);We(),t=t.memoizedState,l=We();var a=l.queue.dispatch;return l.memoizedState=e,[t,a,!1]}function tn(e,t,l,a){return e={tag:e,create:l,deps:a,inst:t,next:null},t=fe.updateQueue,t===null&&(t=li(),fe.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(a=l.next,l.next=e,e.next=a,t.lastEffect=e),e}function Po(){return We().memoizedState}function si(e,t,l,a){var s=vt();fe.flags|=e,s.memoizedState=tn(1|t,{destroy:void 0},l,a===void 0?null:a)}function ii(e,t,l,a){var s=We();a=a===void 0?null:a;var i=s.memoizedState.inst;Be!==null&&a!==null&&Vc(a,Be.memoizedState.deps)?s.memoizedState=tn(t,i,l,a):(fe.flags|=e,s.memoizedState=tn(1|t,i,l,a))}function ed(e,t){si(8390656,8,e,t)}function lr(e,t){ii(2048,8,e,t)}function tx(e){fe.flags|=4;var t=fe.updateQueue;if(t===null)t=li(),fe.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function td(e){var t=We().memoizedState;return tx({ref:t,nextImpl:e}),function(){if((Oe&2)!==0)throw Error(o(440));return t.impl.apply(void 0,arguments)}}function ld(e,t){return ii(4,2,e,t)}function ad(e,t){return ii(4,4,e,t)}function nd(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function sd(e,t,l){l=l!=null?l.concat([e]):null,ii(4,4,nd.bind(null,t,e),l)}function ar(){}function id(e,t){var l=We();t=t===void 0?null:t;var a=l.memoizedState;return t!==null&&Vc(t,a[1])?a[0]:(l.memoizedState=[e,t],e)}function cd(e,t){var l=We();t=t===void 0?null:t;var a=l.memoizedState;if(t!==null&&Vc(t,a[1]))return a[0];if(a=e(),ya){Vt(!0);try{e()}finally{Vt(!1)}}return l.memoizedState=[a,t],a}function nr(e,t,l){return l===void 0||(ml&1073741824)!==0&&(je&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=uf(),fe.lanes|=e,Hl|=e,l)}function rd(e,t,l,a){return At(l,t)?l:Ia.current!==null?(e=nr(e,l,a),At(e,t)||(et=!0),e):(ml&42)===0||(ml&1073741824)!==0&&(je&261930)===0?(et=!0,e.memoizedState=l):(e=uf(),fe.lanes|=e,Hl|=e,t)}function ud(e,t,l,a,s){var i=X.p;X.p=i!==0&&8>i?i:8;var r=_.T,f={};_.T=f,cr(e,!1,t,l);try{var h=s(),C=_.S;if(C!==null&&C(f,h),h!==null&&typeof h=="object"&&typeof h.then=="function"){var D=Wm(h,a);$n(e,t,D,Rt(e))}else $n(e,t,a,Rt(e))}catch(q){$n(e,t,{then:function(){},status:"rejected",reason:q},Rt())}finally{X.p=i,r!==null&&f.types!==null&&(r.types=f.types),_.T=r}}function lx(){}function sr(e,t,l,a){if(e.tag!==5)throw Error(o(476));var s=od(e).queue;ud(e,s,t,le,l===null?lx:function(){return dd(e),l(a)})}function od(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:le},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:xl,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function dd(e){var t=od(e);t.next===null&&(t=e.alternate.memoizedState),$n(e,t.next.queue,{},Rt())}function ir(){return ot(ds)}function fd(){return We().memoizedState}function md(){return We().memoizedState}function ax(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Rt();e=zl(l);var a=Dl(t,e,l);a!==null&&(Mt(a,t,l),Qn(a,t,l)),t={cache:kc()},e.payload=t;return}t=t.return}}function nx(e,t,l){var a=Rt();l={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ci(e)?hd(t,l):(l=wc(e,t,l,a),l!==null&&(Mt(l,e,a),bd(l,t,a)))}function xd(e,t,l){var a=Rt();$n(e,t,l,a)}function $n(e,t,l,a){var s={lane:a,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(ci(e))hd(t,s);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var r=t.lastRenderedState,f=i(r,l);if(s.hasEagerState=!0,s.eagerState=f,At(f,r))return Ys(e,t,s,0),qe===null&&Ls(),!1}catch{}finally{}if(l=wc(e,t,s,a),l!==null)return Mt(l,e,a),bd(l,t,a),!0}return!1}function cr(e,t,l,a){if(a={lane:2,revertLane:qr(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},ci(e)){if(t)throw Error(o(479))}else t=wc(e,l,a,2),t!==null&&Mt(t,e,2)}function ci(e){var t=e.alternate;return e===fe||t!==null&&t===fe}function hd(e,t){Pa=ei=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function bd(e,t,l){if((l&4194048)!==0){var a=t.lanes;a&=e.pendingLanes,l|=a,t.lanes=l,As(e,l)}}var Kn={readContext:ot,use:ai,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useLayoutEffect:Ze,useInsertionEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useSyncExternalStore:Ze,useId:Ze,useHostTransitionStatus:Ze,useFormState:Ze,useActionState:Ze,useOptimistic:Ze,useMemoCache:Ze,useCacheRefresh:Ze};Kn.useEffectEvent=Ze;var pd={readContext:ot,use:ai,useCallback:function(e,t){return vt().memoizedState=[e,t===void 0?null:t],e},useContext:ot,useEffect:ed,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,si(4194308,4,nd.bind(null,t,e),l)},useLayoutEffect:function(e,t){return si(4194308,4,e,t)},useInsertionEffect:function(e,t){si(4,2,e,t)},useMemo:function(e,t){var l=vt();t=t===void 0?null:t;var a=e();if(ya){Vt(!0);try{e()}finally{Vt(!1)}}return l.memoizedState=[a,t],a},useReducer:function(e,t,l){var a=vt();if(l!==void 0){var s=l(t);if(ya){Vt(!0);try{l(t)}finally{Vt(!1)}}}else s=t;return a.memoizedState=a.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=nx.bind(null,fe,e),[a.memoizedState,e]},useRef:function(e){var t=vt();return e={current:e},t.memoizedState=e},useState:function(e){e=er(e);var t=e.queue,l=xd.bind(null,fe,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:ar,useDeferredValue:function(e,t){var l=vt();return nr(l,e,t)},useTransition:function(){var e=er(!1);return e=ud.bind(null,fe,e.queue,!0,!1),vt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var a=fe,s=vt();if(Se){if(l===void 0)throw Error(o(407));l=l()}else{if(l=t(),qe===null)throw Error(o(349));(je&127)!==0||Ho(a,t,l)}s.memoizedState=l;var i={value:l,getSnapshot:t};return s.queue=i,ed(Lo.bind(null,a,i,e),[e]),a.flags|=2048,tn(9,{destroy:void 0},qo.bind(null,a,i,l,t),null),l},useId:function(){var e=vt(),t=qe.identifierPrefix;if(Se){var l=It,a=Ft;l=(a&~(1<<32-xt(a)-1)).toString(32)+l,t="_"+t+"R_"+l,l=ti++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=Fm++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:ir,useFormState:Ko,useActionState:Ko,useOptimistic:function(e){var t=vt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=cr.bind(null,fe,!0,l),l.dispatch=t,[e,t]},useMemoCache:Fc,useCacheRefresh:function(){return vt().memoizedState=ax.bind(null,fe)},useEffectEvent:function(e){var t=vt(),l={impl:e};return t.memoizedState=l,function(){if((Oe&2)!==0)throw Error(o(440));return l.impl.apply(void 0,arguments)}}},rr={readContext:ot,use:ai,useCallback:id,useContext:ot,useEffect:lr,useImperativeHandle:sd,useInsertionEffect:ld,useLayoutEffect:ad,useMemo:cd,useReducer:ni,useRef:Po,useState:function(){return ni(xl)},useDebugValue:ar,useDeferredValue:function(e,t){var l=We();return rd(l,Be.memoizedState,e,t)},useTransition:function(){var e=ni(xl)[0],t=We().memoizedState;return[typeof e=="boolean"?e:Jn(e),t]},useSyncExternalStore:Uo,useId:fd,useHostTransitionStatus:ir,useFormState:Wo,useActionState:Wo,useOptimistic:function(e,t){var l=We();return Qo(l,Be,e,t)},useMemoCache:Fc,useCacheRefresh:md};rr.useEffectEvent=td;var gd={readContext:ot,use:ai,useCallback:id,useContext:ot,useEffect:lr,useImperativeHandle:sd,useInsertionEffect:ld,useLayoutEffect:ad,useMemo:cd,useReducer:Pc,useRef:Po,useState:function(){return Pc(xl)},useDebugValue:ar,useDeferredValue:function(e,t){var l=We();return Be===null?nr(l,e,t):rd(l,Be.memoizedState,e,t)},useTransition:function(){var e=Pc(xl)[0],t=We().memoizedState;return[typeof e=="boolean"?e:Jn(e),t]},useSyncExternalStore:Uo,useId:fd,useHostTransitionStatus:ir,useFormState:Io,useActionState:Io,useOptimistic:function(e,t){var l=We();return Be!==null?Qo(l,Be,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:Fc,useCacheRefresh:md};gd.useEffectEvent=td;function ur(e,t,l,a){t=e.memoizedState,l=l(a,t),l=l==null?t:S({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var or={enqueueSetState:function(e,t,l){e=e._reactInternals;var a=Rt(),s=zl(a);s.payload=t,l!=null&&(s.callback=l),t=Dl(e,s,a),t!==null&&(Mt(t,e,a),Qn(t,e,a))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var a=Rt(),s=zl(a);s.tag=1,s.payload=t,l!=null&&(s.callback=l),t=Dl(e,s,a),t!==null&&(Mt(t,e,a),Qn(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Rt(),a=zl(l);a.tag=2,t!=null&&(a.callback=t),t=Dl(e,a,l),t!==null&&(Mt(t,e,l),Qn(t,e,l))}};function yd(e,t,l,a,s,i,r){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,i,r):t.prototype&&t.prototype.isPureReactComponent?!kn(l,a)||!kn(s,i):!0}function vd(e,t,l,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,a),t.state!==e&&or.enqueueReplaceState(t,t.state,null)}function va(e,t){var l=t;if("ref"in t){l={};for(var a in t)a!=="ref"&&(l[a]=t[a])}if(e=e.defaultProps){l===t&&(l=S({},l));for(var s in e)l[s]===void 0&&(l[s]=e[s])}return l}function jd(e){qs(e)}function Nd(e){console.error(e)}function Sd(e){qs(e)}function ri(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function wd(e,t,l){try{var a=e.onCaughtError;a(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function dr(e,t,l){return l=zl(l),l.tag=3,l.payload={element:null},l.callback=function(){ri(e,t)},l}function Cd(e){return e=zl(e),e.tag=3,e}function Td(e,t,l,a){var s=l.type.getDerivedStateFromError;if(typeof s=="function"){var i=a.value;e.payload=function(){return s(i)},e.callback=function(){wd(t,l,a)}}var r=l.stateNode;r!==null&&typeof r.componentDidCatch=="function"&&(e.callback=function(){wd(t,l,a),typeof s!="function"&&(ql===null?ql=new Set([this]):ql.add(this));var f=a.stack;this.componentDidCatch(a.value,{componentStack:f!==null?f:""})})}function sx(e,t,l,a,s){if(l.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=l.alternate,t!==null&&Ja(t,l,s,!0),l=Ot.current,l!==null){switch(l.tag){case 31:case 13:return Yt===null?vi():l.alternate===null&&Ve===0&&(Ve=3),l.flags&=-257,l.flags|=65536,l.lanes=s,a===Ks?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([a]):t.add(a),Br(e,a,s)),!1;case 22:return l.flags|=65536,a===Ks?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([a]):l.add(a)),Br(e,a,s)),!1}throw Error(o(435,l.tag))}return Br(e,a,s),vi(),!1}if(Se)return t=Ot.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=s,a!==Oc&&(e=Error(o(422),{cause:a}),Hn(Ut(e,l)))):(a!==Oc&&(t=Error(o(423),{cause:a}),Hn(Ut(t,l))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,a=Ut(a,l),s=dr(e.stateNode,a,s),Yc(e,s),Ve!==4&&(Ve=2)),!1;var i=Error(o(520),{cause:a});if(i=Ut(i,l),as===null?as=[i]:as.push(i),Ve!==4&&(Ve=2),t===null)return!0;a=Ut(a,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=s&-s,l.lanes|=e,e=dr(l.stateNode,a,e),Yc(l,e),!1;case 1:if(t=l.type,i=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(ql===null||!ql.has(i))))return l.flags|=65536,s&=-s,l.lanes|=s,s=Cd(s),Td(s,e,l,a),Yc(l,s),!1}l=l.return}while(l!==null);return!1}var fr=Error(o(461)),et=!1;function dt(e,t,l,a){t.child=e===null?Oo(t,null,l,a):ga(t,e.child,l,a)}function Md(e,t,l,a,s){l=l.render;var i=t.ref;if("ref"in a){var r={};for(var f in a)f!=="ref"&&(r[f]=a[f])}else r=a;return xa(t),a=Jc(e,t,l,r,i,s),f=$c(),e!==null&&!et?(Kc(e,t,s),hl(e,t,s)):(Se&&f&&Ac(t),t.flags|=1,dt(e,t,a,s),t.child)}function Ad(e,t,l,a,s){if(e===null){var i=l.type;return typeof i=="function"&&!Cc(i)&&i.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=i,Ed(e,t,i,a,s)):(e=Qs(l.type,null,a,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!vr(e,s)){var r=i.memoizedProps;if(l=l.compare,l=l!==null?l:kn,l(r,a)&&e.ref===t.ref)return hl(e,t,s)}return t.flags|=1,e=ul(i,a),e.ref=t.ref,e.return=t,t.child=e}function Ed(e,t,l,a,s){if(e!==null){var i=e.memoizedProps;if(kn(i,a)&&e.ref===t.ref)if(et=!1,t.pendingProps=a=i,vr(e,s))(e.flags&131072)!==0&&(et=!0);else return t.lanes=e.lanes,hl(e,t,s)}return mr(e,t,l,a,s)}function Od(e,t,l,a){var s=a.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|l:l,e!==null){for(a=t.child=e.child,s=0;a!==null;)s=s|a.lanes|a.childLanes,a=a.sibling;a=s&~i}else a=0,t.child=null;return _d(e,t,i,l,a)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Js(t,i!==null?i.cachePool:null),i!==null?Do(t,i):Qc(),Ro(t);else return a=t.lanes=536870912,_d(e,t,i!==null?i.baseLanes|l:l,l,a)}else i!==null?(Js(t,i.cachePool),Do(t,i),kl(),t.memoizedState=null):(e!==null&&Js(t,null),Qc(),kl());return dt(e,t,s,l),t.child}function Wn(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function _d(e,t,l,a,s){var i=Uc();return i=i===null?null:{parent:Ie._currentValue,pool:i},t.memoizedState={baseLanes:l,cachePool:i},e!==null&&Js(t,null),Qc(),Ro(t),e!==null&&Ja(e,t,a,!0),t.childLanes=s,null}function ui(e,t){return t=di({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function zd(e,t,l){return ga(t,e.child,null,l),e=ui(t,t.pendingProps),e.flags|=2,_t(t),t.memoizedState=null,e}function ix(e,t,l){var a=t.pendingProps,s=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Se){if(a.mode==="hidden")return e=ui(t,a),t.lanes=536870912,Wn(null,e);if(Zc(t),(e=Le)?(e=Zf(e,Lt),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ml!==null?{id:Ft,overflow:It}:null,retryLane:536870912,hydrationErrors:null},l=ho(e),l.return=t,t.child=l,ut=t,Le=null)):e=null,e===null)throw El(t);return t.lanes=536870912,null}return ui(t,a)}var i=e.memoizedState;if(i!==null){var r=i.dehydrated;if(Zc(t),s)if(t.flags&256)t.flags&=-257,t=zd(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(o(558));else if(et||Ja(e,t,l,!1),s=(l&e.childLanes)!==0,et||s){if(a=qe,a!==null&&(r=Es(a,l),r!==0&&r!==i.retryLane))throw i.retryLane=r,oa(e,r),Mt(a,e,r),fr;vi(),t=zd(e,t,l)}else e=i.treeContext,Le=Gt(r.nextSibling),ut=t,Se=!0,Al=null,Lt=!1,e!==null&&go(t,e),t=ui(t,a),t.flags|=4096;return t}return e=ul(e.child,{mode:a.mode,children:a.children}),e.ref=t.ref,t.child=e,e.return=t,e}function oi(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(o(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function mr(e,t,l,a,s){return xa(t),l=Jc(e,t,l,a,void 0,s),a=$c(),e!==null&&!et?(Kc(e,t,s),hl(e,t,s)):(Se&&a&&Ac(t),t.flags|=1,dt(e,t,l,s),t.child)}function Dd(e,t,l,a,s,i){return xa(t),t.updateQueue=null,l=Bo(t,a,l,s),ko(e),a=$c(),e!==null&&!et?(Kc(e,t,i),hl(e,t,i)):(Se&&a&&Ac(t),t.flags|=1,dt(e,t,l,i),t.child)}function Rd(e,t,l,a,s){if(xa(t),t.stateNode===null){var i=Qa,r=l.contextType;typeof r=="object"&&r!==null&&(i=ot(r)),i=new l(a,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=or,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=a,i.state=t.memoizedState,i.refs={},qc(t),r=l.contextType,i.context=typeof r=="object"&&r!==null?ot(r):Qa,i.state=t.memoizedState,r=l.getDerivedStateFromProps,typeof r=="function"&&(ur(t,l,r,a),i.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(r=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),r!==i.state&&or.enqueueReplaceState(i,i.state,null),Zn(t,a,i,s),Xn(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){i=t.stateNode;var f=t.memoizedProps,h=va(l,f);i.props=h;var C=i.context,D=l.contextType;r=Qa,typeof D=="object"&&D!==null&&(r=ot(D));var q=l.getDerivedStateFromProps;D=typeof q=="function"||typeof i.getSnapshotBeforeUpdate=="function",f=t.pendingProps!==f,D||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(f||C!==r)&&vd(t,i,a,r),_l=!1;var T=t.memoizedState;i.state=T,Zn(t,a,i,s),Xn(),C=t.memoizedState,f||T!==C||_l?(typeof q=="function"&&(ur(t,l,q,a),C=t.memoizedState),(h=_l||yd(t,l,h,a,T,C,r))?(D||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=C),i.props=a,i.state=C,i.context=r,a=h):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{i=t.stateNode,Lc(e,t),r=t.memoizedProps,D=va(l,r),i.props=D,q=t.pendingProps,T=i.context,C=l.contextType,h=Qa,typeof C=="object"&&C!==null&&(h=ot(C)),f=l.getDerivedStateFromProps,(C=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(r!==q||T!==h)&&vd(t,i,a,h),_l=!1,T=t.memoizedState,i.state=T,Zn(t,a,i,s),Xn();var M=t.memoizedState;r!==q||T!==M||_l||e!==null&&e.dependencies!==null&&Zs(e.dependencies)?(typeof f=="function"&&(ur(t,l,f,a),M=t.memoizedState),(D=_l||yd(t,l,D,a,T,M,h)||e!==null&&e.dependencies!==null&&Zs(e.dependencies))?(C||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,M,h),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,M,h)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=M),i.props=a,i.state=M,i.context=h,a=D):(typeof i.componentDidUpdate!="function"||r===e.memoizedProps&&T===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||r===e.memoizedProps&&T===e.memoizedState||(t.flags|=1024),a=!1)}return i=a,oi(e,t),a=(t.flags&128)!==0,i||a?(i=t.stateNode,l=a&&typeof l.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&a?(t.child=ga(t,e.child,null,s),t.child=ga(t,null,l,s)):dt(e,t,l,s),t.memoizedState=i.state,e=t.child):e=hl(e,t,s),e}function kd(e,t,l,a){return fa(),t.flags|=256,dt(e,t,l,a),t.child}var xr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hr(e){return{baseLanes:e,cachePool:wo()}}function br(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Dt),e}function Bd(e,t,l){var a=t.pendingProps,s=!1,i=(t.flags&128)!==0,r;if((r=i)||(r=e!==null&&e.memoizedState===null?!1:(Ke.current&2)!==0),r&&(s=!0,t.flags&=-129),r=(t.flags&32)!==0,t.flags&=-33,e===null){if(Se){if(s?Rl(t):kl(),(e=Le)?(e=Zf(e,Lt),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Ml!==null?{id:Ft,overflow:It}:null,retryLane:536870912,hydrationErrors:null},l=ho(e),l.return=t,t.child=l,ut=t,Le=null)):e=null,e===null)throw El(t);return Ir(e)?t.lanes=32:t.lanes=536870912,null}var f=a.children;return a=a.fallback,s?(kl(),s=t.mode,f=di({mode:"hidden",children:f},s),a=da(a,s,l,null),f.return=t,a.return=t,f.sibling=a,t.child=f,a=t.child,a.memoizedState=hr(l),a.childLanes=br(e,r,l),t.memoizedState=xr,Wn(null,a)):(Rl(t),pr(t,f))}var h=e.memoizedState;if(h!==null&&(f=h.dehydrated,f!==null)){if(i)t.flags&256?(Rl(t),t.flags&=-257,t=gr(e,t,l)):t.memoizedState!==null?(kl(),t.child=e.child,t.flags|=128,t=null):(kl(),f=a.fallback,s=t.mode,a=di({mode:"visible",children:a.children},s),f=da(f,s,l,null),f.flags|=2,a.return=t,f.return=t,a.sibling=f,t.child=a,ga(t,e.child,null,l),a=t.child,a.memoizedState=hr(l),a.childLanes=br(e,r,l),t.memoizedState=xr,t=Wn(null,a));else if(Rl(t),Ir(f)){if(r=f.nextSibling&&f.nextSibling.dataset,r)var C=r.dgst;r=C,a=Error(o(419)),a.stack="",a.digest=r,Hn({value:a,source:null,stack:null}),t=gr(e,t,l)}else if(et||Ja(e,t,l,!1),r=(l&e.childLanes)!==0,et||r){if(r=qe,r!==null&&(a=Es(r,l),a!==0&&a!==h.retryLane))throw h.retryLane=a,oa(e,a),Mt(r,e,a),fr;Fr(f)||vi(),t=gr(e,t,l)}else Fr(f)?(t.flags|=192,t.child=e.child,t=null):(e=h.treeContext,Le=Gt(f.nextSibling),ut=t,Se=!0,Al=null,Lt=!1,e!==null&&go(t,e),t=pr(t,a.children),t.flags|=4096);return t}return s?(kl(),f=a.fallback,s=t.mode,h=e.child,C=h.sibling,a=ul(h,{mode:"hidden",children:a.children}),a.subtreeFlags=h.subtreeFlags&65011712,C!==null?f=ul(C,f):(f=da(f,s,l,null),f.flags|=2),f.return=t,a.return=t,a.sibling=f,t.child=a,Wn(null,a),a=t.child,f=e.child.memoizedState,f===null?f=hr(l):(s=f.cachePool,s!==null?(h=Ie._currentValue,s=s.parent!==h?{parent:h,pool:h}:s):s=wo(),f={baseLanes:f.baseLanes|l,cachePool:s}),a.memoizedState=f,a.childLanes=br(e,r,l),t.memoizedState=xr,Wn(e.child,a)):(Rl(t),l=e.child,e=l.sibling,l=ul(l,{mode:"visible",children:a.children}),l.return=t,l.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=l,t.memoizedState=null,l)}function pr(e,t){return t=di({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function di(e,t){return e=Et(22,e,null,t),e.lanes=0,e}function gr(e,t,l){return ga(t,e.child,null,l),e=pr(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ud(e,t,l){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Dc(e.return,t,l)}function yr(e,t,l,a,s,i){var r=e.memoizedState;r===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:l,tailMode:s,treeForkCount:i}:(r.isBackwards=t,r.rendering=null,r.renderingStartTime=0,r.last=a,r.tail=l,r.tailMode=s,r.treeForkCount=i)}function Hd(e,t,l){var a=t.pendingProps,s=a.revealOrder,i=a.tail;a=a.children;var r=Ke.current,f=(r&2)!==0;if(f?(r=r&1|2,t.flags|=128):r&=1,$(Ke,r),dt(e,t,a,l),a=Se?Un:0,!f&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ud(e,l,t);else if(e.tag===19)Ud(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(s){case"forwards":for(l=t.child,s=null;l!==null;)e=l.alternate,e!==null&&Ps(e)===null&&(s=l),l=l.sibling;l=s,l===null?(s=t.child,t.child=null):(s=l.sibling,l.sibling=null),yr(t,!1,s,l,i,a);break;case"backwards":case"unstable_legacy-backwards":for(l=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Ps(e)===null){t.child=s;break}e=s.sibling,s.sibling=l,l=s,s=e}yr(t,!0,l,null,i,a);break;case"together":yr(t,!1,null,null,void 0,a);break;default:t.memoizedState=null}return t.child}function hl(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),Hl|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(Ja(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(o(153));if(t.child!==null){for(e=t.child,l=ul(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=ul(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function vr(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Zs(e)))}function cx(e,t,l){switch(t.tag){case 3:it(t,t.stateNode.containerInfo),Ol(t,Ie,e.memoizedState.cache),fa();break;case 27:case 5:ea(t);break;case 4:it(t,t.stateNode.containerInfo);break;case 10:Ol(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Zc(t),null;break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Rl(t),t.flags|=128,null):(l&t.child.childLanes)!==0?Bd(e,t,l):(Rl(t),e=hl(e,t,l),e!==null?e.sibling:null);Rl(t);break;case 19:var s=(e.flags&128)!==0;if(a=(l&t.childLanes)!==0,a||(Ja(e,t,l,!1),a=(l&t.childLanes)!==0),s){if(a)return Hd(e,t,l);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),$(Ke,Ke.current),a)break;return null;case 22:return t.lanes=0,Od(e,t,l,t.pendingProps);case 24:Ol(t,Ie,e.memoizedState.cache)}return hl(e,t,l)}function qd(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)et=!0;else{if(!vr(e,l)&&(t.flags&128)===0)return et=!1,cx(e,t,l);et=(e.flags&131072)!==0}else et=!1,Se&&(t.flags&1048576)!==0&&po(t,Un,t.index);switch(t.lanes=0,t.tag){case 16:e:{var a=t.pendingProps;if(e=ba(t.elementType),t.type=e,typeof e=="function")Cc(e)?(a=va(e,a),t.tag=1,t=Rd(null,t,e,a,l)):(t.tag=0,t=mr(null,t,e,a,l));else{if(e!=null){var s=e.$$typeof;if(s===I){t.tag=11,t=Md(null,t,e,a,l);break e}else if(s===W){t.tag=14,t=Ad(null,t,e,a,l);break e}}throw t=ge(e)||e,Error(o(306,t,""))}}return t;case 0:return mr(e,t,t.type,t.pendingProps,l);case 1:return a=t.type,s=va(a,t.pendingProps),Rd(e,t,a,s,l);case 3:e:{if(it(t,t.stateNode.containerInfo),e===null)throw Error(o(387));a=t.pendingProps;var i=t.memoizedState;s=i.element,Lc(e,t),Zn(t,a,null,l);var r=t.memoizedState;if(a=r.cache,Ol(t,Ie,a),a!==i.cache&&Rc(t,[Ie],l,!0),Xn(),a=r.element,i.isDehydrated)if(i={element:a,isDehydrated:!1,cache:r.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=kd(e,t,a,l);break e}else if(a!==s){s=Ut(Error(o(424)),t),Hn(s),t=kd(e,t,a,l);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Le=Gt(e.firstChild),ut=t,Se=!0,Al=null,Lt=!0,l=Oo(t,null,a,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(fa(),a===s){t=hl(e,t,l);break e}dt(e,t,a,l)}t=t.child}return t;case 26:return oi(e,t),e===null?(l=Ff(t.type,null,t.pendingProps,null))?t.memoizedState=l:Se||(l=t.type,e=t.pendingProps,a=Mi(be.current).createElement(l),a[lt]=t,a[ht]=e,ft(a,l,e),Z(a),t.stateNode=a):t.memoizedState=Ff(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ea(t),e===null&&Se&&(a=t.stateNode=$f(t.type,t.pendingProps,be.current),ut=t,Lt=!0,s=Le,Ql(t.type)?(Pr=s,Le=Gt(a.firstChild)):Le=s),dt(e,t,t.pendingProps.children,l),oi(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Se&&((s=a=Le)&&(a=Ux(a,t.type,t.pendingProps,Lt),a!==null?(t.stateNode=a,ut=t,Le=Gt(a.firstChild),Lt=!1,s=!0):s=!1),s||El(t)),ea(t),s=t.type,i=t.pendingProps,r=e!==null?e.memoizedProps:null,a=i.children,$r(s,i)?a=null:r!==null&&$r(s,r)&&(t.flags|=32),t.memoizedState!==null&&(s=Jc(e,t,Im,null,null,l),ds._currentValue=s),oi(e,t),dt(e,t,a,l),t.child;case 6:return e===null&&Se&&((e=l=Le)&&(l=Hx(l,t.pendingProps,Lt),l!==null?(t.stateNode=l,ut=t,Le=null,e=!0):e=!1),e||El(t)),null;case 13:return Bd(e,t,l);case 4:return it(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=ga(t,null,a,l):dt(e,t,a,l),t.child;case 11:return Md(e,t,t.type,t.pendingProps,l);case 7:return dt(e,t,t.pendingProps,l),t.child;case 8:return dt(e,t,t.pendingProps.children,l),t.child;case 12:return dt(e,t,t.pendingProps.children,l),t.child;case 10:return a=t.pendingProps,Ol(t,t.type,a.value),dt(e,t,a.children,l),t.child;case 9:return s=t.type._context,a=t.pendingProps.children,xa(t),s=ot(s),a=a(s),t.flags|=1,dt(e,t,a,l),t.child;case 14:return Ad(e,t,t.type,t.pendingProps,l);case 15:return Ed(e,t,t.type,t.pendingProps,l);case 19:return Hd(e,t,l);case 31:return ix(e,t,l);case 22:return Od(e,t,l,t.pendingProps);case 24:return xa(t),a=ot(Ie),e===null?(s=Uc(),s===null&&(s=qe,i=kc(),s.pooledCache=i,i.refCount++,i!==null&&(s.pooledCacheLanes|=l),s=i),t.memoizedState={parent:a,cache:s},qc(t),Ol(t,Ie,s)):((e.lanes&l)!==0&&(Lc(e,t),Zn(t,null,null,l),Xn()),s=e.memoizedState,i=t.memoizedState,s.parent!==a?(s={parent:a,cache:a},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Ol(t,Ie,a)):(a=i.cache,Ol(t,Ie,a),a!==s.cache&&Rc(t,[Ie],l,!0))),dt(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function bl(e){e.flags|=4}function jr(e,t,l,a,s){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(s&335544128)===s)if(e.stateNode.complete)e.flags|=8192;else if(mf())e.flags|=8192;else throw pa=Ks,Hc}else e.flags&=-16777217}function Ld(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!l0(t))if(mf())e.flags|=8192;else throw pa=Ks,Hc}function fi(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?_a():536870912,e.lanes|=t,sn|=t)}function Fn(e,t){if(!Se)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var a=null;l!==null;)l.alternate!==null&&(a=l),l=l.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,a=0;if(t)for(var s=e.child;s!==null;)l|=s.lanes|s.childLanes,a|=s.subtreeFlags&65011712,a|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)l|=s.lanes|s.childLanes,a|=s.subtreeFlags,a|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=a,e.childLanes=l,t}function rx(e,t,l){var a=t.pendingProps;switch(Ec(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return Ye(t),null;case 3:return l=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),fl(Ie),Ge(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Va(t)?bl(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,_c())),Ye(t),null;case 26:var s=t.type,i=t.memoizedState;return e===null?(bl(t),i!==null?(Ye(t),Ld(t,i)):(Ye(t),jr(t,s,null,a,l))):i?i!==e.memoizedState?(bl(t),Ye(t),Ld(t,i)):(Ye(t),t.flags&=-16777217):(e=e.memoizedProps,e!==a&&bl(t),Ye(t),jr(t,s,e,a,l)),null;case 27:if(ll(t),l=be.current,s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&bl(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Ye(t),null}e=F.current,Va(t)?yo(t):(e=$f(s,a,l),t.stateNode=e,bl(t))}return Ye(t),null;case 5:if(ll(t),s=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&bl(t);else{if(!a){if(t.stateNode===null)throw Error(o(166));return Ye(t),null}if(i=F.current,Va(t))yo(t);else{var r=Mi(be.current);switch(i){case 1:i=r.createElementNS("http://www.w3.org/2000/svg",s);break;case 2:i=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;default:switch(s){case"svg":i=r.createElementNS("http://www.w3.org/2000/svg",s);break;case"math":i=r.createElementNS("http://www.w3.org/1998/Math/MathML",s);break;case"script":i=r.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof a.is=="string"?r.createElement("select",{is:a.is}):r.createElement("select"),a.multiple?i.multiple=!0:a.size&&(i.size=a.size);break;default:i=typeof a.is=="string"?r.createElement(s,{is:a.is}):r.createElement(s)}}i[lt]=t,i[ht]=a;e:for(r=t.child;r!==null;){if(r.tag===5||r.tag===6)i.appendChild(r.stateNode);else if(r.tag!==4&&r.tag!==27&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=i;e:switch(ft(i,s,a),s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&bl(t)}}return Ye(t),jr(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&bl(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(o(166));if(e=be.current,Va(t)){if(e=t.stateNode,l=t.memoizedProps,a=null,s=ut,s!==null)switch(s.tag){case 27:case 5:a=s.memoizedProps}e[lt]=t,e=!!(e.nodeValue===l||a!==null&&a.suppressHydrationWarning===!0||Uf(e.nodeValue,l)),e||El(t,!0)}else e=Mi(e).createTextNode(a),e[lt]=t,t.stateNode=e}return Ye(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(a=Va(t),l!==null){if(e===null){if(!a)throw Error(o(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[lt]=t}else fa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),e=!1}else l=_c(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(_t(t),t):(_t(t),null);if((t.flags&128)!==0)throw Error(o(558))}return Ye(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Va(t),a!==null&&a.dehydrated!==null){if(e===null){if(!s)throw Error(o(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(o(317));s[lt]=t}else fa(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),s=!1}else s=_c(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(_t(t),t):(_t(t),null)}return _t(t),(t.flags&128)!==0?(t.lanes=l,t):(l=a!==null,e=e!==null&&e.memoizedState!==null,l&&(a=t.child,s=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(s=a.alternate.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==s&&(a.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),fi(t,t.updateQueue),Ye(t),null);case 4:return Ge(),e===null&&Qr(t.stateNode.containerInfo),Ye(t),null;case 10:return fl(t.type),Ye(t),null;case 19:if(R(Ke),a=t.memoizedState,a===null)return Ye(t),null;if(s=(t.flags&128)!==0,i=a.rendering,i===null)if(s)Fn(a,!1);else{if(Ve!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=Ps(e),i!==null){for(t.flags|=128,Fn(a,!1),e=i.updateQueue,t.updateQueue=e,fi(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)xo(l,e),l=l.sibling;return $(Ke,Ke.current&1|2),Se&&ol(t,a.treeForkCount),t.child}e=e.sibling}a.tail!==null&&gt()>pi&&(t.flags|=128,s=!0,Fn(a,!1),t.lanes=4194304)}else{if(!s)if(e=Ps(i),e!==null){if(t.flags|=128,s=!0,e=e.updateQueue,t.updateQueue=e,fi(t,e),Fn(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!Se)return Ye(t),null}else 2*gt()-a.renderingStartTime>pi&&l!==536870912&&(t.flags|=128,s=!0,Fn(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(e=a.last,e!==null?e.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=gt(),e.sibling=null,l=Ke.current,$(Ke,s?l&1|2:l&1),Se&&ol(t,a.treeForkCount),e):(Ye(t),null);case 22:case 23:return _t(t),Xc(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(l&536870912)!==0&&(t.flags&128)===0&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),l=t.updateQueue,l!==null&&fi(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==l&&(t.flags|=2048),e!==null&&R(ha),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),fl(Ie),Ye(t),null;case 25:return null;case 30:return null}throw Error(o(156,t.tag))}function ux(e,t){switch(Ec(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fl(Ie),Ge(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ll(t),null;case 31:if(t.memoizedState!==null){if(_t(t),t.alternate===null)throw Error(o(340));fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(_t(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(o(340));fa()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return R(Ke),null;case 4:return Ge(),null;case 10:return fl(t.type),null;case 22:case 23:return _t(t),Xc(),e!==null&&R(ha),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return fl(Ie),null;case 25:return null;default:return null}}function Yd(e,t){switch(Ec(t),t.tag){case 3:fl(Ie),Ge();break;case 26:case 27:case 5:ll(t);break;case 4:Ge();break;case 31:t.memoizedState!==null&&_t(t);break;case 13:_t(t);break;case 19:R(Ke);break;case 10:fl(t.type);break;case 22:case 23:_t(t),Xc(),e!==null&&R(ha);break;case 24:fl(Ie)}}function In(e,t){try{var l=t.updateQueue,a=l!==null?l.lastEffect:null;if(a!==null){var s=a.next;l=s;do{if((l.tag&e)===e){a=void 0;var i=l.create,r=l.inst;a=i(),r.destroy=a}l=l.next}while(l!==s)}}catch(f){De(t,t.return,f)}}function Bl(e,t,l){try{var a=t.updateQueue,s=a!==null?a.lastEffect:null;if(s!==null){var i=s.next;a=i;do{if((a.tag&e)===e){var r=a.inst,f=r.destroy;if(f!==void 0){r.destroy=void 0,s=t;var h=l,C=f;try{C()}catch(D){De(s,h,D)}}}a=a.next}while(a!==i)}}catch(D){De(t,t.return,D)}}function Gd(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{zo(t,l)}catch(a){De(e,e.return,a)}}}function Qd(e,t,l){l.props=va(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(a){De(e,t,a)}}function Pn(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof l=="function"?e.refCleanup=l(a):l.current=a}}catch(s){De(e,t,s)}}function Pt(e,t){var l=e.ref,a=e.refCleanup;if(l!==null)if(typeof a=="function")try{a()}catch(s){De(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(s){De(e,t,s)}else l.current=null}function Xd(e){var t=e.type,l=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&a.focus();break e;case"img":l.src?a.src=l.src:l.srcSet&&(a.srcset=l.srcSet)}}catch(s){De(e,e.return,s)}}function Nr(e,t,l){try{var a=e.stateNode;_x(a,e.type,l,t),a[ht]=t}catch(s){De(e,e.return,s)}}function Zd(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ql(e.type)||e.tag===4}function Sr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Zd(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ql(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wr(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=cl));else if(a!==4&&(a===27&&Ql(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(wr(e,t,l),e=e.sibling;e!==null;)wr(e,t,l),e=e.sibling}function mi(e,t,l){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(a!==4&&(a===27&&Ql(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(mi(e,t,l),e=e.sibling;e!==null;)mi(e,t,l),e=e.sibling}function Vd(e){var t=e.stateNode,l=e.memoizedProps;try{for(var a=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);ft(t,a,l),t[lt]=e,t[ht]=l}catch(i){De(e,e.return,i)}}var pl=!1,tt=!1,Cr=!1,Jd=typeof WeakSet=="function"?WeakSet:Set,st=null;function ox(e,t){if(e=e.containerInfo,Vr=Ri,e=no(e),gc(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var a=l.getSelection&&l.getSelection();if(a&&a.rangeCount!==0){l=a.anchorNode;var s=a.anchorOffset,i=a.focusNode;a=a.focusOffset;try{l.nodeType,i.nodeType}catch{l=null;break e}var r=0,f=-1,h=-1,C=0,D=0,q=e,T=null;t:for(;;){for(var M;q!==l||s!==0&&q.nodeType!==3||(f=r+s),q!==i||a!==0&&q.nodeType!==3||(h=r+a),q.nodeType===3&&(r+=q.nodeValue.length),(M=q.firstChild)!==null;)T=q,q=M;for(;;){if(q===e)break t;if(T===l&&++C===s&&(f=r),T===i&&++D===a&&(h=r),(M=q.nextSibling)!==null)break;q=T,T=q.parentNode}q=M}l=f===-1||h===-1?null:{start:f,end:h}}else l=null}l=l||{start:0,end:0}}else l=null;for(Jr={focusedElem:e,selectionRange:l},Ri=!1,st=t;st!==null;)if(t=st,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,st=e;else for(;st!==null;){switch(t=st,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)s=e[l],s.ref.impl=s.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,l=t,s=i.memoizedProps,i=i.memoizedState,a=l.stateNode;try{var K=va(l.type,s);e=a.getSnapshotBeforeUpdate(K,i),a.__reactInternalSnapshotBeforeUpdate=e}catch(ie){De(l,l.return,ie)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)Wr(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Wr(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=t.sibling,e!==null){e.return=t.return,st=e;break}st=t.return}}function $d(e,t,l){var a=l.flags;switch(l.tag){case 0:case 11:case 15:yl(e,l),a&4&&In(5,l);break;case 1:if(yl(e,l),a&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(r){De(l,l.return,r)}else{var s=va(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(r){De(l,l.return,r)}}a&64&&Gd(l),a&512&&Pn(l,l.return);break;case 3:if(yl(e,l),a&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{zo(e,t)}catch(r){De(l,l.return,r)}}break;case 27:t===null&&a&4&&Vd(l);case 26:case 5:yl(e,l),t===null&&a&4&&Xd(l),a&512&&Pn(l,l.return);break;case 12:yl(e,l);break;case 31:yl(e,l),a&4&&Fd(e,l);break;case 13:yl(e,l),a&4&&Id(e,l),a&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=yx.bind(null,l),qx(e,l))));break;case 22:if(a=l.memoizedState!==null||pl,!a){t=t!==null&&t.memoizedState!==null||tt,s=pl;var i=tt;pl=a,(tt=t)&&!i?vl(e,l,(l.subtreeFlags&8772)!==0):yl(e,l),pl=s,tt=i}break;case 30:break;default:yl(e,l)}}function Kd(e){var t=e.alternate;t!==null&&(e.alternate=null,Kd(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Cn(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Qe=null,St=!1;function gl(e,t,l){for(l=l.child;l!==null;)Wd(e,t,l),l=l.sibling}function Wd(e,t,l){if(mt&&typeof mt.onCommitFiberUnmount=="function")try{mt.onCommitFiberUnmount(wl,l)}catch{}switch(l.tag){case 26:tt||Pt(l,t),gl(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:tt||Pt(l,t);var a=Qe,s=St;Ql(l.type)&&(Qe=l.stateNode,St=!1),gl(e,t,l),rs(l.stateNode),Qe=a,St=s;break;case 5:tt||Pt(l,t);case 6:if(a=Qe,s=St,Qe=null,gl(e,t,l),Qe=a,St=s,Qe!==null)if(St)try{(Qe.nodeType===9?Qe.body:Qe.nodeName==="HTML"?Qe.ownerDocument.body:Qe).removeChild(l.stateNode)}catch(i){De(l,t,i)}else try{Qe.removeChild(l.stateNode)}catch(i){De(l,t,i)}break;case 18:Qe!==null&&(St?(e=Qe,Qf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),xn(e)):Qf(Qe,l.stateNode));break;case 4:a=Qe,s=St,Qe=l.stateNode.containerInfo,St=!0,gl(e,t,l),Qe=a,St=s;break;case 0:case 11:case 14:case 15:Bl(2,l,t),tt||Bl(4,l,t),gl(e,t,l);break;case 1:tt||(Pt(l,t),a=l.stateNode,typeof a.componentWillUnmount=="function"&&Qd(l,t,a)),gl(e,t,l);break;case 21:gl(e,t,l);break;case 22:tt=(a=tt)||l.memoizedState!==null,gl(e,t,l),tt=a;break;default:gl(e,t,l)}}function Fd(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{xn(e)}catch(l){De(t,t.return,l)}}}function Id(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{xn(e)}catch(l){De(t,t.return,l)}}function dx(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Jd),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Jd),t;default:throw Error(o(435,e.tag))}}function xi(e,t){var l=dx(e);t.forEach(function(a){if(!l.has(a)){l.add(a);var s=vx.bind(null,e,a);a.then(s,s)}})}function wt(e,t){var l=t.deletions;if(l!==null)for(var a=0;a<l.length;a++){var s=l[a],i=e,r=t,f=r;e:for(;f!==null;){switch(f.tag){case 27:if(Ql(f.type)){Qe=f.stateNode,St=!1;break e}break;case 5:Qe=f.stateNode,St=!1;break e;case 3:case 4:Qe=f.stateNode.containerInfo,St=!0;break e}f=f.return}if(Qe===null)throw Error(o(160));Wd(i,r,s),Qe=null,St=!1,i=s.alternate,i!==null&&(i.return=null),s.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Pd(t,e),t=t.sibling}var $t=null;function Pd(e,t){var l=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wt(t,e),Ct(e),a&4&&(Bl(3,e,e.return),In(3,e),Bl(5,e,e.return));break;case 1:wt(t,e),Ct(e),a&512&&(tt||l===null||Pt(l,l.return)),a&64&&pl&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?a:l.concat(a))));break;case 26:var s=$t;if(wt(t,e),Ct(e),a&512&&(tt||l===null||Pt(l,l.return)),a&4){var i=l!==null?l.memoizedState:null;if(a=e.memoizedState,l===null)if(a===null)if(e.stateNode===null){e:{a=e.type,l=e.memoizedProps,s=s.ownerDocument||s;t:switch(a){case"title":i=s.getElementsByTagName("title")[0],(!i||i[sa]||i[lt]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=s.createElement(a),s.head.insertBefore(i,s.querySelector("head > title"))),ft(i,a,l),i[lt]=e,Z(i),a=i;break e;case"link":var r=e0("link","href",s).get(a+(l.href||""));if(r){for(var f=0;f<r.length;f++)if(i=r[f],i.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&i.getAttribute("rel")===(l.rel==null?null:l.rel)&&i.getAttribute("title")===(l.title==null?null:l.title)&&i.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){r.splice(f,1);break t}}i=s.createElement(a),ft(i,a,l),s.head.appendChild(i);break;case"meta":if(r=e0("meta","content",s).get(a+(l.content||""))){for(f=0;f<r.length;f++)if(i=r[f],i.getAttribute("content")===(l.content==null?null:""+l.content)&&i.getAttribute("name")===(l.name==null?null:l.name)&&i.getAttribute("property")===(l.property==null?null:l.property)&&i.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&i.getAttribute("charset")===(l.charSet==null?null:l.charSet)){r.splice(f,1);break t}}i=s.createElement(a),ft(i,a,l),s.head.appendChild(i);break;default:throw Error(o(468,a))}i[lt]=e,Z(i),a=i}e.stateNode=a}else t0(s,e.type,e.stateNode);else e.stateNode=Pf(s,a,e.memoizedProps);else i!==a?(i===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):i.count--,a===null?t0(s,e.type,e.stateNode):Pf(s,a,e.memoizedProps)):a===null&&e.stateNode!==null&&Nr(e,e.memoizedProps,l.memoizedProps)}break;case 27:wt(t,e),Ct(e),a&512&&(tt||l===null||Pt(l,l.return)),l!==null&&a&4&&Nr(e,e.memoizedProps,l.memoizedProps);break;case 5:if(wt(t,e),Ct(e),a&512&&(tt||l===null||Pt(l,l.return)),e.flags&32){s=e.stateNode;try{Ba(s,"")}catch(K){De(e,e.return,K)}}a&4&&e.stateNode!=null&&(s=e.memoizedProps,Nr(e,s,l!==null?l.memoizedProps:s)),a&1024&&(Cr=!0);break;case 6:if(wt(t,e),Ct(e),a&4){if(e.stateNode===null)throw Error(o(162));a=e.memoizedProps,l=e.stateNode;try{l.nodeValue=a}catch(K){De(e,e.return,K)}}break;case 3:if(Oi=null,s=$t,$t=Ai(t.containerInfo),wt(t,e),$t=s,Ct(e),a&4&&l!==null&&l.memoizedState.isDehydrated)try{xn(t.containerInfo)}catch(K){De(e,e.return,K)}Cr&&(Cr=!1,ef(e));break;case 4:a=$t,$t=Ai(e.stateNode.containerInfo),wt(t,e),Ct(e),$t=a;break;case 12:wt(t,e),Ct(e);break;case 31:wt(t,e),Ct(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,xi(e,a)));break;case 13:wt(t,e),Ct(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(bi=gt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,xi(e,a)));break;case 22:s=e.memoizedState!==null;var h=l!==null&&l.memoizedState!==null,C=pl,D=tt;if(pl=C||s,tt=D||h,wt(t,e),tt=D,pl=C,Ct(e),a&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(l===null||h||pl||tt||ja(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){h=l=t;try{if(i=h.stateNode,s)r=i.style,typeof r.setProperty=="function"?r.setProperty("display","none","important"):r.display="none";else{f=h.stateNode;var q=h.memoizedProps.style,T=q!=null&&q.hasOwnProperty("display")?q.display:null;f.style.display=T==null||typeof T=="boolean"?"":(""+T).trim()}}catch(K){De(h,h.return,K)}}}else if(t.tag===6){if(l===null){h=t;try{h.stateNode.nodeValue=s?"":h.memoizedProps}catch(K){De(h,h.return,K)}}}else if(t.tag===18){if(l===null){h=t;try{var M=h.stateNode;s?Xf(M,!0):Xf(h.stateNode,!1)}catch(K){De(h,h.return,K)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(l=a.retryQueue,l!==null&&(a.retryQueue=null,xi(e,l))));break;case 19:wt(t,e),Ct(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,xi(e,a)));break;case 30:break;case 21:break;default:wt(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{for(var l,a=e.return;a!==null;){if(Zd(a)){l=a;break}a=a.return}if(l==null)throw Error(o(160));switch(l.tag){case 27:var s=l.stateNode,i=Sr(e);mi(e,i,s);break;case 5:var r=l.stateNode;l.flags&32&&(Ba(r,""),l.flags&=-33);var f=Sr(e);mi(e,f,r);break;case 3:case 4:var h=l.stateNode.containerInfo,C=Sr(e);wr(e,C,h);break;default:throw Error(o(161))}}catch(D){De(e,e.return,D)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function ef(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;ef(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function yl(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)$d(e,t.alternate,t),t=t.sibling}function ja(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Bl(4,t,t.return),ja(t);break;case 1:Pt(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&Qd(t,t.return,l),ja(t);break;case 27:rs(t.stateNode);case 26:case 5:Pt(t,t.return),ja(t);break;case 22:t.memoizedState===null&&ja(t);break;case 30:ja(t);break;default:ja(t)}e=e.sibling}}function vl(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,s=e,i=t,r=i.flags;switch(i.tag){case 0:case 11:case 15:vl(s,i,l),In(4,i);break;case 1:if(vl(s,i,l),a=i,s=a.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(C){De(a,a.return,C)}if(a=i,s=a.updateQueue,s!==null){var f=a.stateNode;try{var h=s.shared.hiddenCallbacks;if(h!==null)for(s.shared.hiddenCallbacks=null,s=0;s<h.length;s++)_o(h[s],f)}catch(C){De(a,a.return,C)}}l&&r&64&&Gd(i),Pn(i,i.return);break;case 27:Vd(i);case 26:case 5:vl(s,i,l),l&&a===null&&r&4&&Xd(i),Pn(i,i.return);break;case 12:vl(s,i,l);break;case 31:vl(s,i,l),l&&r&4&&Fd(s,i);break;case 13:vl(s,i,l),l&&r&4&&Id(s,i);break;case 22:i.memoizedState===null&&vl(s,i,l),Pn(i,i.return);break;case 30:break;default:vl(s,i,l)}t=t.sibling}}function Tr(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&qn(l))}function Mr(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&qn(e))}function Kt(e,t,l,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)tf(e,t,l,a),t=t.sibling}function tf(e,t,l,a){var s=t.flags;switch(t.tag){case 0:case 11:case 15:Kt(e,t,l,a),s&2048&&In(9,t);break;case 1:Kt(e,t,l,a);break;case 3:Kt(e,t,l,a),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&qn(e)));break;case 12:if(s&2048){Kt(e,t,l,a),e=t.stateNode;try{var i=t.memoizedProps,r=i.id,f=i.onPostCommit;typeof f=="function"&&f(r,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(h){De(t,t.return,h)}}else Kt(e,t,l,a);break;case 31:Kt(e,t,l,a);break;case 13:Kt(e,t,l,a);break;case 23:break;case 22:i=t.stateNode,r=t.alternate,t.memoizedState!==null?i._visibility&2?Kt(e,t,l,a):es(e,t):i._visibility&2?Kt(e,t,l,a):(i._visibility|=2,ln(e,t,l,a,(t.subtreeFlags&10256)!==0||!1)),s&2048&&Tr(r,t);break;case 24:Kt(e,t,l,a),s&2048&&Mr(t.alternate,t);break;default:Kt(e,t,l,a)}}function ln(e,t,l,a,s){for(s=s&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,r=t,f=l,h=a,C=r.flags;switch(r.tag){case 0:case 11:case 15:ln(i,r,f,h,s),In(8,r);break;case 23:break;case 22:var D=r.stateNode;r.memoizedState!==null?D._visibility&2?ln(i,r,f,h,s):es(i,r):(D._visibility|=2,ln(i,r,f,h,s)),s&&C&2048&&Tr(r.alternate,r);break;case 24:ln(i,r,f,h,s),s&&C&2048&&Mr(r.alternate,r);break;default:ln(i,r,f,h,s)}t=t.sibling}}function es(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,a=t,s=a.flags;switch(a.tag){case 22:es(l,a),s&2048&&Tr(a.alternate,a);break;case 24:es(l,a),s&2048&&Mr(a.alternate,a);break;default:es(l,a)}t=t.sibling}}var ts=8192;function an(e,t,l){if(e.subtreeFlags&ts)for(e=e.child;e!==null;)lf(e,t,l),e=e.sibling}function lf(e,t,l){switch(e.tag){case 26:an(e,t,l),e.flags&ts&&e.memoizedState!==null&&Fx(l,$t,e.memoizedState,e.memoizedProps);break;case 5:an(e,t,l);break;case 3:case 4:var a=$t;$t=Ai(e.stateNode.containerInfo),an(e,t,l),$t=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=ts,ts=16777216,an(e,t,l),ts=a):an(e,t,l));break;default:an(e,t,l)}}function af(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ls(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];st=a,sf(a,e)}af(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)nf(e),e=e.sibling}function nf(e){switch(e.tag){case 0:case 11:case 15:ls(e),e.flags&2048&&Bl(9,e,e.return);break;case 3:ls(e);break;case 12:ls(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,hi(e)):ls(e);break;default:ls(e)}}function hi(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var a=t[l];st=a,sf(a,e)}af(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Bl(8,t,t.return),hi(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,hi(t));break;default:hi(t)}e=e.sibling}}function sf(e,t){for(;st!==null;){var l=st;switch(l.tag){case 0:case 11:case 15:Bl(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var a=l.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:qn(l.memoizedState.cache)}if(a=l.child,a!==null)a.return=l,st=a;else e:for(l=e;st!==null;){a=st;var s=a.sibling,i=a.return;if(Kd(a),a===l){st=null;break e}if(s!==null){s.return=i,st=s;break e}st=i}}}var fx={getCacheForType:function(e){var t=ot(Ie),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return ot(Ie).controller.signal}},mx=typeof WeakMap=="function"?WeakMap:Map,Oe=0,qe=null,ye=null,je=0,ze=0,zt=null,Ul=!1,nn=!1,Ar=!1,jl=0,Ve=0,Hl=0,Na=0,Er=0,Dt=0,sn=0,as=null,Tt=null,Or=!1,bi=0,cf=0,pi=1/0,gi=null,ql=null,at=0,Ll=null,cn=null,Nl=0,_r=0,zr=null,rf=null,ns=0,Dr=null;function Rt(){return(Oe&2)!==0&&je!==0?je&-je:_.T!==null?qr():Os()}function uf(){if(Dt===0)if((je&536870912)===0||Se){var e=Aa;Aa<<=1,(Aa&3932160)===0&&(Aa=262144),Dt=e}else Dt=536870912;return e=Ot.current,e!==null&&(e.flags|=32),Dt}function Mt(e,t,l){(e===qe&&(ze===2||ze===9)||e.cancelPendingCommit!==null)&&(rn(e,0),Yl(e,je,Dt,!1)),na(e,l),((Oe&2)===0||e!==qe)&&(e===qe&&((Oe&2)===0&&(Na|=l),Ve===4&&Yl(e,je,Dt,!1)),el(e))}function of(e,t,l){if((Oe&6)!==0)throw Error(o(327));var a=!l&&(t&127)===0&&(t&e.expiredLanes)===0||aa(e,t),s=a?bx(e,t):kr(e,t,!0),i=a;do{if(s===0){nn&&!a&&Yl(e,t,0,!1);break}else{if(l=e.current.alternate,i&&!xx(l)){s=kr(e,t,!1),i=!1;continue}if(s===2){if(i=t,e.errorRecoveryDisabledLanes&i)var r=0;else r=e.pendingLanes&-536870913,r=r!==0?r:r&536870912?536870912:0;if(r!==0){t=r;e:{var f=e;s=as;var h=f.current.memoizedState.isDehydrated;if(h&&(rn(f,r).flags|=256),r=kr(f,r,!1),r!==2){if(Ar&&!h){f.errorRecoveryDisabledLanes|=i,Na|=i,s=4;break e}i=Tt,Tt=s,i!==null&&(Tt===null?Tt=i:Tt.push.apply(Tt,i))}s=r}if(i=!1,s!==2)continue}}if(s===1){rn(e,0),Yl(e,t,0,!0);break}e:{switch(a=e,i=s,i){case 0:case 1:throw Error(o(345));case 4:if((t&4194048)!==t)break;case 6:Yl(a,t,Dt,!Ul);break e;case 2:Tt=null;break;case 3:case 5:break;default:throw Error(o(329))}if((t&62914560)===t&&(s=bi+300-gt(),10<s)){if(Yl(a,t,Dt,!Ul),Oa(a,0,!0)!==0)break e;Nl=t,a.timeoutHandle=Yf(df.bind(null,a,l,Tt,gi,Or,t,Dt,Na,sn,Ul,i,"Throttled",-0,0),s);break e}df(a,l,Tt,gi,Or,t,Dt,Na,sn,Ul,i,null,-0,0)}}break}while(!0);el(e)}function df(e,t,l,a,s,i,r,f,h,C,D,q,T,M){if(e.timeoutHandle=-1,q=t.subtreeFlags,q&8192||(q&16785408)===16785408){q={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:cl},lf(t,i,q);var K=(i&62914560)===i?bi-gt():(i&4194048)===i?cf-gt():0;if(K=Ix(q,K),K!==null){Nl=i,e.cancelPendingCommit=K(yf.bind(null,e,t,i,l,a,s,r,f,h,D,q,null,T,M)),Yl(e,i,r,!C);return}}yf(e,t,i,l,a,s,r,f,h)}function xx(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var a=0;a<l.length;a++){var s=l[a],i=s.getSnapshot;s=s.value;try{if(!At(i(),s))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yl(e,t,l,a){t&=~Er,t&=~Na,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var s=t;0<s;){var i=31-xt(s),r=1<<i;a[i]=-1,s&=~r}l!==0&&Ms(e,l,t)}function yi(){return(Oe&6)===0?(ss(0),!1):!0}function Rr(){if(ye!==null){if(ze===0)var e=ye.return;else e=ye,dl=ma=null,Wc(e),Fa=null,Yn=0,e=ye;for(;e!==null;)Yd(e.alternate,e),e=e.return;ye=null}}function rn(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Rx(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),Nl=0,Rr(),qe=e,ye=l=ul(e.current,null),je=t,ze=0,zt=null,Ul=!1,nn=aa(e,t),Ar=!1,sn=Dt=Er=Na=Hl=Ve=0,Tt=as=null,Or=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var s=31-xt(a),i=1<<s;t|=e[s],a&=~i}return jl=t,Ls(),l}function ff(e,t){fe=null,_.H=Kn,t===Wa||t===$s?(t=Mo(),ze=3):t===Hc?(t=Mo(),ze=4):ze=t===fr?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,zt=t,ye===null&&(Ve=1,ri(e,Ut(t,e.current)))}function mf(){var e=Ot.current;return e===null?!0:(je&4194048)===je?Yt===null:(je&62914560)===je||(je&536870912)!==0?e===Yt:!1}function xf(){var e=_.H;return _.H=Kn,e===null?Kn:e}function hf(){var e=_.A;return _.A=fx,e}function vi(){Ve=4,Ul||(je&4194048)!==je&&Ot.current!==null||(nn=!0),(Hl&134217727)===0&&(Na&134217727)===0||qe===null||Yl(qe,je,Dt,!1)}function kr(e,t,l){var a=Oe;Oe|=2;var s=xf(),i=hf();(qe!==e||je!==t)&&(gi=null,rn(e,t)),t=!1;var r=Ve;e:do try{if(ze!==0&&ye!==null){var f=ye,h=zt;switch(ze){case 8:Rr(),r=6;break e;case 3:case 2:case 9:case 6:Ot.current===null&&(t=!0);var C=ze;if(ze=0,zt=null,un(e,f,h,C),l&&nn){r=0;break e}break;default:C=ze,ze=0,zt=null,un(e,f,h,C)}}hx(),r=Ve;break}catch(D){ff(e,D)}while(!0);return t&&e.shellSuspendCounter++,dl=ma=null,Oe=a,_.H=s,_.A=i,ye===null&&(qe=null,je=0,Ls()),r}function hx(){for(;ye!==null;)bf(ye)}function bx(e,t){var l=Oe;Oe|=2;var a=xf(),s=hf();qe!==e||je!==t?(gi=null,pi=gt()+500,rn(e,t)):nn=aa(e,t);e:do try{if(ze!==0&&ye!==null){t=ye;var i=zt;t:switch(ze){case 1:ze=0,zt=null,un(e,t,i,1);break;case 2:case 9:if(Co(i)){ze=0,zt=null,pf(t);break}t=function(){ze!==2&&ze!==9||qe!==e||(ze=7),el(e)},i.then(t,t);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:Co(i)?(ze=0,zt=null,pf(t)):(ze=0,zt=null,un(e,t,i,7));break;case 5:var r=null;switch(ye.tag){case 26:r=ye.memoizedState;case 5:case 27:var f=ye;if(r?l0(r):f.stateNode.complete){ze=0,zt=null;var h=f.sibling;if(h!==null)ye=h;else{var C=f.return;C!==null?(ye=C,ji(C)):ye=null}break t}}ze=0,zt=null,un(e,t,i,5);break;case 6:ze=0,zt=null,un(e,t,i,6);break;case 8:Rr(),Ve=6;break e;default:throw Error(o(462))}}px();break}catch(D){ff(e,D)}while(!0);return dl=ma=null,_.H=a,_.A=s,Oe=l,ye!==null?0:(qe=null,je=0,Ls(),Ve)}function px(){for(;ye!==null&&!Ns();)bf(ye)}function bf(e){var t=qd(e.alternate,e,jl);e.memoizedProps=e.pendingProps,t===null?ji(e):ye=t}function pf(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=Dd(l,t,t.pendingProps,t.type,void 0,je);break;case 11:t=Dd(l,t,t.pendingProps,t.type.render,t.ref,je);break;case 5:Wc(t);default:Yd(l,t),t=ye=xo(t,jl),t=qd(l,t,jl)}e.memoizedProps=e.pendingProps,t===null?ji(e):ye=t}function un(e,t,l,a){dl=ma=null,Wc(t),Fa=null,Yn=0;var s=t.return;try{if(sx(e,s,t,l,je)){Ve=1,ri(e,Ut(l,e.current)),ye=null;return}}catch(i){if(s!==null)throw ye=s,i;Ve=1,ri(e,Ut(l,e.current)),ye=null;return}t.flags&32768?(Se||a===1?e=!0:nn||(je&536870912)!==0?e=!1:(Ul=e=!0,(a===2||a===9||a===3||a===6)&&(a=Ot.current,a!==null&&a.tag===13&&(a.flags|=16384))),gf(t,e)):ji(t)}function ji(e){var t=e;do{if((t.flags&32768)!==0){gf(t,Ul);return}e=t.return;var l=rx(t.alternate,t,jl);if(l!==null){ye=l;return}if(t=t.sibling,t!==null){ye=t;return}ye=t=e}while(t!==null);Ve===0&&(Ve=5)}function gf(e,t){do{var l=ux(e.alternate,e);if(l!==null){l.flags&=32767,ye=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){ye=e;return}ye=e=l}while(e!==null);Ve=6,ye=null}function yf(e,t,l,a,s,i,r,f,h){e.cancelPendingCommit=null;do Ni();while(at!==0);if((Oe&6)!==0)throw Error(o(327));if(t!==null){if(t===e.current)throw Error(o(177));if(i=t.lanes|t.childLanes,i|=Sc,ec(e,l,i,r,f,h),e===qe&&(ye=qe=null,je=0),cn=t,Ll=e,Nl=l,_r=i,zr=s,rf=a,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,jx(Ta,function(){return wf(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||a){a=_.T,_.T=null,s=X.p,X.p=2,r=Oe,Oe|=4;try{ox(e,t,l)}finally{Oe=r,X.p=s,_.T=a}}at=1,vf(),jf(),Nf()}}function vf(){if(at===1){at=0;var e=Ll,t=cn,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=_.T,_.T=null;var a=X.p;X.p=2;var s=Oe;Oe|=4;try{Pd(t,e);var i=Jr,r=no(e.containerInfo),f=i.focusedElem,h=i.selectionRange;if(r!==f&&f&&f.ownerDocument&&ao(f.ownerDocument.documentElement,f)){if(h!==null&&gc(f)){var C=h.start,D=h.end;if(D===void 0&&(D=C),"selectionStart"in f)f.selectionStart=C,f.selectionEnd=Math.min(D,f.value.length);else{var q=f.ownerDocument||document,T=q&&q.defaultView||window;if(T.getSelection){var M=T.getSelection(),K=f.textContent.length,ie=Math.min(h.start,K),He=h.end===void 0?ie:Math.min(h.end,K);!M.extend&&ie>He&&(r=He,He=ie,ie=r);var j=lo(f,ie),y=lo(f,He);if(j&&y&&(M.rangeCount!==1||M.anchorNode!==j.node||M.anchorOffset!==j.offset||M.focusNode!==y.node||M.focusOffset!==y.offset)){var w=q.createRange();w.setStart(j.node,j.offset),M.removeAllRanges(),ie>He?(M.addRange(w),M.extend(y.node,y.offset)):(w.setEnd(y.node,y.offset),M.addRange(w))}}}}for(q=[],M=f;M=M.parentNode;)M.nodeType===1&&q.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<q.length;f++){var H=q[f];H.element.scrollLeft=H.left,H.element.scrollTop=H.top}}Ri=!!Vr,Jr=Vr=null}finally{Oe=s,X.p=a,_.T=l}}e.current=t,at=2}}function jf(){if(at===2){at=0;var e=Ll,t=cn,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=_.T,_.T=null;var a=X.p;X.p=2;var s=Oe;Oe|=4;try{$d(e,t.alternate,t)}finally{Oe=s,X.p=a,_.T=l}}at=3}}function Nf(){if(at===4||at===3){at=0,gn();var e=Ll,t=cn,l=Nl,a=rf;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?at=5:(at=0,cn=Ll=null,Sf(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(ql=null),Sn(l),t=t.stateNode,mt&&typeof mt.onCommitFiberRoot=="function")try{mt.onCommitFiberRoot(wl,t,void 0,(t.current.flags&128)===128)}catch{}if(a!==null){t=_.T,s=X.p,X.p=2,_.T=null;try{for(var i=e.onRecoverableError,r=0;r<a.length;r++){var f=a[r];i(f.value,{componentStack:f.stack})}}finally{_.T=t,X.p=s}}(Nl&3)!==0&&Ni(),el(e),s=e.pendingLanes,(l&261930)!==0&&(s&42)!==0?e===Dr?ns++:(ns=0,Dr=e):ns=0,ss(0)}}function Sf(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,qn(t)))}function Ni(){return vf(),jf(),Nf(),wf()}function wf(){if(at!==5)return!1;var e=Ll,t=_r;_r=0;var l=Sn(Nl),a=_.T,s=X.p;try{X.p=32>l?32:l,_.T=null,l=zr,zr=null;var i=Ll,r=Nl;if(at=0,cn=Ll=null,Nl=0,(Oe&6)!==0)throw Error(o(331));var f=Oe;if(Oe|=4,nf(i.current),tf(i,i.current,r,l),Oe=f,ss(0,!1),mt&&typeof mt.onPostCommitFiberRoot=="function")try{mt.onPostCommitFiberRoot(wl,i)}catch{}return!0}finally{X.p=s,_.T=a,Sf(e,t)}}function Cf(e,t,l){t=Ut(l,t),t=dr(e.stateNode,t,2),e=Dl(e,t,2),e!==null&&(na(e,2),el(e))}function De(e,t,l){if(e.tag===3)Cf(e,e,l);else for(;t!==null;){if(t.tag===3){Cf(t,e,l);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ql===null||!ql.has(a))){e=Ut(l,e),l=Cd(2),a=Dl(t,l,2),a!==null&&(Td(l,a,t,e),na(a,2),el(a));break}}t=t.return}}function Br(e,t,l){var a=e.pingCache;if(a===null){a=e.pingCache=new mx;var s=new Set;a.set(t,s)}else s=a.get(t),s===void 0&&(s=new Set,a.set(t,s));s.has(l)||(Ar=!0,s.add(l),e=gx.bind(null,e,t,l),t.then(e,e))}function gx(e,t,l){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,qe===e&&(je&l)===l&&(Ve===4||Ve===3&&(je&62914560)===je&&300>gt()-bi?(Oe&2)===0&&rn(e,0):Er|=l,sn===je&&(sn=0)),el(e)}function Tf(e,t){t===0&&(t=_a()),e=oa(e,t),e!==null&&(na(e,t),el(e))}function yx(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),Tf(e,l)}function vx(e,t){var l=0;switch(e.tag){case 31:case 13:var a=e.stateNode,s=e.memoizedState;s!==null&&(l=s.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(o(314))}a!==null&&a.delete(t),Tf(e,l)}function jx(e,t){return nl(e,t)}var Si=null,on=null,Ur=!1,wi=!1,Hr=!1,Gl=0;function el(e){e!==on&&e.next===null&&(on===null?Si=on=e:on=on.next=e),wi=!0,Ur||(Ur=!0,Sx())}function ss(e,t){if(!Hr&&wi){Hr=!0;do for(var l=!1,a=Si;a!==null;){if(e!==0){var s=a.pendingLanes;if(s===0)var i=0;else{var r=a.suspendedLanes,f=a.pingedLanes;i=(1<<31-xt(42|e)+1)-1,i&=s&~(r&~f),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(l=!0,Of(a,i))}else i=je,i=Oa(a,a===qe?i:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(i&3)===0||aa(a,i)||(l=!0,Of(a,i));a=a.next}while(l);Hr=!1}}function Nx(){Mf()}function Mf(){wi=Ur=!1;var e=0;Gl!==0&&Dx()&&(e=Gl);for(var t=gt(),l=null,a=Si;a!==null;){var s=a.next,i=Af(a,t);i===0?(a.next=null,l===null?Si=s:l.next=s,s===null&&(on=l)):(l=a,(e!==0||(i&3)!==0)&&(wi=!0)),a=s}at!==0&&at!==5||ss(e),Gl!==0&&(Gl=0)}function Af(e,t){for(var l=e.suspendedLanes,a=e.pingedLanes,s=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var r=31-xt(i),f=1<<r,h=s[r];h===-1?((f&l)===0||(f&a)!==0)&&(s[r]=Ts(f,t)):h<=t&&(e.expiredLanes|=f),i&=~f}if(t=qe,l=je,l=Oa(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,l===0||e===t&&(ze===2||ze===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&Ca(a),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||aa(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(a!==null&&Ca(a),Sn(l)){case 2:case 8:l=Ss;break;case 32:l=Ta;break;case 268435456:l=vn;break;default:l=Ta}return a=Ef.bind(null,e),l=nl(l,a),e.callbackPriority=t,e.callbackNode=l,t}return a!==null&&a!==null&&Ca(a),e.callbackPriority=2,e.callbackNode=null,2}function Ef(e,t){if(at!==0&&at!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Ni()&&e.callbackNode!==l)return null;var a=je;return a=Oa(e,e===qe?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(of(e,a,t),Af(e,gt()),e.callbackNode!=null&&e.callbackNode===l?Ef.bind(null,e):null)}function Of(e,t){if(Ni())return null;of(e,t,!0)}function Sx(){kx(function(){(Oe&6)!==0?nl(Wi,Nx):Mf()})}function qr(){if(Gl===0){var e=$a;e===0&&(e=Ma,Ma<<=1,(Ma&261888)===0&&(Ma=256)),Gl=e}return Gl}function _f(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:zs(""+e)}function zf(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function wx(e,t,l,a,s){if(t==="submit"&&l&&l.stateNode===s){var i=_f((s[ht]||null).action),r=a.submitter;r&&(t=(t=r[ht]||null)?_f(t.formAction):r.getAttribute("formAction"),t!==null&&(i=t,r=null));var f=new Bs("action","action",null,a,s);e.push({event:f,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Gl!==0){var h=r?zf(s,r):new FormData(s);sr(l,{pending:!0,data:h,method:s.method,action:i},null,h)}}else typeof i=="function"&&(f.preventDefault(),h=r?zf(s,r):new FormData(s),sr(l,{pending:!0,data:h,method:s.method,action:i},i,h))},currentTarget:s}]})}}for(var Lr=0;Lr<Nc.length;Lr++){var Yr=Nc[Lr],Cx=Yr.toLowerCase(),Tx=Yr[0].toUpperCase()+Yr.slice(1);Jt(Cx,"on"+Tx)}Jt(co,"onAnimationEnd"),Jt(ro,"onAnimationIteration"),Jt(uo,"onAnimationStart"),Jt("dblclick","onDoubleClick"),Jt("focusin","onFocus"),Jt("focusout","onBlur"),Jt(Gm,"onTransitionRun"),Jt(Qm,"onTransitionStart"),Jt(Xm,"onTransitionCancel"),Jt(oo,"onTransitionEnd"),ae("onMouseEnter",["mouseout","mouseover"]),ae("onMouseLeave",["mouseout","mouseover"]),ae("onPointerEnter",["pointerout","pointerover"]),ae("onPointerLeave",["pointerout","pointerover"]),te("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),te("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),te("onBeforeInput",["compositionend","keypress","textInput","paste"]),te("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),te("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),te("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var is="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mx=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(is));function Df(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var a=e[l],s=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var r=a.length-1;0<=r;r--){var f=a[r],h=f.instance,C=f.currentTarget;if(f=f.listener,h!==i&&s.isPropagationStopped())break e;i=f,s.currentTarget=C;try{i(s)}catch(D){qs(D)}s.currentTarget=null,i=h}else for(r=0;r<a.length;r++){if(f=a[r],h=f.instance,C=f.currentTarget,f=f.listener,h!==i&&s.isPropagationStopped())break e;i=f,s.currentTarget=C;try{i(s)}catch(D){qs(D)}s.currentTarget=null,i=h}}}}function ve(e,t){var l=t[wn];l===void 0&&(l=t[wn]=new Set);var a=e+"__bubble";l.has(a)||(Rf(t,e,2,!1),l.add(a))}function Gr(e,t,l){var a=0;t&&(a|=4),Rf(l,e,a,t)}var Ci="_reactListening"+Math.random().toString(36).slice(2);function Qr(e){if(!e[Ci]){e[Ci]=!0,se.forEach(function(l){l!=="selectionchange"&&(Mx.has(l)||Gr(l,!1,e),Gr(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ci]||(t[Ci]=!0,Gr("selectionchange",!1,t))}}function Rf(e,t,l,a){switch(u0(t)){case 2:var s=th;break;case 8:s=lh;break;default:s=nu}l=s.bind(null,t,l,e),s=void 0,!uc||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),a?s!==void 0?e.addEventListener(t,l,{capture:!0,passive:s}):e.addEventListener(t,l,!0):s!==void 0?e.addEventListener(t,l,{passive:s}):e.addEventListener(t,l,!1)}function Xr(e,t,l,a,s){var i=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var r=a.tag;if(r===3||r===4){var f=a.stateNode.containerInfo;if(f===s)break;if(r===4)for(r=a.return;r!==null;){var h=r.tag;if((h===3||h===4)&&r.stateNode.containerInfo===s)return;r=r.return}for(;f!==null;){if(r=il(f),r===null)return;if(h=r.tag,h===5||h===6||h===26||h===27){a=i=r;continue e}f=f.parentNode}}a=a.return}Uu(function(){var C=i,D=cc(l),q=[];e:{var T=fo.get(e);if(T!==void 0){var M=Bs,K=e;switch(e){case"keypress":if(Rs(l)===0)break e;case"keydown":case"keyup":M=vm;break;case"focusin":K="focus",M=mc;break;case"focusout":K="blur",M=mc;break;case"beforeblur":case"afterblur":M=mc;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Lu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=rm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=Sm;break;case co:case ro:case uo:M=dm;break;case oo:M=Cm;break;case"scroll":case"scrollend":M=im;break;case"wheel":M=Mm;break;case"copy":case"cut":case"paste":M=mm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Gu;break;case"toggle":case"beforetoggle":M=Em}var ie=(t&4)!==0,He=!ie&&(e==="scroll"||e==="scrollend"),j=ie?T!==null?T+"Capture":null:T;ie=[];for(var y=C,w;y!==null;){var H=y;if(w=H.stateNode,H=H.tag,H!==5&&H!==26&&H!==27||w===null||j===null||(H=An(y,j),H!=null&&ie.push(cs(y,H,w))),He)break;y=y.return}0<ie.length&&(T=new M(T,K,null,l,D),q.push({event:T,listeners:ie}))}}if((t&7)===0){e:{if(T=e==="mouseover"||e==="pointerover",M=e==="mouseout"||e==="pointerout",T&&l!==ic&&(K=l.relatedTarget||l.fromElement)&&(il(K)||K[Cl]))break e;if((M||T)&&(T=D.window===D?D:(T=D.ownerDocument)?T.defaultView||T.parentWindow:window,M?(K=l.relatedTarget||l.toElement,M=C,K=K?il(K):null,K!==null&&(He=p(K),ie=K.tag,K!==He||ie!==5&&ie!==27&&ie!==6)&&(K=null)):(M=null,K=C),M!==K)){if(ie=Lu,H="onMouseLeave",j="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(ie=Gu,H="onPointerLeave",j="onPointerEnter",y="pointer"),He=M==null?T:L(M),w=K==null?T:L(K),T=new ie(H,y+"leave",M,l,D),T.target=He,T.relatedTarget=w,H=null,il(D)===C&&(ie=new ie(j,y+"enter",K,l,D),ie.target=w,ie.relatedTarget=He,H=ie),He=H,M&&K)t:{for(ie=Ax,j=M,y=K,w=0,H=j;H;H=ie(H))w++;H=0;for(var ne=y;ne;ne=ie(ne))H++;for(;0<w-H;)j=ie(j),w--;for(;0<H-w;)y=ie(y),H--;for(;w--;){if(j===y||y!==null&&j===y.alternate){ie=j;break t}j=ie(j),y=ie(y)}ie=null}else ie=null;M!==null&&kf(q,T,M,ie,!1),K!==null&&He!==null&&kf(q,He,K,ie,!0)}}e:{if(T=C?L(C):window,M=T.nodeName&&T.nodeName.toLowerCase(),M==="select"||M==="input"&&T.type==="file")var Te=Wu;else if($u(T))if(Fu)Te=qm;else{Te=Um;var P=Bm}else M=T.nodeName,!M||M.toLowerCase()!=="input"||T.type!=="checkbox"&&T.type!=="radio"?C&&sc(C.elementType)&&(Te=Wu):Te=Hm;if(Te&&(Te=Te(e,C))){Ku(q,Te,l,D);break e}P&&P(e,T,C),e==="focusout"&&C&&T.type==="number"&&C.memoizedProps.value!=null&&nc(T,"number",T.value)}switch(P=C?L(C):window,e){case"focusin":($u(P)||P.contentEditable==="true")&&(La=P,yc=C,Bn=null);break;case"focusout":Bn=yc=La=null;break;case"mousedown":vc=!0;break;case"contextmenu":case"mouseup":case"dragend":vc=!1,so(q,l,D);break;case"selectionchange":if(Ym)break;case"keydown":case"keyup":so(q,l,D)}var xe;if(hc)e:{switch(e){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else qa?Vu(e,l)&&(Ne="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(Ne="onCompositionStart");Ne&&(Qu&&l.locale!=="ko"&&(qa||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&qa&&(xe=Hu()):(Tl=D,oc="value"in Tl?Tl.value:Tl.textContent,qa=!0)),P=Ti(C,Ne),0<P.length&&(Ne=new Yu(Ne,e,null,l,D),q.push({event:Ne,listeners:P}),xe?Ne.data=xe:(xe=Ju(l),xe!==null&&(Ne.data=xe)))),(xe=_m?zm(e,l):Dm(e,l))&&(Ne=Ti(C,"onBeforeInput"),0<Ne.length&&(P=new Yu("onBeforeInput","beforeinput",null,l,D),q.push({event:P,listeners:Ne}),P.data=xe)),wx(q,e,C,l,D)}Df(q,t)})}function cs(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Ti(e,t){for(var l=t+"Capture",a=[];e!==null;){var s=e,i=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||i===null||(s=An(e,l),s!=null&&a.unshift(cs(e,s,i)),s=An(e,t),s!=null&&a.push(cs(e,s,i))),e.tag===3)return a;e=e.return}return[]}function Ax(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function kf(e,t,l,a,s){for(var i=t._reactName,r=[];l!==null&&l!==a;){var f=l,h=f.alternate,C=f.stateNode;if(f=f.tag,h!==null&&h===a)break;f!==5&&f!==26&&f!==27||C===null||(h=C,s?(C=An(l,i),C!=null&&r.unshift(cs(l,C,h))):s||(C=An(l,i),C!=null&&r.push(cs(l,C,h)))),l=l.return}r.length!==0&&e.push({event:t,listeners:r})}var Ex=/\r\n?/g,Ox=/\u0000|\uFFFD/g;function Bf(e){return(typeof e=="string"?e:""+e).replace(Ex,`
`).replace(Ox,"")}function Uf(e,t){return t=Bf(t),Bf(e)===t}function Ue(e,t,l,a,s,i){switch(l){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||Ba(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&Ba(e,""+a);break;case"className":jt(e,"class",a);break;case"tabIndex":jt(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":jt(e,l,a);break;case"style":ku(e,a,i);break;case"data":if(t!=="object"){jt(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=zs(""+a),e.setAttribute(l,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(l==="formAction"?(t!=="input"&&Ue(e,t,"name",s.name,s,null),Ue(e,t,"formEncType",s.formEncType,s,null),Ue(e,t,"formMethod",s.formMethod,s,null),Ue(e,t,"formTarget",s.formTarget,s,null)):(Ue(e,t,"encType",s.encType,s,null),Ue(e,t,"method",s.method,s,null),Ue(e,t,"target",s.target,s,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(l);break}a=zs(""+a),e.setAttribute(l,a);break;case"onClick":a!=null&&(e.onclick=cl);break;case"onScroll":a!=null&&ve("scroll",e);break;case"onScrollEnd":a!=null&&ve("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(s.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}l=zs(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""+a):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":a===!0?e.setAttribute(l,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(l,a):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(l,a):e.removeAttribute(l);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(l):e.setAttribute(l,a);break;case"popover":ve("beforetoggle",e),ve("toggle",e),Fe(e,"popover",a);break;case"xlinkActuate":yt(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":yt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":yt(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":yt(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":yt(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":yt(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":yt(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":yt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":yt(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Fe(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=nm.get(l)||l,Fe(e,l,a))}}function Zr(e,t,l,a,s,i){switch(l){case"style":ku(e,a,i);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(o(61));if(l=a.__html,l!=null){if(s.children!=null)throw Error(o(60));e.innerHTML=l}}break;case"children":typeof a=="string"?Ba(e,a):(typeof a=="number"||typeof a=="bigint")&&Ba(e,""+a);break;case"onScroll":a!=null&&ve("scroll",e);break;case"onScrollEnd":a!=null&&ve("scrollend",e);break;case"onClick":a!=null&&(e.onclick=cl);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!pe.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(s=l.endsWith("Capture"),t=l.slice(2,s?l.length-7:void 0),i=e[ht]||null,i=i!=null?i[l]:null,typeof i=="function"&&e.removeEventListener(t,i,s),typeof a=="function")){typeof i!="function"&&i!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,a,s);break e}l in e?e[l]=a:a===!0?e.setAttribute(l,""):Fe(e,l,a)}}}function ft(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ve("error",e),ve("load",e);var a=!1,s=!1,i;for(i in l)if(l.hasOwnProperty(i)){var r=l[i];if(r!=null)switch(i){case"src":a=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ue(e,t,i,r,l,null)}}s&&Ue(e,t,"srcSet",l.srcSet,l,null),a&&Ue(e,t,"src",l.src,l,null);return;case"input":ve("invalid",e);var f=i=r=s=null,h=null,C=null;for(a in l)if(l.hasOwnProperty(a)){var D=l[a];if(D!=null)switch(a){case"name":s=D;break;case"type":r=D;break;case"checked":h=D;break;case"defaultChecked":C=D;break;case"value":i=D;break;case"defaultValue":f=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(o(137,t));break;default:Ue(e,t,a,D,l,null)}}_u(e,i,f,h,C,r,s,!1);return;case"select":ve("invalid",e),a=r=i=null;for(s in l)if(l.hasOwnProperty(s)&&(f=l[s],f!=null))switch(s){case"value":i=f;break;case"defaultValue":r=f;break;case"multiple":a=f;default:Ue(e,t,s,f,l,null)}t=i,l=r,e.multiple=!!a,t!=null?ka(e,!!a,t,!1):l!=null&&ka(e,!!a,l,!0);return;case"textarea":ve("invalid",e),i=s=a=null;for(r in l)if(l.hasOwnProperty(r)&&(f=l[r],f!=null))switch(r){case"value":a=f;break;case"defaultValue":s=f;break;case"children":i=f;break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(o(91));break;default:Ue(e,t,r,f,l,null)}Du(e,a,s,i);return;case"option":for(h in l)if(l.hasOwnProperty(h)&&(a=l[h],a!=null))switch(h){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:Ue(e,t,h,a,l,null)}return;case"dialog":ve("beforetoggle",e),ve("toggle",e),ve("cancel",e),ve("close",e);break;case"iframe":case"object":ve("load",e);break;case"video":case"audio":for(a=0;a<is.length;a++)ve(is[a],e);break;case"image":ve("error",e),ve("load",e);break;case"details":ve("toggle",e);break;case"embed":case"source":case"link":ve("error",e),ve("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in l)if(l.hasOwnProperty(C)&&(a=l[C],a!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ue(e,t,C,a,l,null)}return;default:if(sc(t)){for(D in l)l.hasOwnProperty(D)&&(a=l[D],a!==void 0&&Zr(e,t,D,a,l,void 0));return}}for(f in l)l.hasOwnProperty(f)&&(a=l[f],a!=null&&Ue(e,t,f,a,l,null))}function _x(e,t,l,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,i=null,r=null,f=null,h=null,C=null,D=null;for(M in l){var q=l[M];if(l.hasOwnProperty(M)&&q!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":h=q;default:a.hasOwnProperty(M)||Ue(e,t,M,null,a,q)}}for(var T in a){var M=a[T];if(q=l[T],a.hasOwnProperty(T)&&(M!=null||q!=null))switch(T){case"type":i=M;break;case"name":s=M;break;case"checked":C=M;break;case"defaultChecked":D=M;break;case"value":r=M;break;case"defaultValue":f=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(o(137,t));break;default:M!==q&&Ue(e,t,T,M,a,q)}}ac(e,r,f,h,C,D,i,s);return;case"select":M=r=f=T=null;for(i in l)if(h=l[i],l.hasOwnProperty(i)&&h!=null)switch(i){case"value":break;case"multiple":M=h;default:a.hasOwnProperty(i)||Ue(e,t,i,null,a,h)}for(s in a)if(i=a[s],h=l[s],a.hasOwnProperty(s)&&(i!=null||h!=null))switch(s){case"value":T=i;break;case"defaultValue":f=i;break;case"multiple":r=i;default:i!==h&&Ue(e,t,s,i,a,h)}t=f,l=r,a=M,T!=null?ka(e,!!l,T,!1):!!a!=!!l&&(t!=null?ka(e,!!l,t,!0):ka(e,!!l,l?[]:"",!1));return;case"textarea":M=T=null;for(f in l)if(s=l[f],l.hasOwnProperty(f)&&s!=null&&!a.hasOwnProperty(f))switch(f){case"value":break;case"children":break;default:Ue(e,t,f,null,a,s)}for(r in a)if(s=a[r],i=l[r],a.hasOwnProperty(r)&&(s!=null||i!=null))switch(r){case"value":T=s;break;case"defaultValue":M=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(o(91));break;default:s!==i&&Ue(e,t,r,s,a,i)}zu(e,T,M);return;case"option":for(var K in l)if(T=l[K],l.hasOwnProperty(K)&&T!=null&&!a.hasOwnProperty(K))switch(K){case"selected":e.selected=!1;break;default:Ue(e,t,K,null,a,T)}for(h in a)if(T=a[h],M=l[h],a.hasOwnProperty(h)&&T!==M&&(T!=null||M!=null))switch(h){case"selected":e.selected=T&&typeof T!="function"&&typeof T!="symbol";break;default:Ue(e,t,h,T,a,M)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ie in l)T=l[ie],l.hasOwnProperty(ie)&&T!=null&&!a.hasOwnProperty(ie)&&Ue(e,t,ie,null,a,T);for(C in a)if(T=a[C],M=l[C],a.hasOwnProperty(C)&&T!==M&&(T!=null||M!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(T!=null)throw Error(o(137,t));break;default:Ue(e,t,C,T,a,M)}return;default:if(sc(t)){for(var He in l)T=l[He],l.hasOwnProperty(He)&&T!==void 0&&!a.hasOwnProperty(He)&&Zr(e,t,He,void 0,a,T);for(D in a)T=a[D],M=l[D],!a.hasOwnProperty(D)||T===M||T===void 0&&M===void 0||Zr(e,t,D,T,a,M);return}}for(var j in l)T=l[j],l.hasOwnProperty(j)&&T!=null&&!a.hasOwnProperty(j)&&Ue(e,t,j,null,a,T);for(q in a)T=a[q],M=l[q],!a.hasOwnProperty(q)||T===M||T==null&&M==null||Ue(e,t,q,T,a,M)}function Hf(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function zx(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),a=0;a<l.length;a++){var s=l[a],i=s.transferSize,r=s.initiatorType,f=s.duration;if(i&&f&&Hf(r)){for(r=0,f=s.responseEnd,a+=1;a<l.length;a++){var h=l[a],C=h.startTime;if(C>f)break;var D=h.transferSize,q=h.initiatorType;D&&Hf(q)&&(h=h.responseEnd,r+=D*(h<f?1:(f-C)/(h-C)))}if(--a,t+=8*(i+r)/(s.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Vr=null,Jr=null;function Mi(e){return e.nodeType===9?e:e.ownerDocument}function qf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lf(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function $r(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kr=null;function Dx(){var e=window.event;return e&&e.type==="popstate"?e===Kr?!1:(Kr=e,!0):(Kr=null,!1)}var Yf=typeof setTimeout=="function"?setTimeout:void 0,Rx=typeof clearTimeout=="function"?clearTimeout:void 0,Gf=typeof Promise=="function"?Promise:void 0,kx=typeof queueMicrotask=="function"?queueMicrotask:typeof Gf<"u"?function(e){return Gf.resolve(null).then(e).catch(Bx)}:Yf;function Bx(e){setTimeout(function(){throw e})}function Ql(e){return e==="head"}function Qf(e,t){var l=t,a=0;do{var s=l.nextSibling;if(e.removeChild(l),s&&s.nodeType===8)if(l=s.data,l==="/$"||l==="/&"){if(a===0){e.removeChild(s),xn(t);return}a--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")a++;else if(l==="html")rs(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,rs(l);for(var i=l.firstChild;i;){var r=i.nextSibling,f=i.nodeName;i[sa]||f==="SCRIPT"||f==="STYLE"||f==="LINK"&&i.rel.toLowerCase()==="stylesheet"||l.removeChild(i),i=r}}else l==="body"&&rs(e.ownerDocument.body);l=s}while(l);xn(t)}function Xf(e,t){var l=e;e=0;do{var a=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),a&&a.nodeType===8)if(l=a.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=a}while(l)}function Wr(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Wr(l),Cn(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Ux(e,t,l,a){for(;e.nodeType===1;){var s=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[sa])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Gt(e.nextSibling),e===null)break}return null}function Hx(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Gt(e.nextSibling),e===null))return null;return e}function Zf(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Gt(e.nextSibling),e===null))return null;return e}function Fr(e){return e.data==="$?"||e.data==="$~"}function Ir(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function qx(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var a=function(){t(),l.removeEventListener("DOMContentLoaded",a)};l.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function Gt(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Pr=null;function Vf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return Gt(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function Jf(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function $f(e,t,l){switch(t=Mi(l),e){case"html":if(e=t.documentElement,!e)throw Error(o(452));return e;case"head":if(e=t.head,!e)throw Error(o(453));return e;case"body":if(e=t.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function rs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Cn(e)}var Qt=new Map,Kf=new Set;function Ai(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Sl=X.d;X.d={f:Lx,r:Yx,D:Gx,C:Qx,L:Xx,m:Zx,X:Jx,S:Vx,M:$x};function Lx(){var e=Sl.f(),t=yi();return e||t}function Yx(e){var t=B(e);t!==null&&t.tag===5&&t.type==="form"?dd(t):Sl.r(e)}var dn=typeof document>"u"?null:document;function Wf(e,t,l){var a=dn;if(a&&typeof t=="string"&&t){var s=bt(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof l=="string"&&(s+='[crossorigin="'+l+'"]'),Kf.has(s)||(Kf.add(s),e={rel:e,crossOrigin:l,href:t},a.querySelector(s)===null&&(t=a.createElement("link"),ft(t,"link",e),Z(t),a.head.appendChild(t)))}}function Gx(e){Sl.D(e),Wf("dns-prefetch",e,null)}function Qx(e,t){Sl.C(e,t),Wf("preconnect",e,t)}function Xx(e,t,l){Sl.L(e,t,l);var a=dn;if(a&&e&&t){var s='link[rel="preload"][as="'+bt(t)+'"]';t==="image"&&l&&l.imageSrcSet?(s+='[imagesrcset="'+bt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(s+='[imagesizes="'+bt(l.imageSizes)+'"]')):s+='[href="'+bt(e)+'"]';var i=s;switch(t){case"style":i=fn(e);break;case"script":i=mn(e)}Qt.has(i)||(e=S({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),Qt.set(i,e),a.querySelector(s)!==null||t==="style"&&a.querySelector(us(i))||t==="script"&&a.querySelector(os(i))||(t=a.createElement("link"),ft(t,"link",e),Z(t),a.head.appendChild(t)))}}function Zx(e,t){Sl.m(e,t);var l=dn;if(l&&e){var a=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+bt(a)+'"][href="'+bt(e)+'"]',i=s;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=mn(e)}if(!Qt.has(i)&&(e=S({rel:"modulepreload",href:e},t),Qt.set(i,e),l.querySelector(s)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(os(i)))return}a=l.createElement("link"),ft(a,"link",e),Z(a),l.head.appendChild(a)}}}function Vx(e,t,l){Sl.S(e,t,l);var a=dn;if(a&&e){var s=V(a).hoistableStyles,i=fn(e);t=t||"default";var r=s.get(i);if(!r){var f={loading:0,preload:null};if(r=a.querySelector(us(i)))f.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},l),(l=Qt.get(i))&&eu(e,l);var h=r=a.createElement("link");Z(h),ft(h,"link",e),h._p=new Promise(function(C,D){h.onload=C,h.onerror=D}),h.addEventListener("load",function(){f.loading|=1}),h.addEventListener("error",function(){f.loading|=2}),f.loading|=4,Ei(r,t,a)}r={type:"stylesheet",instance:r,count:1,state:f},s.set(i,r)}}}function Jx(e,t){Sl.X(e,t);var l=dn;if(l&&e){var a=V(l).hoistableScripts,s=mn(e),i=a.get(s);i||(i=l.querySelector(os(s)),i||(e=S({src:e,async:!0},t),(t=Qt.get(s))&&tu(e,t),i=l.createElement("script"),Z(i),ft(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(s,i))}}function $x(e,t){Sl.M(e,t);var l=dn;if(l&&e){var a=V(l).hoistableScripts,s=mn(e),i=a.get(s);i||(i=l.querySelector(os(s)),i||(e=S({src:e,async:!0,type:"module"},t),(t=Qt.get(s))&&tu(e,t),i=l.createElement("script"),Z(i),ft(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},a.set(s,i))}}function Ff(e,t,l,a){var s=(s=be.current)?Ai(s):null;if(!s)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=fn(l.href),l=V(s).hoistableStyles,a=l.get(t),a||(a={type:"style",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=fn(l.href);var i=V(s).hoistableStyles,r=i.get(e);if(r||(s=s.ownerDocument||s,r={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,r),(i=s.querySelector(us(e)))&&!i._p&&(r.instance=i,r.state.loading=5),Qt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Qt.set(e,l),i||Kx(s,e,l,r.state))),t&&a===null)throw Error(o(528,""));return r}if(t&&a!==null)throw Error(o(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=mn(l),l=V(s).hoistableScripts,a=l.get(t),a||(a={type:"script",instance:null,count:0,state:null},l.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function fn(e){return'href="'+bt(e)+'"'}function us(e){return'link[rel="stylesheet"]['+e+"]"}function If(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Kx(e,t,l,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),ft(t,"link",l),Z(t),e.head.appendChild(t))}function mn(e){return'[src="'+bt(e)+'"]'}function os(e){return"script[async]"+e}function Pf(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+bt(l.href)+'"]');if(a)return t.instance=a,Z(a),a;var s=S({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Z(a),ft(a,"style",s),Ei(a,l.precedence,e),t.instance=a;case"stylesheet":s=fn(l.href);var i=e.querySelector(us(s));if(i)return t.state.loading|=4,t.instance=i,Z(i),i;a=If(l),(s=Qt.get(s))&&eu(a,s),i=(e.ownerDocument||e).createElement("link"),Z(i);var r=i;return r._p=new Promise(function(f,h){r.onload=f,r.onerror=h}),ft(i,"link",a),t.state.loading|=4,Ei(i,l.precedence,e),t.instance=i;case"script":return i=mn(l.src),(s=e.querySelector(os(i)))?(t.instance=s,Z(s),s):(a=l,(s=Qt.get(i))&&(a=S({},l),tu(a,s)),e=e.ownerDocument||e,s=e.createElement("script"),Z(s),ft(s,"link",a),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(o(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,Ei(a,l.precedence,e));return t.instance}function Ei(e,t,l){for(var a=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=a.length?a[a.length-1]:null,i=s,r=0;r<a.length;r++){var f=a[r];if(f.dataset.precedence===t)i=f;else if(i!==s)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function eu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function tu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Oi=null;function e0(e,t,l){if(Oi===null){var a=new Map,s=Oi=new Map;s.set(l,a)}else s=Oi,a=s.get(l),a||(a=new Map,s.set(l,a));if(a.has(e))return a;for(a.set(e,null),l=l.getElementsByTagName(e),s=0;s<l.length;s++){var i=l[s];if(!(i[sa]||i[lt]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var r=i.getAttribute(t)||"";r=e+r;var f=a.get(r);f?f.push(i):a.set(r,[i])}}return a}function t0(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function Wx(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function l0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Fx(e,t,l,a){if(l.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var s=fn(a.href),i=t.querySelector(us(s));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=_i.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=i,Z(i);return}i=t.ownerDocument||t,a=If(a),(s=Qt.get(s))&&eu(a,s),i=i.createElement("link"),Z(i);var r=i;r._p=new Promise(function(f,h){r.onload=f,r.onerror=h}),ft(i,"link",a),l.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=_i.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var lu=0;function Ix(e,t){return e.stylesheets&&e.count===0&&Di(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var a=setTimeout(function(){if(e.stylesheets&&Di(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&lu===0&&(lu=62500*zx());var s=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Di(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>lu?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(s)}}:null}function _i(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Di(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var zi=null;function Di(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,zi=new Map,t.forEach(Px,e),zi=null,_i.call(e))}function Px(e,t){if(!(t.state.loading&4)){var l=zi.get(e);if(l)var a=l.get(null);else{l=new Map,zi.set(e,l);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<s.length;i++){var r=s[i];(r.nodeName==="LINK"||r.getAttribute("media")!=="not all")&&(l.set(r.dataset.precedence,r),a=r)}a&&l.set(null,a)}s=t.instance,r=s.getAttribute("data-precedence"),i=l.get(r)||a,i===a&&l.set(null,s),l.set(r,s),this.count++,a=_i.bind(this),s.addEventListener("load",a),s.addEventListener("error",a),i?i.parentNode.insertBefore(s,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var ds={$$typeof:Q,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function eh(e,t,l,a,s,i,r,f,h){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Nn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nn(0),this.hiddenUpdates=Nn(null),this.identifierPrefix=a,this.onUncaughtError=s,this.onCaughtError=i,this.onRecoverableError=r,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=h,this.incompleteTransitions=new Map}function a0(e,t,l,a,s,i,r,f,h,C,D,q){return e=new eh(e,t,l,r,h,C,D,q,f),t=1,i===!0&&(t|=24),i=Et(3,null,null,t),e.current=i,i.stateNode=e,t=kc(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:a,isDehydrated:l,cache:t},qc(i),e}function n0(e){return e?(e=Qa,e):Qa}function s0(e,t,l,a,s,i){s=n0(s),a.context===null?a.context=s:a.pendingContext=s,a=zl(t),a.payload={element:l},i=i===void 0?null:i,i!==null&&(a.callback=i),l=Dl(e,a,t),l!==null&&(Mt(l,e,t),Qn(l,e,t))}function i0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function au(e,t){i0(e,t),(e=e.alternate)&&i0(e,t)}function c0(e){if(e.tag===13||e.tag===31){var t=oa(e,67108864);t!==null&&Mt(t,e,67108864),au(e,67108864)}}function r0(e){if(e.tag===13||e.tag===31){var t=Rt();t=za(t);var l=oa(e,t);l!==null&&Mt(l,e,t),au(e,t)}}var Ri=!0;function th(e,t,l,a){var s=_.T;_.T=null;var i=X.p;try{X.p=2,nu(e,t,l,a)}finally{X.p=i,_.T=s}}function lh(e,t,l,a){var s=_.T;_.T=null;var i=X.p;try{X.p=8,nu(e,t,l,a)}finally{X.p=i,_.T=s}}function nu(e,t,l,a){if(Ri){var s=su(a);if(s===null)Xr(e,t,a,ki,l),o0(e,a);else if(nh(s,e,t,l,a))a.stopPropagation();else if(o0(e,a),t&4&&-1<ah.indexOf(e)){for(;s!==null;){var i=B(s);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var r=sl(i.pendingLanes);if(r!==0){var f=i;for(f.pendingLanes|=2,f.entangledLanes|=2;r;){var h=1<<31-xt(r);f.entanglements[1]|=h,r&=~h}el(i),(Oe&6)===0&&(pi=gt()+500,ss(0))}}break;case 31:case 13:f=oa(i,2),f!==null&&Mt(f,i,2),yi(),au(i,2)}if(i=su(a),i===null&&Xr(e,t,a,ki,l),i===s)break;s=i}s!==null&&a.stopPropagation()}else Xr(e,t,a,null,l)}}function su(e){return e=cc(e),iu(e)}var ki=null;function iu(e){if(ki=null,e=il(e),e!==null){var t=p(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=b(t),e!==null)return e;e=null}else if(l===31){if(e=E(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ki=e,null}function u0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(yn()){case Wi:return 2;case Ss:return 8;case Ta:case ws:return 32;case vn:return 268435456;default:return 32}default:return 32}}var cu=!1,Xl=null,Zl=null,Vl=null,fs=new Map,ms=new Map,Jl=[],ah="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function o0(e,t){switch(e){case"focusin":case"focusout":Xl=null;break;case"dragenter":case"dragleave":Zl=null;break;case"mouseover":case"mouseout":Vl=null;break;case"pointerover":case"pointerout":fs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ms.delete(t.pointerId)}}function xs(e,t,l,a,s,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:l,eventSystemFlags:a,nativeEvent:i,targetContainers:[s]},t!==null&&(t=B(t),t!==null&&c0(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function nh(e,t,l,a,s){switch(t){case"focusin":return Xl=xs(Xl,e,t,l,a,s),!0;case"dragenter":return Zl=xs(Zl,e,t,l,a,s),!0;case"mouseover":return Vl=xs(Vl,e,t,l,a,s),!0;case"pointerover":var i=s.pointerId;return fs.set(i,xs(fs.get(i)||null,e,t,l,a,s)),!0;case"gotpointercapture":return i=s.pointerId,ms.set(i,xs(ms.get(i)||null,e,t,l,a,s)),!0}return!1}function d0(e){var t=il(e.target);if(t!==null){var l=p(t);if(l!==null){if(t=l.tag,t===13){if(t=b(l),t!==null){e.blockedOn=t,Da(e.priority,function(){r0(l)});return}}else if(t===31){if(t=E(l),t!==null){e.blockedOn=t,Da(e.priority,function(){r0(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bi(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=su(e.nativeEvent);if(l===null){l=e.nativeEvent;var a=new l.constructor(l.type,l);ic=a,l.target.dispatchEvent(a),ic=null}else return t=B(l),t!==null&&c0(t),e.blockedOn=l,!1;t.shift()}return!0}function f0(e,t,l){Bi(e)&&l.delete(t)}function sh(){cu=!1,Xl!==null&&Bi(Xl)&&(Xl=null),Zl!==null&&Bi(Zl)&&(Zl=null),Vl!==null&&Bi(Vl)&&(Vl=null),fs.forEach(f0),ms.forEach(f0)}function Ui(e,t){e.blockedOn===t&&(e.blockedOn=null,cu||(cu=!0,c.unstable_scheduleCallback(c.unstable_NormalPriority,sh)))}var Hi=null;function m0(e){Hi!==e&&(Hi=e,c.unstable_scheduleCallback(c.unstable_NormalPriority,function(){Hi===e&&(Hi=null);for(var t=0;t<e.length;t+=3){var l=e[t],a=e[t+1],s=e[t+2];if(typeof a!="function"){if(iu(a||l)===null)continue;break}var i=B(l);i!==null&&(e.splice(t,3),t-=3,sr(i,{pending:!0,data:s,method:l.method,action:a},a,s))}}))}function xn(e){function t(h){return Ui(h,e)}Xl!==null&&Ui(Xl,e),Zl!==null&&Ui(Zl,e),Vl!==null&&Ui(Vl,e),fs.forEach(t),ms.forEach(t);for(var l=0;l<Jl.length;l++){var a=Jl[l];a.blockedOn===e&&(a.blockedOn=null)}for(;0<Jl.length&&(l=Jl[0],l.blockedOn===null);)d0(l),l.blockedOn===null&&Jl.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(a=0;a<l.length;a+=3){var s=l[a],i=l[a+1],r=s[ht]||null;if(typeof i=="function")r||m0(l);else if(r){var f=null;if(i&&i.hasAttribute("formAction")){if(s=i,r=i[ht]||null)f=r.formAction;else if(iu(s)!==null)continue}else f=r.action;typeof f=="function"?l[a+1]=f:(l.splice(a,3),a-=3),m0(l)}}}function x0(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(r){return s=r})},focusReset:"manual",scroll:"manual"})}function t(){s!==null&&(s(),s=null),a||setTimeout(l,20)}function l(){if(!a&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,s=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),s!==null&&(s(),s=null)}}}function ru(e){this._internalRoot=e}qi.prototype.render=ru.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(o(409));var l=t.current,a=Rt();s0(l,a,e,t,null,null)},qi.prototype.unmount=ru.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;s0(e.current,2,null,e,null,null),yi(),t[Cl]=null}};function qi(e){this._internalRoot=e}qi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Os();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Jl.length&&t!==0&&t<Jl[l].priority;l++);Jl.splice(l,0,e),l===0&&d0(e)}};var h0=u.version;if(h0!=="19.2.0")throw Error(o(527,h0,"19.2.0"));X.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=g(t),e=e!==null?O(e):null,e=e===null?null:e.stateNode,e};var ih={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:_,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Li=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Li.isDisabled&&Li.supportsFiber)try{wl=Li.inject(ih),mt=Li}catch{}}return bs.createRoot=function(e,t){if(!m(e))throw Error(o(299));var l=!1,a="",s=jd,i=Nd,r=Sd;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(r=t.onRecoverableError)),t=a0(e,1,!1,null,null,l,a,null,s,i,r,x0),e[Cl]=t.current,Qr(e),new ru(t)},bs.hydrateRoot=function(e,t,l){if(!m(e))throw Error(o(299));var a=!1,s="",i=jd,r=Nd,f=Sd,h=null;return l!=null&&(l.unstable_strictMode===!0&&(a=!0),l.identifierPrefix!==void 0&&(s=l.identifierPrefix),l.onUncaughtError!==void 0&&(i=l.onUncaughtError),l.onCaughtError!==void 0&&(r=l.onCaughtError),l.onRecoverableError!==void 0&&(f=l.onRecoverableError),l.formState!==void 0&&(h=l.formState)),t=a0(e,1,!0,t,l??null,a,s,h,i,r,f,x0),t.context=n0(null),l=t.current,a=Rt(),a=za(a),s=zl(a),s.callback=null,Dl(l,s,a),l=a,t.current.lanes=l,na(t,l),el(t),e[Cl]=t.current,Qr(e),new qi(t)},bs.version="19.2.0",bs}var C0;function bh(){if(C0)return du.exports;C0=1;function c(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c)}catch(u){console.error(u)}}return c(),du.exports=hh(),du.exports}var ph=bh();const gh=Z0(ph),hn=1,Ji={id:"s1",name:"青玉剑诀",rarity:"良品",description:"一道蕴含灵气的迅捷剑斩。",eroticDescription:"使用者将灵气灌注于剑身，剑刃变得滚烫，以一个下流的角度刺向敌人的私处。",mechanicsDescription:"造成115%攻击力的物理伤害。",cost:15,genderLock:"Male"},V0={id:"s2",name:"岩山盾",rarity:"优品",description:"凝聚大地精华，提升自身防御。",eroticDescription:"使用者双腿大开，从地面召唤出一面石盾护在身前，石盾上布满了模拟男性生殖器的凸起。",mechanicsDescription:"提升自身30%防御力，持续3回合。",cost:20,genderLock:"Male"},wu={id:"s3",name:"凤火术",rarity:"良品",description:"释放一股神圣的烈焰洪流。",eroticDescription:"使用者扭动腰肢，从双腿之间喷射出一股灼热的粉红色火焰，烧灼敌人的同时散发出催情的香气。",mechanicsDescription:"造成105%攻击力的火焰伤害，并施加[灼烧]效果（每回合损失5%最大生命值），持续2回合。",cost:18,genderLock:"Female"},J0={id:"s4",name:"九尾幻术",rarity:"优品",description:"能动摇心神的魅惑幻术。",eroticDescription:"使用者九条毛茸茸的狐尾从身后伸出，轻柔地缠绕住敌人，用尾巴尖端搔刮其最敏感的部位，使其陷入淫乱的幻觉。",mechanicsDescription:"有60%几率使敌人[混乱]（无法行动），持续1回合。",cost:25,genderLock:"Female"},yh={id:"us1",name:"灵气回复",rarity:"凡品",description:"恢复少量真元。",eroticDescription:"使用者开始娇喘，通过模拟性高潮的方式快速聚集周围的灵气，补充自身。",mechanicsDescription:"恢复25点真元。",cost:0,genderLock:"Universal"},$0={id:"us2",name:"基础拳法",rarity:"凡品",description:"造成少量物理伤害。",eroticDescription:"看似普通的拳法，但每一拳都精准地打向敌人的下体，试图造成最直接的痛苦和羞辱。",mechanicsDescription:"造成100%攻击力的物理伤害。",cost:10,genderLock:"Universal"},vh={id:"us3",name:"天雷击",rarity:"珍品",description:"引动九天神雷，对敌人造成巨大伤害。",eroticDescription:"使用者高举双手，召唤一道粗大的紫色闪电，闪电如一条巨龙般从天而降，精准地贯穿敌人的身体，使其浑身抽搐，口吐白沫。",mechanicsDescription:"造成220%攻击力的雷电伤害，但自身[虚弱]（攻击力降低20%），持续2回合。",cost:45,genderLock:"Male"},jh={id:"us4",name:"凤凰涅槃",rarity:"绝品",description:"濒死时有几率浴火重生。",eroticDescription:"在死亡的瞬间，使用者全身衣物被火焰烧尽，赤裸的身体在烈火中重塑，发出诱人的呻吟，以更完美、更淫荡的姿态重生。",mechanicsDescription:"气血低于15%时，有35%几率恢复60%最大气血。一场战斗只能触发一次。",cost:100,genderLock:"Female"},Cu={id:"e1",name:"破瓜之刃",type:"Weapon",rarity:"凡品",description:"一把粗糙的铁剑，剑柄被设计成阳具的形状，据说能轻易划破处女的衣物。",stats:{attack:5}},Tu={id:"e2",name:"开裆学徒袍",type:"Armor",rarity:"凡品",description:"一件普通的学徒袍，但裆部被故意剪开，方便随时随地进行“修炼”。",stats:{hp:15,defense:3}},Mu={id:"e3",name:"催情淫纹",type:"Accessory",rarity:"良品",description:"一道刻在小腹上的淫纹，能让佩戴者在战斗中感到持续的性快感，从而身法更“灵活”。",stats:{speed:8}},Nh={id:"e4",name:"乳钉龟甲",type:"Armor",rarity:"珍品",description:"仅能遮住胸前两点的龟甲胸罩，上面穿有乳环，每次受到攻击都会拉扯乳头，带来痛并快乐的刺激。",stats:{hp:80,defense:35}},Sh={id:"e5",name:"淫魔的项圈",type:"Accessory",rarity:"优品",description:"一个刻有堕落符文的项圈，戴上它的人会不自觉地散发出邀请交媾的骚媚气息。",stats:{critRate:.08,critDmg:.15}},wh={id:"e6",name:"贯穿神女之枪",type:"Weapon",rarity:"仙品",description:"传说中曾让仙界圣女高潮迭起的长枪，枪头刻满了能刺激G点的咒文。",stats:{attack:80,critRate:.1}},Ch={id:"e7",name:"绝对露出圣铠",type:"Armor",rarity:"圣品",description:"一套看似华丽的铠甲，但其设计巧妙，无论从哪个角度看，都会不经意地露出穿戴者的私密部位。",stats:{hp:200,defense:50,speed:-10}},Th={id:"e8",name:"触手软鞭",type:"Weapon",rarity:"良品",description:"如章鱼触手般柔软而灵活的鞭子，鞭身上布满吸盘，能缠住敌人并带来异样的快感。",stats:{attack:8,speed:4}},Mh={id:"e9",name:"全透明霓裳",type:"Armor",rarity:"优品",description:"一件完全透明的仙衣，唯一的遮挡是在私处绣了一朵若隐若现的莲花，引人遐想。",stats:{hp:40,defense:12,speed:3}},Ah={id:"e10",name:"自慰月华簪",type:"Accessory",rarity:"珍品",description:"一根能根据主人意念震动的发簪，既是饰品，也是方便的自慰工具，佩戴者可随时享受快感。",stats:{critRate:.03,speed:10}},K0=[Cu,Tu,Mu,Nh,Sh,wh,Ch,Th,Mh,Ah],Au={p_brothel_star:{name:"头牌花魁",shop:"青楼",requiredAttr:"charm"},p_brothel_tutor:{name:"双修导师",shop:"青楼",requiredAttr:"skillfulness"},p_brothel_guard:{name:"护卫",shop:"青楼",requiredAttr:"defense"},p_arena_gladiator:{name:"明星角斗士",shop:"角斗场",requiredAttr:"attack"},p_arena_host:{name:"主持人",shop:"角斗场",requiredAttr:"charm"},p_arena_trader:{name:"奴隶商人",shop:"角斗场",requiredAttr:"skillfulness"},p_alchemy_chief:{name:"首席炼丹师",shop:"炼丹房",requiredAttr:"perception"},p_alchemy_apprentice:{name:"药童",shop:"炼丹房",requiredAttr:"speed"},p_auction_master:{name:"首席拍卖师",shop:"拍卖行",requiredAttr:"charm"},p_auction_appraiser:{name:"鉴宝师",shop:"拍卖行",requiredAttr:"perception"},p_intel_chief:{name:"情报头子",shop:"情报阁",requiredAttr:"perception"},p_intel_assassin:{name:"暗杀者",shop:"情报阁",requiredAttr:"attack"}},Vi={id:"c1",name:"风逸",gender:"Male",realm:"筑基期",rarity:"珍品",title:"行走的巨根播种机",race:"人族",origin:"来自凡人村庄的孤儿，被青蛇宗长老偶然发现，因其根骨奇佳而被带回宗门。",appearance:"他从不穿内裤，宽松的道袍下，那根远超常人的巨大肉棒随着他的步伐一晃一荡，轮廓清晰可见。修炼时阳气外泄，常常导致肉棒不自觉地半勃起，将道袍顶出一个夸张的帐篷。他看女人的眼神，就像野兽盯着猎物，充满了不加掩饰的淫欲。",charm:75,skillfulness:60,perception:50,baseAttributes:{hp:120,maxHp:120,mp:50,maxMp:50,attack:18,defense:12,speed:15,critRate:.1,critDmg:1.5},skills:[Ji,V0,null,null],equipment:{weapon:Cu,armor:Tu,accessory1:Mu,accessory2:null}},Eu={id:"c2",name:"灵月",gender:"Female",realm:"筑基期",rarity:"珍品",title:"天生媚骨骚货",race:"妖族",origin:"九尾天狐的后裔，为寻求突破血脉的桎梏而加入了修仙宗门。",appearance:"她从不穿乳罩和内裤，仅仅套着一件薄如蝉翼的纱裙。一对硕大的乳房随着她的走动剧烈地晃动，深色的乳头清晰可见。裙下光洁一片，饱满的阴唇轮廓分明。她天生淫荡，体内媚药过剩，导致私处时刻湿润，甚至会在走路时留下淡淡的骚味痕迹。",charm:95,skillfulness:80,perception:60,baseAttributes:{hp:100,maxHp:100,mp:70,maxMp:70,attack:15,defense:10,speed:18,critRate:.15,critDmg:1.6},skills:[wu,J0,null,null],equipment:{weapon:null,armor:null,accessory1:null,accessory2:null}},Eh={id:"c3",name:"石毅",gender:"Male",realm:"金丹期",rarity:"优品",title:"不动山王",race:"人族",origin:"天生神力，以炼体为主，肉身坚不可摧。",charm:30,skillfulness:40,perception:45,baseAttributes:{hp:180,maxHp:180,mp:40,maxMp:40,attack:14,defense:25,speed:10,critRate:.05,critDmg:1.5},skills:[V0,Ji,null,null],equipment:{weapon:null,armor:null,accessory1:null,accessory2:null}},Oh={id:"c4",name:"苏媚",gender:"Female",realm:"筑基期",rarity:"优品",title:"百花仙子",race:"人族",origin:"精通治疗与辅助法术，是队伍中可靠的后盾。",charm:85,skillfulness:70,perception:65,baseAttributes:{hp:95,maxHp:95,mp:80,maxMp:80,attack:12,defense:14,speed:16,critRate:.08,critDmg:1.5},skills:[J0,wu,null,null],equipment:{weapon:null,armor:null,accessory1:null,accessory2:null}},_h={id:"c5",name:"龙傲天",gender:"Male",realm:"元婴期",rarity:"仙品",title:"天命之子",race:"神族",origin:"上古神族后裔，血脉中蕴含着毁天灭地的力量。",charm:80,skillfulness:85,perception:90,baseAttributes:{hp:250,maxHp:250,mp:120,maxMp:120,attack:40,defense:25,speed:22,critRate:.2,critDmg:2},skills:[Ji,wu,null,null],equipment:{weapon:null,armor:null,accessory1:null,accessory2:null}},zh={id:"c6",name:"张三",gender:"Male",realm:"炼气期",rarity:"凡品",title:"外门弟子",race:"人族",origin:"普通的宗门外门弟子。",charm:40,skillfulness:30,perception:35,baseAttributes:{hp:80,maxHp:80,mp:40,maxMp:40,attack:10,defense:8,speed:12,critRate:.05,critDmg:1.5},skills:[Ji,$0,null,null],equipment:{weapon:null,armor:null,accessory1:null,accessory2:null}},Dh={id:"c7",name:"九天玄女",gender:"Female",realm:"化神期",rarity:"神品",title:"天道化身",race:"神族",origin:"自天地初开时诞生的先天神灵，掌管着天道法则，威严而又神秘。",charm:99,skillfulness:99,perception:99,baseAttributes:{hp:400,maxHp:400,mp:250,maxMp:250,attack:60,defense:40,speed:30,critRate:.3,critDmg:2.5},skills:[vh,jh,null,null],equipment:{weapon:null,armor:null,accessory1:null,accessory2:null}},tl=[Vi,Eu,Eh,Oh,_h,zh,Dh],pu={凡品:10,良品:50,优品:150,珍品:500,绝品:1500,仙品:5e3,圣品:15e3,神品:5e4},Rh={tier:"黄铜",division:"III",points:1250,tierIcon:"🥉"},T0=(c,u)=>Math.floor(Math.random()*(u-c+1))+c,Kl=(c,u)=>{const d=[],o=new Set;for(;d.length<u&&o.size<c.length;){const m=c[T0(0,c.length-1)];if(!o.has(m.id)){const p=T0(1e3,6e3);d.push({rank:0,name:m.name,faction:"青蛇宗",points:p,characterId:m.id}),o.add(m.id)}}return d.sort((m,p)=>p.points-m.points).map((m,p)=>({...m,rank:p+1}))},kh={宗门排行榜:{总榜:Kl(tl,20),核心弟子:Kl(tl.filter(c=>["仙品","圣品","神品"].includes(c.rarity)),20),内门弟子:Kl(tl.filter(c=>["珍品","绝品"].includes(c.rarity)),20),外门弟子:Kl(tl.filter(c=>["优品","良品"].includes(c.rarity)),20),杂役弟子:Kl(tl.filter(c=>c.rarity==="凡品"),20)},野榜:Kl(tl,20),区域榜:Kl(tl,20),世界榜:Kl(tl,20)},Bh={mode:"exploration",exploration:{story:"在这个充满欲望与力量的修仙世界，实力并非唯一的主宰，潜藏在灵气之下的原始本能同样搅动着风云。你，一个身怀异禀的新进弟子，踏入了以双修和媚术闻名的青蛇宗。在这里，强大的修士们不仅追求通天修为，更沉溺于极致的肉体欢愉。宗门之内，师兄师姐们的关系错综复杂，每一次“切磋”都可能是一场香汗淋漓的征服。你将如何在这条充满诱惑与危险的道路上立足？是成为他人胯下的玩物，还是将所有人都变成你自己的禁脔？你的淫乱仙途，现在开始。",location:"青蛇宗山门",time:"第一天，清晨",choices:["向守门弟子介绍自己。","寻找登记处。","探索外门庭院。"],pendingChallenge:null},playerProfile:{name:"天选者",title:"新进弟子",relationships:[{id:"c2",name:"灵月",avatar:"path/to/lingyue-avatar.png",relationshipStatus:"熟人",relationshipTags:["同门","初识"],favorability:10,description:"在宗门初识，似乎对你有些好奇。"},{id:"c1",name:"风逸",avatar:"path/to/fengyi-avatar.png",relationshipStatus:"熟人",relationshipTags:["师兄","剑修"],favorability:25,description:"一位冷峻的师兄，剑法高超。"},{id:"c3",name:"石毅",avatar:"path/to/shiyi-avatar.png",relationshipStatus:"陌生人",relationshipTags:["炼体修士"],favorability:0,description:"一个看起来很强壮的修士，但你们还没说过话。"}],spiritStones:1e3,maleParty:[Vi],femaleParty:[],cardCollection:[Vi,Eu],equipmentInventory:[Cu,Tu,Mu],universalSkills:[yh,$0],arenaRank:Rh,reputation:{score:0,level:"默默无闻",dynamicTitles:[],greatestDeeds:[],title:"",goodDeeds:[],badDeeds:[],lewdDeeds:[]},quests:[{id:"main_01",title:"【主线】初入山门",description:"你站在青蛇宗的山门前，一位心怀壮志的新进弟子。首先，你需要向宗门报到。",category:"Main",status:"In Progress",objectives:[{id:"obj1",description:"与守门弟子交谈",isCompleted:!1,targetCount:1,currentCount:0},{id:"obj2",description:"在外门登记处完成登记",isCompleted:!1,targetCount:1,currentCount:0}],rewards:{spiritStones:50,reputation:10}}],businessDistrict:null},leaderboards:kh,announcements:{sect:[],adventure:[],world:[]},hospitalPatients:[],bountyBoard:[]},M0={patientId:"patient-example-01",name:"林婉儿",gender:"Female",age:19,background:"正道宗门“碧霞宫”的圣女，因偷练禁术而走火入魔，身体产生了奇特的异变。",genitalShape:"玉净瓶型蜜穴",sexualFeatures:["圣女体质","超敏感","被触碰会不自觉流出爱液"],illnessDescription:"所患奇症为“灵欲倒错”。每日正午，体内纯净的灵力会转化为高浓度的淫欲之气，若不与人交合疏导，便会遭受万蚁噬心般的痛苦，同时身体会散发出能令周围所有生物发情的异香。"},Uh={name:"九转淫魔",character:{id:"bounty-char-example-01",name:"九转淫魔",gender:"Male",realm:"元婴期",rarity:"绝品",title:"行走的播种机器",race:"魔族",origin:"上古淫魔的一缕分魂转世，以吸食女性修士的元阴为修炼法门，实力极强，极度危险。",appearance:"外表是俊美妖异的青年，但当他兴奋时，额头会长出魔角，胯下巨物会膨胀到恐怖的尺寸，上面布满了能吸取元阴的倒刺。",charm:92,skillfulness:88,perception:70,baseAttributes:{hp:350,maxHp:350,mp:150,maxMp:150,attack:55,defense:30,speed:25,critRate:.25,critDmg:2.2},skills:[{id:"bs1",name:"魔龙探穴",rarity:"绝品",description:"释放出充满魔气的触手攻击敌人。",eroticDescription:"胯下巨物化为数条灵活的魔气触手，强行钻入敌人的所有孔穴进行蹂躏，吸取其元阴。",mechanicsDescription:"造成180%攻击力的暗影伤害，并恢复造成伤害30%的气血。",cost:40,genderLock:"Male"},{id:"bs2",name:"淫魔领域",rarity:"绝品",description:"展开领域，削弱敌人。",eroticDescription:"释放出充满粉色瘴气的领域，领域内的敌人会持续陷入性兴奋状态，双腿发软，战意全无。",mechanicsDescription:"敌方全体攻击力与防御力降低20%，持续3回合。",cost:60,genderLock:"Male"},null,null],equipment:{weapon:null,armor:null,accessory1:null,accessory2:null}},specialTrait:"只对处女或元阴未泄的女性修士感兴趣，在与她们战斗时会变得异常强大。",locationHint:"似乎在【合欢宗】附近的山脉中寻找新的猎物。"},Hh=({descriptions:c,isLoading:u,isPlayerTurn:d})=>{const[o,m]=k.useState([]);k.useEffect(()=>{if(m([]),c.length>0){let b=0;const E=setInterval(()=>{m(v=>[...v,c[b]]),b++,b>=c.length&&clearInterval(E)},100);return()=>clearInterval(E)}},[c]);const p=()=>u&&c.length===0?n.jsx("p",{className:"text-center text-amber-300 animate-glow",children:"回合结算中..."}):o.length>0?o.map((b,E)=>n.jsx("p",{className:"text-center animate-fade-in",children:b},E)):!d&&!u?n.jsx("p",{className:"text-center text-gray-400",children:"等待对手行动..."}):n.jsx("p",{className:"text-center text-gray-500",children:"请选择你的行动。"});return n.jsx("div",{className:"w-full min-h-[6rem] bg-slate-900/50 p-4 rounded-lg border border-slate-700/50 flex flex-col justify-center items-center text-gray-300 font-serif transition-all duration-300 text-base shadow-inner shadow-black/50",children:n.jsx("div",{className:"space-y-2",children:p()})})},qh=({label:c,isActive:u,onClick:d})=>n.jsx("button",{onClick:d,className:`px-5 py-2 text-base font-semibold rounded-t-lg transition-colors duration-200 font-serif ${u?"bg-stone-800/80 text-amber-400 border-b-2 border-amber-400":"bg-transparent text-gray-400 hover:bg-stone-900/50 hover:text-gray-200"}`,children:c}),Lh=({announcement:c})=>n.jsxs("div",{className:"bg-black/20 p-4 rounded-lg border border-stone-700/50 animate-fade-in",children:[n.jsxs("div",{className:"flex justify-between items-baseline",children:[n.jsx("h3",{className:"text-xl font-bold text-white font-serif",children:c.title}),n.jsx("p",{className:"text-sm text-gray-500 font-mono",children:c.timestamp})]}),n.jsx("p",{className:"text-gray-300 mt-2",children:c.content})]}),Yh=({isOpen:c,onClose:u,announcements:d,onRefresh:o,isLoading:m})=>{const[p,b]=k.useState("sect");if(!c)return null;const E={sect:{label:"宗门公告",data:d.sect},adventure:{label:"奇遇逸闻",data:d.adventure},world:{label:"世界法旨",data:d.world}},v=E[p].data;return n.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 animate-fade-in",onClick:u,children:n.jsxs("div",{className:"ornate-border bg-stone-900 w-full max-w-4xl h-auto max-h-[80vh] rounded-xl shadow-2xl overflow-hidden backdrop-blur-lg flex flex-col",onClick:g=>g.stopPropagation(),children:[n.jsxs("div",{className:"flex justify-between items-center p-4 pr-6 flex-shrink-0 bg-black/20",children:[n.jsx("h2",{className:"text-2xl font-bold text-amber-300 font-serif",children:"天机阁"}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:o,disabled:m,className:"text-amber-300 hover:text-white transition-colors disabled:opacity-50 disabled:cursor-wait",children:n.jsx("i",{className:`fa-solid fa-arrows-rotate text-xl ${m?"animate-spin":""}`})}),n.jsx("button",{onClick:u,className:"text-amber-300 hover:text-white transition-colors",children:n.jsx("i",{className:"fa-solid fa-times text-2xl"})})]})]}),n.jsx("div",{className:"flex-shrink-0 px-4 flex space-x-2 border-b border-stone-700",children:Object.entries(E).map(([g,{label:O}])=>n.jsx(qh,{label:O,isActive:p===g,onClick:()=>b(g)},g))}),n.jsx("div",{className:"flex-grow overflow-y-auto p-6 space-y-4",children:v.length>0?v.map(g=>n.jsx(Lh,{announcement:g},g.id)):n.jsxs("div",{className:"text-center text-gray-500 pt-10",children:[n.jsx("p",{className:"text-4xl mb-4",children:"📜"}),n.jsx("p",{children:m?"正在从天机阁获取最新情报...":"此分类下暂无情报。"})]})})]})})},Gh=({announcements:c,onClick:u})=>{if(c.length===0)return null;const d=c.map(o=>`【${o.category}】 ${o.title}`).join("      ");return n.jsx("div",{className:"absolute top-16 left-0 right-0 h-8 bg-gradient-to-r from-amber-900/80 via-yellow-600/80 to-amber-900/80 z-10 flex items-center overflow-hidden cursor-pointer border-y-2 border-amber-400/50 shadow-lg pointer-events-auto",onClick:u,children:n.jsxs("div",{className:"whitespace-nowrap w-full flex",children:[n.jsx("p",{className:"font-serif text-sm text-yellow-100 drop-shadow-sm shadow-black animate-marquee pr-12",children:d}),n.jsx("p",{className:"font-serif text-sm text-yellow-100 drop-shadow-sm shadow-black animate-marquee pr-12","aria-hidden":"true",children:d})]})})},Qh=({victory:c,oldRank:u,newRank:d,pointsChange:o,onClose:m})=>{const p=c?"胜利":"惜败",b=c?"text-green-400":"text-red-400",E=o>=0?"text-green-400":"text-red-400";return n.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 animate-fade-in",children:n.jsxs("div",{className:"ornate-border bg-stone-900 w-full max-w-md rounded-xl shadow-2xl backdrop-blur-lg flex flex-col items-center text-center p-8",children:[n.jsx("h2",{className:`text-4xl font-bold font-serif mb-4 ${b}`,children:p}),n.jsxs("div",{className:"my-6 w-full",children:[n.jsxs("div",{className:"flex justify-between items-center text-lg mb-2",children:[n.jsx("span",{className:"text-gray-400",children:"先前段位:"}),n.jsxs("span",{className:"text-white font-semibold",children:[u.tier," ",u.division]})]}),n.jsxs("div",{className:"flex justify-between items-center text-lg mb-4",children:[n.jsx("span",{className:"text-gray-400",children:"先前积分:"}),n.jsx("span",{className:"text-white font-mono",children:u.points})]}),n.jsx("div",{className:"border-t border-dashed border-stone-600 my-4"}),n.jsxs("div",{className:"flex justify-between items-center text-2xl mb-2",children:[n.jsx("span",{className:"text-gray-300",children:"当前段位:"}),n.jsxs("span",{className:"text-amber-400 font-bold",children:[d.tier," ",d.division]})]}),n.jsxs("div",{className:"flex justify-between items-center text-2xl",children:[n.jsx("span",{className:"text-gray-300",children:"当前积分:"}),n.jsxs("div",{className:"flex items-baseline",children:[n.jsx("span",{className:"text-amber-400 font-mono font-bold",children:d.points}),n.jsxs("span",{className:`ml-2 font-mono ${E}`,children:["(",o>=0?`+${o}`:o,")"]})]})]})]}),n.jsx("button",{onClick:m,className:"mt-6 bg-amber-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-amber-500 transition-colors shadow-lg w-40 h-14 flex items-center justify-center",children:"返回"})]})})},A0=({title:c,description:u,cost:d,onClick:o,disabled:m})=>n.jsx("button",{onClick:o,disabled:m,className:"h-full w-full flex flex-col justify-between text-center bg-stone-700/80 p-3 rounded-lg hover:bg-stone-600/80 border border-stone-600/50 hover:border-amber-400/50 transition-all duration-200 group disabled:opacity-40 disabled:cursor-not-allowed shadow-md",children:n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-center items-baseline gap-2",children:[n.jsx("span",{className:"font-bold text-white text-base font-serif",children:c}),d!==void 0&&n.jsxs("span",{className:"font-mono text-blue-400 text-xs",children:[d,"MP"]})]}),n.jsx("p",{className:"text-xs text-amber-300 mt-1 group-hover:text-amber-200 font-serif whitespace-normal",children:u})]})}),Xh=({activeCard:c,onAction:u,onClose:d})=>{const{card:o}=c;return n.jsx("div",{className:"fixed inset-0 bg-black/70 z-30 flex items-end justify-center",onClick:d,children:n.jsx("div",{className:"w-full max-w-4xl bg-stone-800/90 backdrop-blur-lg rounded-t-xl border-t border-yellow-400/20 p-5 shadow-2xl animate-slide-up",onClick:m=>m.stopPropagation(),children:n.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",style:{gridAutoRows:"1fr"},children:[n.jsx(A0,{title:"普通攻击",description:"造成少量物理伤害",onClick:()=>u("普通攻击")}),o.skills.map(m=>m&&n.jsx(A0,{title:m.name,description:m.mechanicsDescription,cost:m.cost,onClick:()=>u(m.name)},m.id))]})})})},Zh=({battleState:c,isLoading:u,onCombatAction:d,onFlee:o,onOpenCombatLog:m})=>{const[p,b]=k.useState(!1),E=c.playerParty[c.activePlayerCardIndex],v=c.turn==="player"&&!c.isBattleOver&&!u,g=O=>{d(O),b(!1)};return n.jsxs(n.Fragment,{children:[n.jsx("footer",{className:"w-full h-28 bg-black/90 p-4 flex items-center justify-center border-t border-stone-700",children:n.jsxs("div",{className:"flex items-center justify-center gap-4",children:[n.jsx("button",{onClick:m,className:"w-32 h-14 text-lg bg-stone-800/80 hover:bg-stone-700/80 rounded-md font-serif border border-stone-600/50",children:"记录"}),n.jsx("button",{onClick:()=>b(!0),disabled:!v,className:"w-40 h-16 text-xl bg-sky-700/80 hover:bg-sky-600/90 rounded-lg font-serif border-2 border-sky-500/80 text-white font-bold disabled:opacity-50 disabled:cursor-not-allowed shadow-lg shadow-sky-500/30",children:"行动"}),n.jsx("button",{onClick:o,className:"w-32 h-14 text-lg bg-stone-800/80 hover:bg-stone-700/80 rounded-md font-serif border border-stone-600/50",children:"返回"})]})}),p&&n.jsx(Xh,{activeCard:E,onAction:g,onClose:()=>b(!1)})]})},Re=c=>{if(!c)return"text-gray-400";switch(c){case"凡品":return"text-gray-400";case"良品":return"text-green-400";case"优品":return"text-blue-400";case"珍品":return"text-purple-400";case"绝品":return"text-amber-400";case"仙品":return"text-red-400";case"圣品":return"text-yellow-300 animate-glow";case"神品":return"text-rainbow font-black";default:return"text-gray-400"}},Pl=c=>{if(!c)return"border-gray-600/50";switch(c){case"凡品":return"border-gray-600/50";case"良品":return"border-green-500/60";case"优品":return"border-blue-500/60";case"珍品":return"border-purple-500/60";case"绝品":return"border-amber-400/70";case"仙品":return"border-red-500/70";case"圣品":return"border-yellow-300/80";case"神品":return"border-fuchsia-400 animate-pulse-fast";default:return"border-gray-600/50"}},Vh=c=>{if(!c)return"";switch(c){case"良品":return"shadow-[0_0_12px_2px_rgba(34,197,94,0.4)]";case"优品":return"shadow-[0_0_12px_2px_rgba(59,130,246,0.5)]";case"珍品":return"shadow-[0_0_12px_2px_rgba(168,85,247,0.5)]";case"绝品":return"shadow-[0_0_15px_3px_rgba(251,191,36,0.6)]";case"仙品":return"shadow-[0_0_18px_4px_rgba(239,68,68,0.6)]";case"圣品":return"shadow-[0_0_22px_5px_rgba(253,224,71,0.7)] animate-pulse";case"神品":return"shadow-[0_0_30px_6px_rgba(236,72,153,0.7)] animate-pulse-fast";default:return""}},$i=(c,u=!0)=>{const d=u?" transition-colors":"";if(!c)return"bg-slate-800/70"+d;switch(c){case"凡品":return"bg-slate-800/70"+(u?" hover:bg-slate-800/90":"");case"良品":return"bg-green-900/20"+(u?" hover:bg-green-900/30":"");case"优品":return"bg-blue-900/20"+(u?" hover:bg-blue-900/30":"");case"珍品":return"bg-purple-900/20"+(u?" hover:bg-purple-900/30":"");case"绝品":return"bg-amber-900/20"+(u?" hover:bg-amber-900/30":"");case"仙品":return"bg-red-900/20"+(u?" hover:bg-red-900/30":"");case"圣品":return"bg-yellow-900/30"+(u?" hover:bg-yellow-900/40":"");case"神品":return"bg-purple-900/40"+(u?" hover:bg-purple-900/50":"");default:return"bg-slate-800/70"+d}},Jh=c=>c.includes("提升")||c.includes("盾")?"⬆️":c.includes("下降")||c.includes("弱")?"⬇️":c.includes("毒")||c.includes("灼烧")?"☠️":c.includes("晕")||c.includes("锁")||c.includes("混乱")?"😵":"✨",$h=({effect:c,onClose:u})=>n.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 animate-fade-in",onClick:u,children:n.jsxs("div",{className:"ornate-border bg-stone-800/90 backdrop-blur-lg w-full max-w-md shadow-2xl flex flex-col",onClick:d=>d.stopPropagation(),children:[n.jsxs("div",{className:"p-4 flex justify-between items-center bg-black/20",children:[n.jsx("h2",{className:"text-xl font-bold text-amber-300 font-serif",children:"状态详情"}),n.jsx("button",{onClick:u,className:"text-amber-300 hover:text-white transition-colors",children:n.jsx("i",{className:"fa-solid fa-times text-2xl"})})]}),n.jsxs("div",{className:"p-6 font-serif flex-grow flex flex-col items-center",children:[n.jsx("div",{className:"text-6xl mb-3",children:Jh(c.name)}),n.jsx("h3",{className:"text-3xl font-bold text-white text-center",children:c.name}),n.jsxs("p",{className:"text-lg text-amber-400 font-mono mt-1 mb-6",children:["剩余 ",c.duration," 回合"]}),n.jsxs("div",{className:"w-full space-y-4 text-left",children:[n.jsxs("div",{className:"bg-black/20 p-3 rounded-md border border-stone-700/50",children:[n.jsx("h4",{className:"font-semibold text-amber-400 mb-1 text-sm",children:"效果描述"}),n.jsx("p",{className:"text-gray-300 leading-relaxed text-base",children:c.description})]}),c.mechanicsDescription&&n.jsxs("div",{className:"bg-black/20 p-3 rounded-md border border-stone-700/50",children:[n.jsx("h4",{className:"font-semibold text-amber-400 mb-1 text-sm",children:"机制说明"}),n.jsx("p",{className:"text-amber-200 leading-relaxed text-base",children:c.mechanicsDescription})]})]})]})]})}),E0=({value:c,maxValue:u,color:d,label:o})=>{const m=u>0?c/u*100:0;return n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"flex justify-between items-center mb-0.5 text-white z-10 relative px-1",children:[n.jsx("span",{className:"text-[10px] font-bold drop-shadow-sm shadow-black",children:o}),n.jsx("span",{className:"text-[10px] font-mono drop-shadow-sm shadow-black",children:`${c}/${u}`})]}),n.jsx("div",{className:"w-full bg-stone-900/50 rounded-full h-2.5 border border-stone-600/50 shadow-inner shadow-black/50",children:n.jsx("div",{className:`${d} h-full rounded-full transition-all duration-500 ease-in-out`,style:{width:`${m}%`}})})]})},Kh=({effect:c,onClick:u})=>{const d=o=>o.includes("提升")||o.includes("盾")?"⬆️":o.includes("下降")||o.includes("弱")?"⬇️":o.includes("毒")||o.includes("灼烧")?"☠️":o.includes("晕")||o.includes("锁")||o.includes("混乱")?"😵":"✨";return n.jsx("button",{onClick:u,className:"w-7 h-7 bg-stone-900/70 rounded-full flex items-center justify-center text-sm border-2 border-stone-500 hover:border-amber-400 transition-colors",title:c.name,children:d(c.name)})},O0=({participant:c,isPlayer:u,wasHit:d})=>{const{card:o,currentHp:m,currentMp:p,statusEffects:b}=c,[E,v]=k.useState(!1),[g,O]=k.useState(null),S=u?"border-sky-500/70":"border-red-500/70";k.useEffect(()=>{if(d){v(!0);const z=setTimeout(()=>v(!1),500);return()=>clearTimeout(z)}},[d]);const Y=E?"animate-shake":"";return n.jsxs(n.Fragment,{children:[g&&n.jsx($h,{effect:g,onClose:()=>O(null)}),n.jsxs("div",{className:`w-full max-w-[280px] bg-stone-800/80 rounded-lg border-2 ${S} shadow-lg shadow-black/50 backdrop-blur-sm transition-all duration-300 ${Y} p-3`,children:[n.jsxs("div",{className:"text-center mb-2",children:[n.jsx("h2",{className:"text-lg font-bold text-white font-serif",children:o.name}),n.jsx("p",{className:`font-medium text-sm ${Re(o.rarity)}`,children:o.realm})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(E0,{value:m,maxValue:o.baseAttributes.maxHp,color:"bg-gradient-to-r from-red-600 to-red-400 border-r border-black/20",label:"气血"}),n.jsx(E0,{value:p,maxValue:o.baseAttributes.maxMp,color:"bg-gradient-to-r from-blue-600 to-blue-400 border-r border-black/20",label:"真元"})]}),b.length>0?n.jsx("div",{className:"mt-3 h-8 flex items-center justify-center gap-2 flex-wrap",children:b.map((z,N)=>n.jsx(Kh,{effect:z,onClick:()=>O(z)},`${z.name}-${N}`))}):n.jsx("div",{className:"mt-3 h-8 flex items-center justify-center text-xs text-gray-500",children:"无特殊状态"})]})]})},Wh=({animation:c})=>{const u=()=>{const d="text-6xl md:text-8xl text-yellow-300 drop-shadow-[0_0_15px_rgba(252,211,77,0.7)]";switch(c.effect){case"slash":return n.jsx("div",{className:d,children:"⚔️"});case"fire":return n.jsx("div",{className:d,children:"🔥"});case"heal":return n.jsx("div",{className:"text-6xl md:text-8xl text-green-400 drop-shadow-[0_0_15px_rgba(74,222,128,0.7)]",children:"✨"});case"shield":return n.jsx("div",{className:"text-6xl md:text-8xl text-sky-400 drop-shadow-[0_0_15px_rgba(56,189,248,0.7)]",children:"🛡️"});default:return n.jsx("div",{className:d,children:"💥"})}};return n.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none animate-flash",children:n.jsx("div",{className:"relative w-32 h-32",children:u()})},c.key)},Fh=({player:c,opponent:u,animation:d,lastHit:o})=>n.jsxs("div",{className:"w-full h-full relative flex justify-around items-center p-4",children:[n.jsx("div",{className:"animate-fade-in transition-transform duration-300 hover:scale-105",children:n.jsx(O0,{participant:c,isPlayer:!0,wasHit:o==="player"})}),n.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-20 pointer-events-none",children:d&&n.jsx(Wh,{animation:d})}),n.jsx("div",{className:"animate-fade-in transition-transform duration-300 hover:scale-105",children:n.jsx(O0,{participant:u,isPlayer:!1,wasHit:o==="opponent"})})]}),Ih=({victory:c,onClose:u})=>c===null?null:n.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 animate-fade-in",children:n.jsxs("div",{className:"bg-stone-800/90 ornate-border backdrop-blur-lg w-full max-w-md shadow-2xl flex flex-col items-center justify-center p-8 text-center",children:[n.jsx("h2",{className:`text-5xl font-bold mb-6 font-serif ${c?"text-amber-400":"text-stone-400"}`,children:c?"胜利":"败北"}),n.jsx("button",{onClick:u,className:"bg-amber-600 text-white font-bold px-8 py-3 rounded-md hover:bg-amber-500 transition-colors text-lg",children:"继续"})]})}),Wl=({label:c,icon:u,onClick:d,color:o})=>n.jsxs("button",{onClick:d,className:`flex flex-col items-center justify-center w-14 h-14 text-stone-300 rounded-lg bg-stone-900/50 hover:bg-stone-800/80 hover:text-white transition-colors duration-200 group relative border border-yellow-400/20 ${o}`,title:c,children:[n.jsx("i",{className:`${u} text-xl`}),n.jsx("span",{className:"text-[10px] mt-1 font-semibold",children:c})]}),Ph=c=>{const{gameState:u,isLoading:d,error:o,onExplorationAction:m,onNavClick:p,onMapClick:b,onInteractClick:E,onTelepathyClick:v,onSystemClick:g,onQuestClick:O,onBusinessClick:S,onNextDay:Y,onHospitalClick:z,onBountyBoardClick:N}=c,[A,U]=k.useState(""),G=Q=>{Q.preventDefault(),A.trim()&&!d&&(m(A.trim()),U(""))},J=[{label:"队伍",icon:"fa-solid fa-users"},{label:"背包",icon:"fa-solid fa-briefcase"},{label:"商城",icon:"fa-solid fa-store"},{label:"任务",icon:"fa-solid fa-scroll"},{label:"竞技场",icon:"fa-solid fa-trophy"}];return n.jsx("footer",{className:"absolute bottom-0 left-0 right-0 h-auto md:h-28 bg-gradient-to-t from-black/90 via-black/80 to-transparent p-2 z-20",children:n.jsxs("div",{className:"h-full w-full max-w-screen-lg mx-auto flex flex-col md:flex-row items-center justify-center gap-4",children:[n.jsxs("div",{className:"flex-shrink-0 flex flex-wrap justify-center gap-2",children:[n.jsx(Wl,{label:"地图",icon:"fa-solid fa-map-location-dot",onClick:b}),n.jsx(Wl,{label:"探查",icon:"fa-solid fa-magnifying-glass",onClick:E}),n.jsx("div",{className:"w-px h-14 bg-yellow-400/20"}),J.map(Q=>n.jsx(Wl,{label:Q.label,icon:Q.icon,onClick:()=>Q.label==="任务"?O():p(Q.label)},Q.label)),n.jsx("div",{className:"w-px h-14 bg-yellow-400/20"}),n.jsx(Wl,{label:"传音",icon:"fa-solid fa-om",onClick:v,color:"text-cyan-400"}),n.jsx(Wl,{label:"产业",icon:"fa-solid fa-store",onClick:S}),n.jsx(Wl,{label:"医馆",icon:"fa-solid fa-hospital",onClick:z}),n.jsx(Wl,{label:"红尘录",icon:"fa-solid fa-book-skull",onClick:N}),n.jsx(Wl,{label:"系统",icon:"fa-solid fa-bars",onClick:g})]}),n.jsx("div",{className:"flex-grow w-full",children:d?n.jsx("div",{className:"flex items-center justify-center h-24",children:n.jsx("div",{className:"animate-glow text-amber-300 font-serif",children:"天地变幻..."})}):n.jsxs(n.Fragment,{children:[o&&n.jsx("div",{className:"text-red-400 text-center mb-1 font-serif text-sm animate-shake",children:o}),n.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-2",children:u.exploration.choices.map((Q,I)=>n.jsx("button",{onClick:()=>m(Q),className:"flex-grow basis-40 text-center bg-stone-800/80 px-3 py-2 rounded-md hover:bg-stone-700/80 hover:border-amber-400/50 border border-transparent transition-all duration-200 font-serif shadow-md text-sm",children:Q},I))}),n.jsxs("form",{onSubmit:G,className:"flex gap-2",children:[n.jsx("input",{type:"text",value:A,onChange:Q=>U(Q.target.value),placeholder:"或输入你的行动...",className:"flex-1 bg-stone-900/80 border border-stone-600 rounded-md px-3 py-1.5 focus:outline-none focus:ring-1 focus:ring-amber-500 font-serif shadow-inner shadow-black/50 text-sm"}),n.jsx("button",{type:"submit",disabled:!A.trim(),className:"bg-amber-600 text-white font-bold px-4 py-1.5 rounded-md hover:bg-amber-500 transition-colors duration-200 disabled:opacity-50 font-serif shadow-md text-sm",children:"确定"}),n.jsx("button",{type:"button",onClick:Y,className:"bg-indigo-600 text-white font-bold px-4 py-1.5 rounded-md hover:bg-indigo-500 transition-colors duration-200 shadow-md text-sm",children:"下一天"})]})]})})]})})},eb=({isOpen:c,onClose:u,bountyBoard:d,onViewTarget:o,onRefresh:m,onAddTarget:p,isLoading:b})=>{const[E,v]=k.useState("悬赏中");if(!c)return null;const g=d.filter(O=>O.status===E);return n.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 animate-fade-in",onClick:u,children:n.jsxs("div",{className:"ornate-border bg-stone-900 w-full max-w-4xl h-[80vh] rounded-xl shadow-2xl overflow-hidden backdrop-blur-lg flex flex-col",onClick:O=>O.stopPropagation(),children:[n.jsxs("div",{className:"flex justify-between items-center p-4 flex-shrink-0 bg-black/20",children:[n.jsx("h2",{className:"text-2xl font-bold text-amber-300 font-serif",children:"红尘录"}),n.jsx("button",{onClick:u,className:"text-amber-300 hover:text-white transition-colors",children:n.jsx("i",{className:"fa-solid fa-times text-2xl"})})]}),n.jsxs("div",{className:"flex-shrink-0 p-4 flex items-center justify-between border-b border-stone-700 bg-black/10",children:[n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>v("悬赏中"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-colors duration-200 ${E==="悬赏中"?"bg-amber-500/20 text-amber-300":"bg-stone-700/50 text-gray-300 hover:bg-stone-600/50"}`,children:"悬赏中"}),n.jsx("button",{onClick:()=>v("已狩猎"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-colors duration-200 ${E==="已狩猎"?"bg-amber-500/20 text-amber-300":"bg-stone-700/50 text-gray-300 hover:bg-stone-600/50"}`,children:"已狩猎"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>p("Female"),disabled:b,className:"px-3 py-1 text-xs bg-pink-500/20 text-pink-300 rounded-md hover:bg-pink-500/40 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"生成中...":"添加女性目标"}),n.jsx("button",{onClick:()=>p("Male"),disabled:b,className:"px-3 py-1 text-xs bg-blue-500/20 text-blue-300 rounded-md hover:bg-blue-500/40 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"生成中...":"添加男性目标"}),n.jsxs("button",{onClick:m,disabled:b,className:"px-3 py-1 text-xs bg-yellow-500/20 text-yellow-300 rounded-md hover:bg-yellow-500/40 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx("i",{className:`fa-solid fa-sync ${b?"animate-spin":""}`})," 刷新悬赏"]})]})]}),n.jsx("div",{className:"flex-grow p-6 overflow-y-auto",children:g.length>0?n.jsx("div",{className:"space-y-4",children:g.map(O=>n.jsxs("div",{className:"bg-black/20 p-4 rounded-lg border border-stone-700/50 flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:`text-xl font-bold font-serif ${Re(O.character.rarity)}`,children:[O.name," ",n.jsxs("span",{className:"text-base font-normal text-gray-400",children:["[",O.character.rarity,"]"]})]}),n.jsxs("p",{className:"text-sm text-gray-400 italic mt-1",children:["线索: ",O.locationHint]}),n.jsxs("p",{className:"text-sm text-pink-400 mt-1",children:["特征: ",O.specialTrait]})]}),n.jsx("button",{onClick:()=>o(O),className:"bg-cyan-600/80 text-white font-bold px-4 py-2 rounded-md hover:bg-cyan-500/80 transition-colors",children:"查看详情"})]},O.id))}):n.jsxs("div",{className:"text-center text-gray-500 pt-10",children:[n.jsx("p",{className:"text-4xl mb-4",children:"📜"}),n.jsx("p",{children:"此榜单上暂无记录。"})]})})]})})},Il=c=>{const u=JSON.parse(JSON.stringify(c.baseAttributes)),d=Object.values(c.equipment);for(const o of d)if(o){for(const[m,p]of Object.entries(o.stats))if(p!==void 0)switch(m){case"hp":u.maxHp+=p;break;case"mp":u.maxMp+=p;break;case"attack":u.attack+=p;break;case"defense":u.defense+=p;break;case"speed":u.speed+=p;break;case"critRate":u.critRate+=p;break;case"critDmg":u.critDmg+=p;break}}return u.hp=u.maxHp,u.mp=u.maxMp,u},tb={p_brothel_star:1.5,p_brothel_tutor:1.2,p_brothel_guard:.5,p_arena_gladiator:1.8,p_arena_host:1.1,p_arena_trader:1,p_alchemy_chief:2,p_alchemy_apprentice:.8,p_auction_master:2.5,p_auction_appraiser:1.5,p_intel_chief:2.2,p_intel_assassin:1.7},lb={青楼:10,角斗场:5,炼丹房:2,拍卖行:0,情报阁:0};function W0(c,u){if(!c.businessDistrict)return 0;const{shops:d,level:o}=c.businessDistrict;let m=0;if((u?d.filter(b=>b.id===u):d).forEach(b=>{let E=(lb[b.type]||0)*(1+(b.level-1)*.2);b.staff.forEach(v=>{const g=c.cardCollection.find(S=>S.id===v.characterId),O=Au[v.positionId];if(g&&O){const S=O.requiredAttr,Y=g[S]||10,z=tb[v.positionId]||1,N=Y/10*z;E+=N}}),m+=E}),!u){m*=1+(o-1)*.1;const b=c.reputation.score/5e3;m*=1+b}return Math.floor(m)}const ab=({isOpen:c,onClose:u,playerProfile:d,onUpdateProfile:o,onOpenSurveillance:m})=>{const[p,b]=k.useState("青楼"),{businessDistrict:E,cardCollection:v}=d,g=k.useMemo(()=>{if(!E)return{};const z={};return E.shops.forEach(N=>{z[N.id]=W0(d,N.id)}),z},[d,E]);if(!c)return null;const O=()=>{if(!E)return v;const z=new Set(E.shops.flatMap(N=>N.staff.map(A=>A.characterId)));return v.filter(N=>!z.has(N.id))},S=(z,N,A)=>{if(!E)return;const U=JSON.parse(JSON.stringify(E)),G=U.shops.find(J=>J.id===z);G&&(U.shops.forEach(J=>{J.staff=J.staff.filter(Q=>Q.characterId!==A)}),G.staff.push({characterId:A,positionId:N}),o({...d,businessDistrict:U}))},Y=(z,N)=>{if(!E)return;const A=JSON.parse(JSON.stringify(E)),U=A.shops.find(G=>G.id===z);U&&(U.staff=U.staff.filter(G=>G.characterId!==N),o({...d,businessDistrict:A}))};return n.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 animate-fade-in",onClick:u,children:n.jsxs("div",{className:"ornate-border bg-stone-900 w-full max-w-4xl h-[80vh] rounded-xl shadow-2xl overflow-hidden backdrop-blur-lg flex flex-col",onClick:z=>z.stopPropagation(),children:[n.jsxs("div",{className:"flex justify-between items-center p-4 flex-shrink-0 bg-black/20",children:[n.jsx("h2",{className:"text-2xl font-bold text-amber-300 font-serif",children:E?E.name:"产业管理"}),n.jsx("button",{onClick:u,className:"text-amber-300 hover:text-white transition-colors",children:n.jsx("i",{className:"fa-solid fa-times text-2xl"})})]}),E?n.jsx("div",{className:"flex-grow p-6 overflow-y-auto",children:n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[n.jsxs("div",{className:"md:col-span-1 space-y-4",children:[n.jsxs("div",{className:"bg-black/20 p-4 rounded-lg border border-stone-700/50",children:[n.jsx("h3",{className:"font-semibold text-amber-400 mb-2",children:"街区总览"}),n.jsxs("p",{className:"text-gray-300",children:["等级: ",n.jsx("span",{className:"font-mono",children:E.level})]}),n.jsxs("p",{className:"text-gray-300",children:["店铺数量: ",n.jsx("span",{className:"font-mono",children:E.shops.length})]})]}),n.jsxs("div",{className:"bg-black/20 p-4 rounded-lg border border-stone-700/50 h-96 overflow-y-auto",children:[n.jsx("h3",{className:"font-semibold text-amber-400 mb-2",children:"经营日志"}),n.jsx("ul",{className:"space-y-2 text-sm",children:E.log.map((z,N)=>n.jsxs("li",{className:"text-gray-400",children:[n.jsxs("span",{className:"font-mono text-gray-500 mr-2",children:["[",z.timestamp,"]"]}),z.message]},N))})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("div",{className:"flex border-b border-stone-700 mb-4",children:["青楼","角斗场","炼丹房","拍卖行","情报阁"].map(z=>{const N=E.shops.some(A=>A.type===z);return n.jsx("button",{disabled:!N,onClick:()=>b(z),className:`px-4 py-2 text-sm font-semibold rounded-t-lg transition-colors duration-200 disabled:text-gray-600 disabled:cursor-not-allowed ${p===z?"bg-stone-700/80 text-amber-400 border-b-2 border-amber-400":"bg-transparent text-gray-400 hover:bg-stone-700/50"}`,children:z},z)})}),n.jsx("div",{className:"space-y-4",children:E.shops.filter(z=>z.type===p).map(z=>n.jsxs("div",{className:"bg-black/20 p-4 rounded-lg border border-stone-700/50",children:[n.jsxs("div",{className:"flex justify-between items-center mb-3",children:[n.jsxs("h3",{className:"font-semibold text-lg text-cyan-400",children:[z.type," (Lv. ",z.level,")"]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("p",{className:"text-sm text-gray-400",children:["预期日收入: ",n.jsxs("span",{className:"font-mono text-amber-400",children:[g[z.id]||0," 灵石"]})]}),n.jsx("button",{onClick:()=>m(z),className:"text-xs bg-purple-600/50 text-purple-300 px-2 py-1 rounded-md hover:bg-purple-600/80",children:"监视"})]})]}),n.jsx("div",{className:"space-y-2",children:Object.entries(Au).filter(([,N])=>N.shop===z.type).map(([N,A])=>{const U=z.staff.find(J=>J.positionId===N),G=U?v.find(J=>J.id===U.characterId):null;return n.jsxs("div",{className:"flex items-center justify-between bg-stone-800/50 p-2 rounded-md",children:[n.jsx("span",{className:"text-gray-300",children:A.name}),G?n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("span",{className:"text-amber-300",children:G.name}),n.jsx("button",{onClick:()=>Y(z.id,G.id),className:"text-red-500 hover:text-red-400 text-xs",children:"卸下"})]}):n.jsxs("select",{onChange:J=>S(z.id,N,J.target.value),className:"bg-stone-700 text-white text-sm rounded",children:[n.jsx("option",{value:"",children:"选择员工"}),O().map(J=>n.jsx("option",{value:J.id,children:J.name},J.id))]})]},N)})})]},z.id))})]})]})}):n.jsx("div",{className:"flex-grow flex items-center justify-center",children:n.jsxs("div",{className:"text-center text-gray-500",children:[n.jsx("p",{className:"text-4xl mb-4",children:"🏯"}),n.jsx("p",{children:"你还未拥有自己的产业。"}),n.jsx("p",{className:"text-sm mt-2",children:"完成特定任务或积累足够资本，开启你的商业帝国吧！"})]})})]})})},nb=({isOpen:c,onClose:u,challenge:d,onAccept:o,onDecline:m})=>c?n.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 animate-fade-in",onClick:u,children:n.jsxs("div",{className:"ornate-border bg-stone-800/90 backdrop-blur-lg w-full max-w-md shadow-2xl flex flex-col items-center p-6 text-center",onClick:p=>p.stopPropagation(),children:[n.jsx("div",{className:"p-4 text-center",children:n.jsx("h2",{className:"text-2xl font-bold text-amber-300 font-serif",children:"挑战"})}),n.jsxs("div",{className:"p-6 font-serif flex flex-col justify-center items-center",children:[n.jsx("p",{className:"text-4xl mb-4",children:"⚔️"}),n.jsxs("p",{className:"text-white text-lg",children:[n.jsx("span",{className:"font-bold text-red-400",children:d.challengerName})," 向你发起了挑战！"]}),n.jsxs("p",{className:"text-amber-300 mt-2 italic",children:['"',d.reason,'"']}),n.jsxs("div",{className:"flex justify-center gap-4 mt-8",children:[n.jsx("button",{onClick:m,className:"px-6 py-2 bg-stone-600 hover:bg-stone-500 rounded-md font-semibold text-white",children:"拒绝挑战"}),n.jsx("button",{onClick:o,className:"px-6 py-2 bg-red-700 text-white hover:bg-red-600 rounded-md font-bold",children:"接受挑战"})]})]})]})}):null,sb=c=>({attack:"攻击",defense:"防御",hp:"气血",speed:"速度",critRate:"会心率",critDmg:"会心伤害"})[c]||c,_0=(c,u)=>c==="critRate"||c==="critDmg"?`${(u*100).toFixed(0)}%`:u>0?`+${u}`:`${u}`,ib=({playerProfile:c,card:u,selectionState:d,onClose:o,onEquip:m,onLearnSkill:p})=>{const[b,E]=k.useState(null),v=U=>U.type==="equipment",g=U=>U.type==="skill",O=(U,G)=>n.jsxs("div",{children:[n.jsx("h3",{className:`text-lg font-bold ${Re(U.rarity)}`,children:U.name}),n.jsxs("p",{className:"text-sm text-gray-400 mb-4",children:[U.type," (",!U.genderLock||U.genderLock==="Universal"?"通用":U.genderLock==="Male"?"男性专用":"女性专用",")"]}),n.jsx("div",{className:"space-y-2",children:Object.entries(U.stats).map(([J,Q])=>{const I=(G==null?void 0:G.stats[J])||0,ee=Q-I;return n.jsxs("div",{className:"flex justify-between items-center text-sm",children:[n.jsx("span",{className:"text-gray-300",children:sb(J)}),n.jsxs("div",{className:"flex items-center gap-2",children:[G&&n.jsx("span",{className:"text-gray-500",children:_0(J,I)}),n.jsx("span",{className:`font-semibold ${ee>0?"text-green-400":ee<0?"text-red-400":"text-white"}`,children:_0(J,Q)}),G&&ee!==0&&n.jsxs("span",{className:`text-xs w-16 text-center font-mono ${ee>0?"text-green-500":"text-red-500"}`,children:["(",ee>0?"+":"",ee,")"]})]})]},J)})})]}),S=U=>n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-baseline mb-2",children:[n.jsxs("h3",{className:"text-lg font-bold text-white flex items-baseline gap-2",children:[n.jsx("span",{className:`${Re(U.rarity)}`,children:U.name}),n.jsxs("span",{className:`text-base font-medium ${Re(U.rarity)}`,children:["[",U.rarity,"]"]})]}),n.jsxs("span",{className:"text-base font-mono text-blue-400",children:[U.cost," 真元"]})]}),n.jsxs("p",{className:"text-sm text-gray-400 mb-2",children:["(",U.genderLock==="Universal"?"通用":U.genderLock==="Male"?"男性专用":"女性专用",")"]}),n.jsx("p",{className:"text-sm font-semibold text-amber-300 mt-2",children:U.mechanicsDescription}),n.jsx("p",{className:"text-sm text-gray-400 mt-1",children:U.description})]}),Y=()=>v(d)?`选择${{weapon:"武器",armor:"衣服",accessory1:"配饰",accessory2:"配饰"}[d.slot]}`:"选择通用技能",N=(()=>{if(v(d))return c.equipmentInventory.filter(U=>U.type===d.slotType&&(!U.genderLock||U.genderLock==="Universal"||U.genderLock===u.gender));if(g(d)){const U=new Set(u.skills.map(G=>G==null?void 0:G.id).filter(Boolean));return c.universalSkills.filter(G=>!U.has(G.id)&&(G.genderLock==="Universal"||G.genderLock===u.gender))}return[]})(),A=v(d)?u.equipment[d.slot]:null;return n.jsx("div",{className:"fixed inset-0 bg-black/70 z-[60] flex items-center justify-center p-4 animate-fade-in",onClick:o,children:n.jsxs("div",{className:"bg-slate-900/90 border border-slate-700 rounded-xl w-full max-w-2xl h-[70vh] shadow-2xl flex flex-col backdrop-blur-lg",onClick:U=>U.stopPropagation(),children:[n.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700 flex-shrink-0",children:[n.jsx("h2",{className:"text-xl font-bold text-white font-serif",children:Y()}),n.jsx("button",{onClick:o,className:"text-gray-400 hover:text-white transition-colors",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"flex-grow flex flex-row overflow-hidden",children:[n.jsx("div",{className:"w-2/5 border-r border-slate-700 overflow-y-auto",children:N.length>0?N.map(U=>n.jsx("button",{onClick:()=>E(U),className:`w-full text-left p-3 text-sm transition-colors duration-150 ${(b==null?void 0:b.id)===U.id?"bg-amber-600/30":"hover:bg-slate-800/60"}`,children:n.jsxs("p",{className:"font-semibold text-white flex items-center gap-2",children:[n.jsx("span",{className:`${Re(U.rarity)}`,children:U.name}),"rarity"in U&&n.jsxs("span",{className:`text-xs font-medium ${Re(U.rarity)}`,children:["[",U.rarity,"]"]})]})},U.id)):n.jsx("p",{className:"p-4 text-sm text-gray-500",children:"无可用选项"})}),n.jsxs("div",{className:"w-3/5 p-4 flex flex-col justify-between",children:[n.jsx("div",{children:b?v(d)?O(b,A):S(b):n.jsx("div",{className:"text-center text-gray-500 pt-10",children:n.jsx("p",{children:"从左侧列表选择一项以预览详情"})})}),b&&n.jsx("button",{onClick:()=>{v(d)&&m(d.slot,b),g(d)&&p(d.slotIndex,b)},className:"w-full bg-amber-600 text-white font-bold py-2 px-4 rounded-md hover:bg-amber-500 transition-colors",children:v(d)?"装备":"学习"})]})]})]})})},z0=({value:c,maxValue:u,color:d,label:o})=>{const m=u>0?c/u*100:0;return n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("span",{className:"text-sm font-medium text-gray-300",children:o}),n.jsx("span",{className:"text-sm font-mono text-gray-400",children:`${Math.round(c)}/${Math.round(u)}`})]}),n.jsx("div",{className:"w-full bg-stone-900 rounded-full h-2.5 border border-stone-700 shadow-inner shadow-black/50",children:n.jsx("div",{className:`${d} h-full rounded-full transition-all duration-500 ease-in-out`,style:{width:`${m}%`}})})]})},cb=({attributes:c,card:u})=>{const d=[{label:"攻击",value:Math.round(c.attack)},{label:"防御",value:Math.round(c.defense)},{label:"速度",value:Math.round(c.speed)}],o=[{label:"会心率",value:`${(c.critRate*100).toFixed(0)}%`},{label:"会心伤害",value:`${(c.critDmg*100).toFixed(0)}%`}],m=[{label:"魅力",value:u.charm||0},{label:"技巧",value:u.skillfulness||0},{label:"悟性",value:u.perception||0}];return n.jsxs("div",{className:"bg-black/20 p-4 rounded-lg h-full flex flex-col border border-stone-700/50",children:[n.jsx("h4",{className:"font-semibold text-amber-400 mb-3 text-lg",children:"面板属性"}),n.jsxs("div",{className:"space-y-3",children:[n.jsx(z0,{value:c.hp,maxValue:c.maxHp,color:"bg-gradient-to-r from-red-600 to-red-400",label:"气血"}),n.jsx(z0,{value:c.mp,maxValue:c.maxMp,color:"bg-gradient-to-r from-blue-600 to-blue-400",label:"真元"})]}),n.jsx("div",{className:"grid grid-cols-3 gap-2 mt-4 text-center",children:d.map(p=>n.jsxs("div",{className:"bg-stone-700/50 p-2 rounded-md",children:[n.jsx("p",{className:"text-xs text-gray-400",children:p.label}),n.jsx("p",{className:"font-bold text-white",children:p.value})]},p.label))}),n.jsx("div",{className:"grid grid-cols-2 gap-2 mt-2 text-center",children:o.map(p=>n.jsxs("div",{className:"bg-stone-700/50 p-2 rounded-md",children:[n.jsx("p",{className:"text-xs text-gray-400",children:p.label}),n.jsx("p",{className:"font-bold text-white",children:p.value})]},p.label))}),n.jsx("div",{className:"grid grid-cols-3 gap-2 mt-2 text-center",children:m.map(p=>n.jsxs("div",{className:"bg-stone-700/50 p-2 rounded-md",children:[n.jsx("p",{className:"text-xs text-gray-400",children:p.label}),n.jsx("p",{className:"font-bold text-white",children:p.value})]},p.label))})]})},Ou=({card:c,onClose:u,playerProfile:d,setPlayerProfile:o})=>{const[m,p]=k.useState(null),b=k.useMemo(()=>{const N=d.maleParty.find(G=>G.id===c.id),A=d.femaleParty.find(G=>G.id===c.id),U=d.cardCollection.find(G=>G.id===c.id);return N||A||U||c},[d,c.id]),E=k.useMemo(()=>Il(b),[b]),v=N=>{const A=JSON.parse(JSON.stringify(d)),U=A.cardCollection.find(I=>I.id===c.id),G=A.maleParty.find(I=>I.id===c.id),J=A.femaleParty.find(I=>I.id===c.id),Q=[U,G,J].filter(Boolean);if(Q.length>0){const I=Q[0];N(I,A);const ee=JSON.stringify(I);U&&Object.assign(U,JSON.parse(ee)),G&&Object.assign(G,JSON.parse(ee)),J&&Object.assign(J,JSON.parse(ee))}o(A)},g=(N,A)=>{v((U,G)=>{const J=U.equipment[N],Q=G.equipmentInventory.findIndex(I=>I.id===A.id);Q>-1&&G.equipmentInventory.splice(Q,1),J&&G.equipmentInventory.push(J),U.equipment[N]=A}),p(null)},O=N=>{v((A,U)=>{const G=A.equipment[N];G&&(U.equipmentInventory.push(G),A.equipment[N]=null)})},S=(N,A)=>{v(U=>{U.skills[N]=A}),p(null)},Y=N=>{v(A=>{A.skills[N]=null})},z=[{key:"weapon",label:"武器",type:"Weapon"},{key:"armor",label:"衣服",type:"Armor"},{key:"accessory1",label:"配饰一",type:"Accessory"},{key:"accessory2",label:"配饰二",type:"Accessory"}];return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 animate-fade-in",onClick:u,children:n.jsxs("div",{className:"ornate-border bg-stone-800/90 backdrop-blur-lg w-full max-w-5xl h-[90vh] overflow-hidden shadow-2xl flex flex-col",onClick:N=>N.stopPropagation(),children:[n.jsxs("div",{className:"p-4 flex-shrink-0 bg-black/20",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-white font-serif flex items-baseline gap-3",children:[n.jsx("span",{children:b.name}),n.jsxs("span",{className:`text-lg font-medium ${Re(b.rarity)}`,children:["[",b.rarity,"]"]})]}),n.jsx("p",{className:"text-lg text-amber-400 font-serif",children:b.realm})]}),n.jsx("button",{onClick:u,className:"text-amber-300 hover:text-white transition-colors",children:n.jsx("i",{className:"fa-solid fa-times text-2xl"})})]}),n.jsxs("div",{className:"mt-2 space-y-1 text-sm text-gray-300",children:[n.jsxs("p",{children:[n.jsx("span",{className:"text-gray-500 font-semibold",children:"称号:"})," ",b.title||"无"]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-gray-500 font-semibold",children:"种族:"})," ",b.race||"未知"]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-gray-500 font-semibold",children:"来历:"})," ",b.origin||"一片空白..."]}),b.appearance&&n.jsxs("p",{children:[n.jsx("span",{className:"text-gray-500 font-semibold",children:"外观:"})," ",b.appearance]})]})]}),n.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-4 overflow-y-auto flex-grow",children:[n.jsx(cb,{attributes:E,card:b}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"bg-black/20 p-4 rounded-lg border border-stone-700/50",children:[n.jsx("h4",{className:"font-semibold text-amber-400 mb-3 text-lg",children:"装备配置"}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:z.map(N=>{var A,U,G;return n.jsxs("div",{className:"relative",children:[n.jsxs("button",{onClick:()=>p({type:"equipment",slot:N.key,slotType:N.type}),className:`bg-stone-700/50 p-3 rounded-md w-full text-left hover:bg-stone-600/70 transition-colors h-full border-2 ${Pl((A=b.equipment[N.key])==null?void 0:A.rarity)}`,children:[n.jsx("p",{className:"text-sm text-gray-400",children:N.label}),n.jsx("p",{className:`font-bold truncate ${Re((U=b.equipment[N.key])==null?void 0:U.rarity)}`,children:((G=b.equipment[N.key])==null?void 0:G.name)||"未装备"})]}),b.equipment[N.key]&&n.jsx("button",{onClick:()=>O(N.key),className:"absolute -top-1.5 -right-1.5 bg-red-600 text-white w-5 h-5 rounded-full text-xs font-bold flex items-center justify-center hover:bg-red-500 transition-colors z-10 border border-stone-900",title:"卸下",children:"×"})]},N.key)})})]}),n.jsxs("div",{className:"bg-black/20 p-4 rounded-lg border border-stone-700/50",children:[n.jsx("h4",{className:"font-semibold text-amber-400 mb-3 text-lg",children:"技能配置"}),n.jsx("div",{className:"space-y-3",children:b.skills.map((N,A)=>n.jsx("div",{className:`relative w-full text-left bg-stone-700/50 p-3 rounded-md border-2 ${N?Pl(N==null?void 0:N.rarity):"border-dashed border-stone-600"} ${A>1?"cursor-pointer hover:bg-stone-600/70 transition-colors":"cursor-default"}`,onClick:()=>A>1&&!N&&p({type:"skill",slotIndex:A}),children:N?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"flex justify-between items-baseline",children:[n.jsxs("h5",{className:"font-bold text-white flex items-baseline gap-2",children:[n.jsx("span",{className:`${Re(N.rarity)}`,children:N.name}),n.jsxs("span",{className:`text-xs font-medium ${Re(N.rarity)}`,children:["[",N.rarity,"]"]})]}),n.jsxs("span",{className:"text-sm font-mono text-blue-400",children:[N.cost," 真元"]})]}),n.jsx("p",{className:"text-sm font-semibold text-amber-300 mt-1",children:N.mechanicsDescription}),n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:N.description}),n.jsx("p",{className:"absolute bottom-1 right-2 text-[10px] text-gray-500 mt-1",children:A<2?"角色专属":"通用技能"}),A>1&&n.jsx("button",{onClick:U=>{U.stopPropagation(),Y(A)},className:"absolute -top-1.5 -right-1.5 bg-red-600 text-white w-5 h-5 rounded-full text-xs font-bold flex items-center justify-center hover:bg-red-500 transition-colors z-10 border border-stone-900",title:"遗忘",children:"×"})]}):n.jsx("p",{className:"text-center text-gray-500",children:"通用技能槽"})},A))})]})]})]})]})}),m&&n.jsx(ib,{playerProfile:d,selectionState:m,card:b,onClose:()=>p(null),onEquip:g,onLearnSkill:S},m.type+(m.type==="equipment"?m.slot:m.slotIndex))]})},rb=({log:c,onClose:u})=>n.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4 animate-fade-in",onClick:u,children:n.jsxs("div",{className:"bg-slate-800 w-full max-w-2xl h-4/5 rounded-xl shadow-2xl border border-slate-700 overflow-hidden backdrop-blur-lg bg-slate-800/80 flex flex-col",onClick:d=>d.stopPropagation(),children:[n.jsxs("div",{className:"flex justify-between items-center p-4 border-b border-slate-700 flex-shrink-0",children:[n.jsx("h2",{className:"text-xl font-bold text-white font-serif",children:"战斗记录"}),n.jsx("button",{onClick:u,className:"text-gray-400 hover:text-white transition-colors",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsx("div",{className:"p-6 overflow-y-auto flex-grow",children:n.jsx("div",{className:"prose prose-invert max-w-none prose-p:text-gray-300 prose-p:my-2 font-serif",children:c.map((d,o)=>n.jsx("p",{className:`${d.startsWith(">")?"text-sky-400":""}`,children:d},o))})})]})}),F0=({story:c,storyEndRef:u})=>n.jsxs("div",{className:"w-full max-w-4xl h-full scroll-container overflow-y-auto",children:[n.jsx("div",{className:"prose max-w-none prose-p:text-stone-800 prose-p:leading-loose prose-headings:text-amber-800 font-serif whitespace-pre-wrap animate-fade-in",children:c}),n.jsx("div",{ref:u})]}),ub=({patient:c,story:u,choices:d,isLoading:o,error:m,onAction:p,onViewRecord:b,onEndConsultation:E})=>{const v=Zi.useRef(null);return Zi.useEffect(()=>{var g;(g=v.current)==null||g.scrollIntoView({behavior:"smooth",block:"end"})},[u]),n.jsxs("div",{className:"fixed inset-0 bg-stone-900 z-50 flex flex-col",children:[n.jsxs("div",{className:"flex-shrink-0 bg-black/20 p-4 flex justify-between items-center border-b border-stone-700",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-2xl font-bold text-amber-300 font-serif",children:["问诊中: ",c.medicalRecord.name]}),n.jsx("p",{className:"text-sm text-red-400",children:c.medicalRecord.illnessDescription})]}),n.jsx("button",{onClick:E,className:"bg-red-600/80 text-white font-bold px-4 py-2 rounded-md hover:bg-red-500/80 transition-colors",children:"结束问诊"})]}),n.jsxs("div",{className:"flex-grow flex overflow-hidden",children:[n.jsxs("div",{className:"w-1/4 bg-black/10 p-4 border-r border-stone-700 flex flex-col items-center",children:[n.jsx("div",{className:"w-32 h-32 rounded-full bg-stone-700 mb-4 flex items-center justify-center",children:n.jsx("i",{className:"fa-solid fa-user-injured text-6xl text-gray-500"})}),n.jsx("h3",{className:"text-xl text-white font-bold",children:c.medicalRecord.name}),n.jsxs("p",{className:"text-gray-400",children:[c.medicalRecord.age,"岁, ",c.medicalRecord.gender==="Male"?"男":"女"]}),n.jsx("button",{onClick:b,className:"mt-6 bg-cyan-600/80 text-white font-bold px-4 py-2 rounded-md hover:bg-cyan-500/80 transition-colors w-full",children:"查看病单"})]}),n.jsxs("div",{className:"w-3/4 flex flex-col",children:[n.jsx("main",{className:"flex-grow overflow-y-auto p-4",children:n.jsx(F0,{story:u,storyEndRef:v})}),n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"p-4 bg-black/30",children:n.jsx("div",{className:"flex flex-wrap justify-center gap-2 mb-2",children:d.map((g,O)=>n.jsx("button",{onClick:()=>p(g),disabled:o,className:"flex-grow basis-40 text-center bg-stone-800/80 px-3 py-2 rounded-md hover:bg-stone-700/80 disabled:opacity-50",children:g},O))})})})]})]})]})},ob=({isOpen:c,onClose:u,patients:d,onStartConsultation:o,onRefresh:m,onAddPatient:p,isLoading:b,onViewRecord:E})=>{const[v,g]=k.useState("Female");if(!c)return null;const O=d.filter(S=>S.medicalRecord.gender===v&&S.status==="待诊");return n.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 animate-fade-in",onClick:u,children:n.jsxs("div",{className:"ornate-border bg-stone-900 w-full max-w-4xl h-[80vh] rounded-xl shadow-2xl overflow-hidden backdrop-blur-lg flex flex-col",onClick:S=>S.stopPropagation(),children:[n.jsxs("div",{className:"flex justify-between items-center p-4 flex-shrink-0 bg-black/20",children:[n.jsx("h2",{className:"text-2xl font-bold text-amber-300 font-serif",children:"性病医馆"}),n.jsx("button",{onClick:u,className:"text-amber-300 hover:text-white transition-colors",children:n.jsx("i",{className:"fa-solid fa-times text-2xl"})})]}),n.jsxs("div",{className:"flex-shrink-0 p-4 flex items-center justify-between border-b border-stone-700 bg-black/10",children:[n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>g("Female"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-colors duration-200 ${v==="Female"?"bg-amber-500/20 text-amber-300":"bg-stone-700/50 text-gray-300 hover:bg-stone-600/50"}`,children:"女性病患"}),n.jsx("button",{onClick:()=>g("Male"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-colors duration-200 ${v==="Male"?"bg-amber-500/20 text-amber-300":"bg-stone-700/50 text-gray-300 hover:bg-stone-600/50"}`,children:"男性病患"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>p("Female"),disabled:b,className:"px-3 py-1 text-xs bg-pink-500/20 text-pink-300 rounded-md hover:bg-pink-500/40 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"生成中...":"添加女病患"}),n.jsx("button",{onClick:()=>p("Male"),disabled:b,className:"px-3 py-1 text-xs bg-blue-500/20 text-blue-300 rounded-md hover:bg-blue-500/40 disabled:opacity-50 disabled:cursor-not-allowed",children:b?"生成中...":"添加男病患"}),n.jsxs("button",{onClick:m,disabled:b,className:"px-3 py-1 text-xs bg-yellow-500/20 text-yellow-300 rounded-md hover:bg-yellow-500/40 disabled:opacity-50 disabled:cursor-not-allowed",children:[n.jsx("i",{className:`fa-solid fa-sync ${b?"animate-spin":""}`})," 刷新列表"]})]})]}),n.jsx("div",{className:"flex-grow p-6 overflow-y-auto",children:O.length>0?n.jsx("div",{className:"space-y-4",children:O.map(S=>n.jsxs("div",{className:"bg-black/20 p-4 rounded-lg border border-stone-700/50 flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsxs("h3",{className:"text-xl font-bold text-white font-serif",children:[S.medicalRecord.name," ",n.jsxs("span",{className:"text-base font-normal text-gray-400",children:["(",S.medicalRecord.age,"岁)"]})]}),n.jsxs("p",{className:"text-sm text-red-400 italic mt-1",children:["病症: ",S.medicalRecord.illnessDescription.substring(0,30),"..."]})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>E(S.medicalRecord),className:"bg-cyan-600/80 text-white font-bold px-4 py-2 rounded-md hover:bg-cyan-500/80 transition-colors",children:"查看详情"}),n.jsx("button",{onClick:()=>o(S.id),className:"bg-green-600/80 text-white font-bold px-4 py-2 rounded-md hover:bg-green-500/80 transition-colors",children:"开始问诊"})]})]},S.id))}):n.jsxs("div",{className:"text-center text-gray-500 pt-10",children:[n.jsx("p",{className:"text-4xl mb-4",children:"🌿"}),n.jsx("p",{children:"今日无待诊病人。"})]})})]})})},db=({isOpen:c,onClose:u,onInteract:d,storyContext:o})=>{const[m,p]=k.useState([]),[b,E]=k.useState(!0),[v,g]=k.useState(null);k.useEffect(()=>{c&&(async()=>{E(!0),g(null);try{console.warn("scanForInteractables is not implemented yet."),p([])}catch(A){console.error("Failed to fetch interactables:",A),p([])}finally{E(!1)}})()},[c,o]);const O=(N,A)=>{const U=`${A} ${N.name}`;d(U)},S=N=>{switch(N){case"NPC":return"👤";case"Creature":return"🐾";case"Object":return"📦";default:return"❓"}},Y=()=>{if(!v)return null;const N=[{label:"靠近",verb:"你决定走近"},{label:"观察",verb:"你仔细观察"}];let A=[];v.type==="NPC"?(A.push({label:"交谈",verb:"你尝试与"}),A.push({label:"挑战",verb:`你向 ${v.name} 亮出黄牌，发起了挑战。`})):v.type==="Creature"?A.push({label:"攻击",verb:"你亮出黄牌，决定攻击"}):v.type==="Object"&&A.push({label:"调查",verb:"你开始调查"});const U=J=>{J.label==="挑战"||J.label==="攻击"?d(J.verb):O(v,J.verb)},G=[...N,...A];return n.jsxs("div",{className:"bg-stone-800/70 p-4 rounded-lg animate-fade-in border border-stone-700/50",children:[n.jsxs("div",{className:"flex items-start gap-3 mb-4",children:[n.jsx("span",{className:"text-3xl mt-1",children:S(v.type)}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-amber-400 text-lg",children:v.name}),n.jsx("p",{className:"text-sm text-gray-300",children:v.description})]})]}),n.jsx("div",{className:"grid grid-cols-2 gap-3",children:G.map(J=>n.jsx("button",{onClick:()=>U(J),className:"bg-stone-700/80 px-4 py-2 rounded-md hover:bg-stone-600 transition-colors duration-200 font-serif",children:J.label},J.label))})]})},z=()=>b?n.jsx("div",{className:"text-center text-amber-300 animate-glow p-8",children:"探查灵气波动中..."}):m.length===0?n.jsx("div",{className:"text-center text-gray-500 p-8",children:"附近似乎没有任何值得注意的东西。"}):n.jsxs("div",{className:"flex flex-row gap-4 h-full",children:[n.jsxs("div",{className:"w-2/5 border-r border-stone-700 overflow-y-auto",children:[n.jsx("h3",{className:"text-sm font-semibold text-gray-400 p-3 sticky top-0 bg-stone-900/90 backdrop-blur-sm border-b border-stone-700/50",children:"附近实体"}),m.map(N=>n.jsxs("button",{onClick:()=>g(N),className:`w-full text-left p-3 text-sm transition-colors duration-150 flex items-center gap-3 ${(v==null?void 0:v.name)===N.name?"bg-amber-600/30":"hover:bg-stone-800/60"}`,children:[n.jsx("span",{className:"text-xl",children:S(N.type)}),n.jsx("span",{className:"font-semibold text-white",children:N.name})]},N.name))]}),n.jsx("div",{className:"w-3/5 p-4 flex flex-col justify-center",children:v?Y():n.jsx("div",{className:"text-center text-gray-500",children:n.jsx("p",{children:"从左侧列表选择一个目标进行互动"})})})]});return c?n.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 animate-fade-in",onClick:u,children:n.jsxs("div",{className:"ornate-border bg-stone-900 w-full max-w-2xl h-auto max-h-[70vh] min-h-[20rem] rounded-xl shadow-2xl overflow-hidden backdrop-blur-lg bg-stone-900/80 flex flex-col",onClick:N=>N.stopPropagation(),children:[n.jsxs("div",{className:"flex justify-between items-center p-4 flex-shrink-0 bg-black/20",children:[n.jsx("h2",{className:"text-xl font-bold text-amber-300 font-serif",children:"探查四周"}),n.jsx("button",{onClick:u,className:"text-amber-300 hover:text-white transition-colors",children:n.jsx("i",{className:"fa-solid fa-times text-2xl"})})]}),n.jsx("div",{className:"flex-grow overflow-hidden",children:z()})]})}):null},fb=[{id:"qing_she_zong",name:"青蛇宗",type:"Sect",region:"东荒",x:250,y:300,description:"一切开始的地方，一个中等规模的修仙宗门。",isMajor:!0},{id:"bai_hua_gu",name:"百花谷",type:"Sect",region:"东荒",x:150,y:450,description:"以医术和丹药闻名的女性宗门。",isMajor:!0},{id:"wan_yao_sen_lin",name:"万妖森林",type:"Forest",region:"东荒",x:350,y:500,description:"妖兽横行，但机遇与危险并存的古老森林。",isMajor:!1},{id:"yun_meng_ze",name:"云梦大泽",type:"River",region:"东荒",x:100,y:200,description:"广阔的沼泽地，据说有上古异兽出没。",isMajor:!1},{id:"tian_mo_cheng",name:"天魔城",type:"City",region:"西境",x:750,y:200,description:"魔道修士的聚集地，混乱但自由。",isMajor:!0},{id:"huang_gu_yi_ji",name:"荒古遗迹",type:"Mountain",region:"西境",x:850,y:350,description:"上古仙魔大战的战场，散落着无数法宝残片。",isMajor:!1},{id:"wu_jian_dong",name:"无间洞府",type:"Cave",region:"西境",x:650,y:450,description:"一个深不见底的洞穴，传闻直通地狱。",isMajor:!1},{id:"wu_shen_zhai",name:"巫神寨",type:"Sect",region:"南疆",x:600,y:800,description:"南疆最大的巫蛊部落，神秘莫测。",isMajor:!0},{id:"shi_wan_da_shan",name:"十万大山",type:"Mountain",region:"南疆",x:750,y:900,description:"连绵不绝的山脉，充满了毒虫猛兽和天材地宝。",isMajor:!1},{id:"du_long_he",name:"毒龙河",type:"River",region:"南疆",x:500,y:700,description:"河水呈诡异的紫色，据说有剧毒。",isMajor:!1},{id:"xuan_bing_gong",name:"玄冰宫",type:"Sect",region:"北原",x:200,y:850,description:"建立在万年冰川之上的宗门，弟子皆修行冰系功法。",isMajor:!0},{id:"ji_bei_xue_yuan",name:"极北雪原",type:"Plain",region:"北原",x:100,y:950,description:"一片冰封的荒原，人迹罕至。",isMajor:!1},{id:"tian_ji_ge",name:"天机阁",type:"City",region:"中州",x:500,y:400,description:"中州皇城，世界的中心，凡人与修士混居。",isMajor:!0},{id:"kun_lun_xu",name:"昆仑墟",type:"Mountain",region:"中州",x:450,y:250,description:"传说中仙人居住的圣山，灵气浓郁至极。",isMajor:!0},{id:"tian_yuan_fang_shi",name:"天元坊市",type:"City",region:"中州",x:550,y:550,description:"世界上最大的修仙者交易市场。",isMajor:!1}],mb=c=>()=>{c|=0,c=c+1831565813|0;let u=Math.imul(c^c>>>15,1|c);return u=u+Math.imul(u^u>>>7,61|u)^u,((u^u>>>14)>>>0)/4294967296},Yi=({seed:c,y:u,height:d,peaks:o,color:m})=>{const p=mb(c);let b=`M 0 ${u}`;const E=1e3/(o*2);for(let v=0;v<o*2;v++){const g=(v+1)*E,O=u-p()*d;b+=` S ${g-E/2} ${O}, ${g} ${u}`}return b+=" L 1000 1000 L 0 1000 Z",n.jsx("path",{d:b,fill:m,style:{filter:"url(#watercolor)"}})},xb=({onLocationSelect:c,currentLocationName:u})=>{const m=p=>{switch(p){case"东荒":return"rgba(34, 197, 94, 0.1)";case"西境":return"rgba(252, 211, 77, 0.1)";case"南疆":return"rgba(239, 68, 68, 0.1)";case"北原":return"rgba(59, 130, 246, 0.1)";case"中州":return"rgba(168, 85, 247, 0.1)";default:return"transparent"}};return n.jsx("div",{className:"w-full h-full bg-stone-900 overflow-hidden rounded-lg border-2 border-amber-400/50",children:n.jsxs("svg",{viewBox:"0 0 1000 1000",className:"w-full h-full cursor-pointer",children:[n.jsxs("defs",{children:[n.jsxs("filter",{id:"watercolor",children:[n.jsx("feTurbulence",{type:"fractalNoise",baseFrequency:"0.01",numOctaves:"5",seed:"10"}),n.jsx("feDisplacementMap",{in:"SourceGraphic",scale:"20"})]}),n.jsxs("radialGradient",{id:"grad_east",cx:"25%",cy:"25%",r:"75%",children:[n.jsx("stop",{offset:"0%",stopColor:m("东荒"),stopOpacity:"0.8"}),n.jsx("stop",{offset:"100%",stopColor:m("东荒"),stopOpacity:"0"})]}),n.jsxs("radialGradient",{id:"grad_west",cx:"75%",cy:"25%",r:"75%",children:[n.jsx("stop",{offset:"0%",stopColor:m("西境"),stopOpacity:"0.8"}),n.jsx("stop",{offset:"100%",stopColor:m("西境"),stopOpacity:"0"})]}),n.jsxs("radialGradient",{id:"grad_south",cx:"75%",cy:"75%",r:"75%",children:[n.jsx("stop",{offset:"0%",stopColor:m("南疆"),stopOpacity:"0.8"}),n.jsx("stop",{offset:"100%",stopColor:m("南疆"),stopOpacity:"0"})]}),n.jsxs("radialGradient",{id:"grad_north",cx:"25%",cy:"75%",r:"75%",children:[n.jsx("stop",{offset:"0%",stopColor:m("北原"),stopOpacity:"0.8"}),n.jsx("stop",{offset:"100%",stopColor:m("北原"),stopOpacity:"0"})]}),n.jsxs("radialGradient",{id:"grad_center",cx:"50%",cy:"50%",r:"50%",children:[n.jsx("stop",{offset:"0%",stopColor:m("中州"),stopOpacity:"0.9"}),n.jsx("stop",{offset:"100%",stopColor:m("中州"),stopOpacity:"0"})]})]}),n.jsx("rect",{width:1e3,height:1e3,fill:"#1c1917"}),n.jsx(Yi,{seed:1,y:300,height:150,peaks:5,color:"rgba(120, 113, 108, 0.2)"}),n.jsx(Yi,{seed:2,y:350,height:120,peaks:7,color:"rgba(120, 113, 108, 0.3)"}),n.jsx(Yi,{seed:3,y:450,height:200,peaks:6,color:"rgba(87, 83, 78, 0.4)"}),n.jsx(Yi,{seed:4,y:600,height:180,peaks:8,color:"rgba(68, 64, 60, 0.5)"}),n.jsx("rect",{width:1e3,height:1e3,fill:"url(#grad_center)"}),n.jsx("rect",{width:1e3,height:1e3,fill:"url(#grad_east)"}),n.jsx("rect",{width:1e3,height:1e3,fill:"url(#grad_west)"}),n.jsx("rect",{width:1e3,height:1e3,fill:"url(#grad_south)"}),n.jsx("rect",{width:1e3,height:1e3,fill:"url(#grad_north)"}),fb.map(p=>n.jsx(hb,{location:p,isCurrent:p.name===u,onSelect:c},p.id))]})})},hb=({location:c,isCurrent:u,onSelect:d})=>{const o=u?"gold":"white",m=u?"white":"black",p=()=>{switch(c.type){case"Sect":return n.jsx("path",{d:"M-8 8 L0 -8 L8 8 Z M-5 8 L-5 0 L5 0 L5 8 Z",fill:o,stroke:m,strokeWidth:"1.5"});case"City":return n.jsx("rect",{x:"-7",y:"-4",width:"14",height:"12",fill:o,stroke:m,strokeWidth:"1.5"});case"Cave":return n.jsx("path",{d:"M-8 0 C -8 -8, 8 -8, 8 0 C 8 8, -8 8, -8 0 Z M -4 -2 A 4 4 0 0 1 4 -2",fill:"none",stroke:m,strokeWidth:"2"});case"Mountain":return n.jsx("path",{d:"M-10 8 L0 -8 L10 8 Z",fill:"none",stroke:o,strokeWidth:"2"});case"Forest":return n.jsx("path",{d:"M0 -8 L-6 0 L-2 0 L-8 8 L8 8 L2 0 L6 0 Z",fill:o});default:return n.jsx("circle",{r:"6",fill:o,stroke:m,strokeWidth:"2"})}};return n.jsxs("g",{transform:`translate(${c.x}, ${c.y})`,onClick:()=>d(c),className:"cursor-pointer group",children:[n.jsx("g",{className:"transition-transform duration-300 group-hover:scale-150",children:p()}),n.jsx("text",{x:"0",y:"22",fill:"white",fontSize:"12",textAnchor:"middle",className:"pointer-events-none font-serif transition-opacity duration-300 opacity-0 group-hover:opacity-100",children:c.name})]})},bb=({currentLocationName:c,onClose:u,onTravel:d})=>{const[o,m]=k.useState(null),p=b=>{m(b)};return n.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 animate-fade-in",onClick:u,children:n.jsxs("div",{className:"ornate-border bg-stone-900 w-full max-w-6xl h-[90vh] rounded-xl shadow-2xl overflow-hidden backdrop-blur-lg flex flex-col",onClick:b=>b.stopPropagation(),children:[n.jsxs("div",{className:"flex justify-between items-center p-4 flex-shrink-0 bg-black/20",children:[n.jsx("h2",{className:"text-2xl font-bold text-amber-300 font-serif",children:"世界地图"}),n.jsx("button",{onClick:u,className:"text-amber-300 hover:text-white transition-colors",children:n.jsx("i",{className:"fa-solid fa-times text-2xl"})})]}),n.jsxs("div",{className:"flex-grow flex p-4 gap-4 overflow-hidden",children:[n.jsx("div",{className:"flex-grow h-full",children:n.jsx(xb,{onLocationSelect:p,currentLocationName:c})}),n.jsx("div",{className:"w-1/3 h-full bg-black/20 rounded-lg p-4 flex flex-col border border-stone-700/50",children:o?n.jsxs(n.Fragment,{children:[n.jsxs("h3",{className:"text-xl font-bold text-white font-serif mb-2",children:[o.name," [",o.region,"]"]}),n.jsx("p",{className:"text-gray-300 text-sm flex-grow",children:o.description}),n.jsx("button",{onClick:()=>d(o.name),disabled:o.name===c,className:"w-full bg-amber-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-amber-500 transition-colors disabled:bg-stone-600 disabled:cursor-not-allowed",children:o.name===c?"当前所在":"前往此地"})]}):n.jsx("div",{className:"flex items-center justify-center h-full text-gray-500",children:n.jsx("p",{children:"点击地图上的地点以查看详情。"})})})]})]})})},pb=({isOpen:c,onClose:u,record:d})=>c?n.jsx("div",{className:"fixed inset-0 bg-black/80 z-[70] flex items-center justify-center p-4 animate-fade-in",onClick:u,children:n.jsxs("div",{className:"ornate-border bg-stone-900 w-full max-w-lg h-auto max-h-[80vh] rounded-xl shadow-2xl overflow-hidden backdrop-blur-lg flex flex-col",onClick:o=>o.stopPropagation(),children:[n.jsxs("div",{className:"flex justify-between items-center p-4 flex-shrink-0 bg-black/20",children:[n.jsxs("h2",{className:"text-2xl font-bold text-amber-300 font-serif",children:["病单详情: ",d.name]}),n.jsx("button",{onClick:u,className:"text-amber-300 hover:text-white transition-colors",children:n.jsx("i",{className:"fa-solid fa-times text-2xl"})})]}),n.jsxs("div",{className:"flex-grow p-6 overflow-y-auto space-y-4",children:[n.jsxs("div",{className:"bg-black/20 p-4 rounded-lg border border-stone-700/50",children:[n.jsx("h4",{className:"font-semibold text-amber-400 mb-2",children:"基本信息"}),n.jsxs("p",{children:[n.jsx("strong",{children:"姓名:"})," ",d.name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"性别:"})," ",d.gender]}),n.jsxs("p",{children:[n.jsx("strong",{children:"年龄:"})," ",d.age]}),n.jsxs("p",{children:[n.jsx("strong",{children:"背景:"})," ",d.background]})]}),n.jsxs("div",{className:"bg-black/20 p-4 rounded-lg border border-stone-700/50",children:[n.jsx("h4",{className:"font-semibold text-pink-400 mb-2",children:"性特征"}),n.jsxs("p",{children:[n.jsx("strong",{children:"器官户型:"})," ",d.genitalShape]}),n.jsxs("div",{children:[n.jsx("strong",{children:"特征:"}),n.jsx("ul",{className:"list-disc list-inside ml-4",children:d.sexualFeatures.map((o,m)=>n.jsx("li",{children:o},m))})]})]}),n.jsxs("div",{className:"bg-black/20 p-4 rounded-lg border border-red-500/30",children:[n.jsx("h4",{className:"font-semibold text-red-400 mb-2",children:"病症描述"}),n.jsx("p",{className:"whitespace-pre-wrap",children:d.illnessDescription})]})]})]})}):null,gb=({playerProfile:c,setPlayerProfile:u})=>{const[d,o]=k.useState(null),[m,p]=k.useState(null),b=O=>{p(O)},E=(O,S)=>{if(!m||m.gender!==S)return;const Y=JSON.parse(JSON.stringify(c)),z=S==="Male"?"maleParty":"femaleParty";Y.maleParty=Y.maleParty.filter(G=>G.id!==m.id),Y.femaleParty=Y.femaleParty.filter(G=>G.id!==m.id);const N=Y[z],A=N[O];A?c[z].findIndex(J=>J.id===A.id)!==-1&&(N[O]=m):N[O]=m;const U=[...Array(4)].map((G,J)=>N[J]||null).filter(Boolean);Y[z]=U,u(Y),p(null)},v=(O,S)=>{const Y=JSON.parse(JSON.stringify(c)),z=S==="Male"?"maleParty":"femaleParty";Y[z]=Y[z].filter(N=>N.id!==O),u(Y)},g=({gender:O})=>{const S=O==="Male"?c.maleParty:c.femaleParty,Y=c.cardCollection.filter(A=>A.gender===O),z=O==="Male"?"text-sky-400":"text-pink-400",N=A=>S.some(U=>U.id===A);return n.jsxs("div",{className:"bg-black/20 p-4 rounded-lg flex flex-col h-full border border-stone-700/50",children:[n.jsx("h3",{className:`text-center font-bold ${z} mb-3 text-lg`,children:O==="Male"?"男性编队":"女性编队"}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("h4",{className:"font-semibold text-amber-400 mb-2",children:["上阵队伍 (",S.length,"/4)"]}),n.jsx("div",{className:"grid grid-cols-4 gap-2",children:[...Array(4)].map((A,U)=>n.jsxs("div",{className:"relative",children:[n.jsx("button",{onClick:()=>E(U,O),className:`h-28 w-full rounded-lg flex flex-col items-center justify-center p-2 text-center transition-colors border-2 ${S[U]?`${Pl(S[U].rarity)} bg-stone-700/50 hover:bg-stone-600/70 shadow-inner shadow-black/50`:"border-dashed border-stone-600 bg-black/20 hover:bg-stone-800/50"}`,children:S[U]?n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"font-bold font-serif text-white text-sm",children:S[U].name}),n.jsx("p",{className:`text-xs font-semibold ${Re(S[U].rarity)}`,children:S[U].realm})]}):n.jsx("span",{className:"text-stone-500 text-3xl opacity-50",children:"+"})}),S[U]&&n.jsxs(n.Fragment,{children:[n.jsx("button",{onClick:()=>v(S[U].id,O),className:"absolute -top-1 -right-1 bg-red-600 text-white w-5 h-5 rounded-full text-xs font-bold flex items-center justify-center hover:bg-red-500 transition-colors z-10 border border-stone-900",title:"卸下",children:"×"}),n.jsx("button",{onClick:()=>o(S[U]),className:"absolute -bottom-1 -right-1 bg-sky-600 text-white w-5 h-5 rounded-full text-xs font-bold flex items-center justify-center hover:bg-sky-500 transition-colors z-10 border border-stone-900",title:"详情",children:"i"})]})]},U))})]}),n.jsxs("div",{className:"flex-grow overflow-y-auto pr-2",children:[n.jsx("h4",{className:"font-semibold text-amber-400 mb-2",children:"图鉴"}),n.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:Y.map(A=>n.jsxs("button",{onClick:()=>b(A),onDoubleClick:()=>o(A),disabled:N(A.id),className:`relative p-2 rounded-lg border-2 text-center transition-all duration-200 disabled:opacity-40 disabled:cursor-not-allowed ${(m==null?void 0:m.id)===A.id?"ring-4 ring-green-500 ring-offset-2 ring-offset-stone-800":""} ${Pl(A.rarity)} ${$i(A.rarity,!N(A.id))}`,children:[n.jsx("p",{className:"font-bold font-serif text-white text-sm",children:A.name}),n.jsx("p",{className:`text-xs font-semibold ${Re(A.rarity)}`,children:A.realm}),N(A.id)&&n.jsx("div",{className:"absolute top-0.5 right-0.5 bg-amber-500 text-white text-[9px] px-1 rounded-full font-bold",children:"上阵"})]},A.id))})]})]})};return n.jsxs("div",{className:"p-4 sm:p-6 text-gray-300 font-serif h-full",children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 h-full",children:[n.jsx(g,{gender:"Male"}),n.jsx(g,{gender:"Female"})]}),d&&n.jsx(Ou,{card:d,onClose:()=>o(null),playerProfile:c,setPlayerProfile:u})]})},yb=({skill:c,onClose:u})=>{const d=c.genderLock==="Universal"?"通用":c.genderLock==="Male"?"男性专用":"女性专用";return n.jsx("div",{className:"fixed inset-0 bg-black/80 z-[60] flex items-center justify-center p-4 animate-fade-in",onClick:u,children:n.jsxs("div",{className:"bg-slate-800 border border-slate-600 rounded-xl w-full max-w-md shadow-2xl flex flex-col backdrop-blur-lg bg-slate-800/90",onClick:o=>o.stopPropagation(),children:[n.jsxs("div",{className:"p-4 border-b border-slate-700 flex justify-between items-center",children:[n.jsxs("h2",{className:"text-xl font-bold text-white font-serif flex items-baseline gap-2",children:[n.jsx("span",{children:c.name}),n.jsxs("span",{className:`text-base font-medium ${Re(c.rarity)}`,children:["[",c.rarity,"]"]})]}),n.jsx("button",{onClick:u,className:"text-gray-400 hover:text-white transition-colors",children:n.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),n.jsxs("div",{className:"p-6 font-serif",children:[n.jsxs("div",{className:"flex justify-between items-baseline mb-4",children:[n.jsx("h3",{className:"text-lg font-bold text-amber-400",children:"技能详情"}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-base font-mono text-blue-400",children:c.cost>0?`${c.cost} 真元`:"无消耗"}),n.jsx("p",{className:"text-sm text-gray-400",children:d})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-pink-400 mb-1 text-base",children:"动画描述"}),n.jsxs("p",{className:"text-gray-300 leading-relaxed text-sm italic",children:["“",c.eroticDescription,"”"]})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-sky-400 mb-1 text-base",children:"机制描述"}),n.jsx("p",{className:"text-gray-300 leading-relaxed text-sm",children:c.mechanicsDescription})]}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-500 mb-1 text-base",children:"背景描述"}),n.jsx("p",{className:"text-gray-400 leading-relaxed mt-2 text-sm italic",children:c.description})]})]})]})]})})},vb=c=>({attack:"攻击",defense:"防御",hp:"气血",speed:"速度",critRate:"会心率",critDmg:"会心伤害"})[c]||c,jb=(c,u)=>c==="critRate"||c==="critDmg"?`+${(u*100).toFixed(0)}%`:u>0?`+${u}`:`${u}`,Nb=({item:c,onClose:u})=>{const d=!c.genderLock||c.genderLock==="Universal"?"通用":c.genderLock==="Male"?"男性专用":"女性专用";return n.jsx("div",{className:"fixed inset-0 bg-black/80 z-[60] flex items-center justify-center p-4 animate-fade-in",onClick:u,children:n.jsxs("div",{className:"ornate-border bg-stone-800/90 backdrop-blur-lg w-full max-w-md shadow-2xl flex flex-col",onClick:o=>o.stopPropagation(),children:[n.jsxs("div",{className:"p-4 flex justify-between items-center bg-black/20",children:[n.jsxs("h2",{className:"text-xl font-bold text-white font-serif flex items-baseline gap-2",children:[n.jsx("span",{children:c.name}),n.jsxs("span",{className:`text-base font-medium ${Re(c.rarity)}`,children:["[",c.rarity,"]"]})]}),n.jsx("button",{onClick:u,className:"text-amber-300 hover:text-white transition-colors",children:n.jsx("i",{className:"fa-solid fa-times text-2xl"})})]}),n.jsxs("div",{className:"p-6 font-serif",children:[n.jsxs("div",{className:"flex justify-between items-baseline mb-4",children:[n.jsx("h3",{className:"text-lg font-bold text-amber-400",children:"法宝详情"}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-base text-gray-400",children:c.type}),n.jsx("p",{className:"text-sm text-gray-400",children:d})]})]}),n.jsxs("div",{className:"bg-black/20 p-3 rounded-md border border-stone-700/50 mb-4",children:[n.jsx("h4",{className:"font-semibold text-amber-400 mb-2 text-sm",children:"属性"}),n.jsx("div",{className:"space-y-1",children:Object.entries(c.stats).map(([o,m])=>n.jsxs("div",{className:"flex justify-between text-sm",children:[n.jsx("span",{className:"text-gray-300",children:vb(o)}),n.jsx("span",{className:"font-mono text-green-400",children:jb(o,m)})]},o))})]}),n.jsxs("div",{className:"bg-black/20 p-3 rounded-md border border-stone-700/50",children:[n.jsx("h4",{className:"font-semibold text-amber-400 mb-1 text-sm",children:"描述"}),n.jsx("p",{className:"text-gray-300 leading-relaxed text-sm italic",children:c.description})]})]})]})})},Xt=({label:c,isActive:u,onClick:d})=>n.jsx("button",{onClick:d,className:`px-4 py-2 text-sm font-semibold rounded-t-lg transition-colors duration-200 ${u?"bg-stone-700/80 text-amber-400 border-b-2 border-amber-400":"bg-transparent text-gray-400 hover:bg-stone-700/50 hover:text-gray-200"}`,children:c}),Fl=({label:c,isActive:u,onClick:d})=>n.jsx("button",{onClick:d,className:`px-3 py-1 text-xs rounded-full transition-colors ${u?"bg-amber-600 text-white":"bg-stone-600 hover:bg-stone-500 text-gray-300"}`,children:c}),Sb=({card:c})=>n.jsxs("div",{className:`p-3 rounded-lg border-2 text-center h-full ${Pl(c.rarity)} ${$i(c.rarity,!1)}`,children:[n.jsx("p",{className:"font-bold font-serif text-white",children:c.name}),n.jsx("p",{className:`text-xs font-semibold ${Re(c.rarity)}`,children:c.realm}),n.jsx("p",{className:"text-xs text-gray-400 mt-1 truncate",children:c.title})]}),I0=({gender:c})=>{if(!c||c==="Universal")return null;const u=c==="Male"?"♂":"♀",d=c==="Male"?"text-sky-400":"text-pink-400";return n.jsx("div",{className:`absolute top-1 right-1 w-5 h-5 rounded-full bg-black/50 flex items-center justify-center font-bold ${d}`,children:u})},wb=({skill:c})=>n.jsxs("div",{className:`relative p-3 rounded-lg border-2 h-full ${Pl(c.rarity)} ${$i(c.rarity,!1)}`,children:[n.jsx(I0,{gender:c.genderLock}),n.jsxs("div",{className:"flex justify-between items-baseline",children:[n.jsx("h5",{className:`font-bold ${Re(c.rarity)}`,children:c.name}),n.jsxs("span",{className:"text-sm font-mono text-blue-400",children:[c.cost," 真元"]})]}),n.jsx("p",{className:"text-sm text-gray-300 mt-1 line-clamp-2",children:c.description})]}),Cb=({item:c})=>n.jsxs("div",{className:`relative p-3 rounded-lg border-2 h-full ${Pl(c.rarity)} ${$i(c.rarity,!1)}`,children:[n.jsx(I0,{gender:c.genderLock}),n.jsx("h5",{className:`font-bold truncate ${Re(c.rarity)}`,children:c.name}),n.jsx("div",{className:"text-xs text-gray-300 mt-1 space-y-0.5",children:Object.entries(c.stats).map(([u,d])=>n.jsxs("p",{children:[u,": ",n.jsxs("span",{className:"text-green-400",children:["+",d]})]},u))})]}),Tb=({playerProfile:c,setPlayerProfile:u})=>{const[d,o]=k.useState("图鉴"),[m,p]=k.useState("男性角色"),[b,E]=k.useState("武器"),[v,g]=k.useState("All"),[O,S]=k.useState("男性专用"),[Y,z]=k.useState(null),[N,A]=k.useState(null),[U,G]=k.useState(null),[J,Q]=k.useState("default"),[I,ee]=k.useState("default"),[ue,W]=k.useState(!1),[de,Ae]=k.useState(null),[Je,_e]=k.useState(null),me=["神品","圣品","仙品","绝品","珍品","优品","良品","凡品"],$e=()=>{if(!de)return;_e(null);const Xe=c.maleParty.some(he=>he.id===de.id),_=c.femaleParty.some(he=>he.id===de.id);if(Xe||_){_e("无法出售上阵中的角色卡！"),setTimeout(()=>_e(null),3e3),Ae(null);return}const X=pu[de.rarity]||0,le={...c,spiritStones:c.spiritStones+X,cardCollection:c.cardCollection.filter(he=>he.id!==de.id)};u(le),Ae(null)},ge=()=>{switch(d){case"图鉴":const Xe=[...c.cardCollection].filter(x=>x.gender===(m==="男性角色"?"Male":"Female")).sort((x,R)=>J==="rarity"?me.indexOf(x.rarity)-me.indexOf(R.rarity):0);return n.jsxs("div",{children:[n.jsxs("div",{className:"px-4 pt-2 flex justify-between items-center border-b border-stone-700 bg-stone-800/50 sticky top-0 backdrop-blur-sm z-10",children:[n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Xt,{label:"男性角色",isActive:m==="男性角色",onClick:()=>p("男性角色")}),n.jsx(Xt,{label:"女性角色",isActive:m==="女性角色",onClick:()=>p("女性角色")})]}),n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[n.jsx("span",{children:"排序:"}),n.jsx(Fl,{label:"默认",isActive:J==="default",onClick:()=>Q("default")}),n.jsx(Fl,{label:"稀有度",isActive:J==="rarity",onClick:()=>Q("rarity")})]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("span",{className:`text-sm font-semibold transition-colors ${ue?"text-red-400":"text-gray-400"}`,children:"出售模式"}),n.jsx("button",{onClick:()=>W(!ue),className:`relative inline-flex items-center h-6 rounded-full w-11 transition-colors ${ue?"bg-red-600":"bg-stone-600"}`,children:n.jsx("span",{className:`inline-block w-4 h-4 transform bg-white rounded-full transition-transform ${ue?"translate-x-6":"translate-x-1"}`})})]})]})]}),n.jsx("div",{className:"p-4 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:Xe.map(x=>n.jsxs("button",{onClick:()=>ue?Ae(x):z(x),className:"relative text-left transition-transform duration-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-amber-500 rounded-lg",children:[n.jsx(Sb,{card:x}),ue&&n.jsx("div",{className:"absolute inset-0 bg-red-800/60 flex items-center justify-center rounded-lg cursor-pointer",children:n.jsx("span",{className:"text-white font-bold text-lg",children:"出售"})})]},x.id))})]});case"通用技能库":const _={男性专用:"Male",女性专用:"Female",通用:"Universal"},X=c.universalSkills.filter(x=>x.genderLock===_[O]),le=X.reduce((x,R)=>((x[R.rarity]=x[R.rarity]||[]).push(R),x),{});return n.jsxs("div",{children:[n.jsx("div",{className:"px-4 pt-2 flex justify-between items-center border-b border-stone-700 bg-stone-800/50 sticky top-0 backdrop-blur-sm z-10",children:n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Xt,{label:"男性专用",isActive:O==="男性专用",onClick:()=>S("男性专用")}),n.jsx(Xt,{label:"女性专用",isActive:O==="女性专用",onClick:()=>S("女性专用")}),n.jsx(Xt,{label:"通用",isActive:O==="通用",onClick:()=>S("通用")})]})}),n.jsxs("div",{className:"p-4 space-y-4",children:[me.map(x=>le[x]&&le[x].length>0?n.jsxs("div",{children:[n.jsxs("h4",{className:`font-semibold mb-2 text-lg ${Re(x)}`,children:["【",x,"】"]}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:le[x].map(R=>n.jsx("button",{onClick:()=>A(R),className:"text-left transition-transform duration-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-amber-500 rounded-lg",children:n.jsx(wb,{skill:R})},R.id))})]},x):null),X.length===0&&n.jsx("div",{className:"text-center text-gray-500 pt-10",children:n.jsx("p",{children:"该分类下暂无技能。"})})]})]});case"装备库":const he={武器:"Weapon",衣服:"Armor",饰品:"Accessory"},Ce=c.equipmentInventory.filter(x=>x.type===he[b]).filter(x=>v==="All"?!0:v==="Universal"?!x.genderLock||x.genderLock==="Universal":x.genderLock===v).sort((x,R)=>I==="rarity"?me.indexOf(x.rarity)-me.indexOf(R.rarity):0);return n.jsxs("div",{children:[n.jsxs("div",{className:"px-4 pt-2 flex justify-between items-center border-b border-stone-700 bg-stone-800/50 sticky top-0 backdrop-blur-sm z-10",children:[n.jsxs("div",{className:"flex space-x-2",children:[n.jsx(Xt,{label:"武器",isActive:b==="武器",onClick:()=>{E("武器"),g("All")}}),n.jsx(Xt,{label:"衣服",isActive:b==="衣服",onClick:()=>{E("衣服"),g("All")}}),n.jsx(Xt,{label:"饰品",isActive:b==="饰品",onClick:()=>{E("饰品"),g("All")}})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-400",children:[n.jsx("span",{children:"排序:"}),n.jsx(Fl,{label:"默认",isActive:I==="default",onClick:()=>ee("default")}),n.jsx(Fl,{label:"稀有度",isActive:I==="rarity",onClick:()=>ee("rarity")})]})]}),n.jsxs("div",{className:"px-4 py-2 flex items-center gap-3 bg-stone-800/50 border-b border-stone-700",children:[n.jsx("span",{className:"text-sm font-semibold text-gray-400",children:"筛选:"}),n.jsx(Fl,{label:"全部",isActive:v==="All",onClick:()=>g("All")}),n.jsx(Fl,{label:"男性专用",isActive:v==="Male",onClick:()=>g("Male")}),n.jsx(Fl,{label:"女性专用",isActive:v==="Female",onClick:()=>g("Female")}),n.jsx(Fl,{label:"通用",isActive:v==="Universal",onClick:()=>g("Universal")})]}),n.jsxs("div",{className:"p-4 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-3",children:[Ce.map(x=>n.jsx("button",{onClick:()=>G(x),className:"text-left transition-transform duration-200 hover:scale-105 focus:outline-none focus:ring-2 focus:ring-amber-500 rounded-lg",children:n.jsx(Cb,{item:x})},x.id)),Ce.length===0&&n.jsx("div",{className:"col-span-full text-center text-gray-500 pt-10",children:n.jsx("p",{children:"该分类下暂无装备。"})})]})]});case"日常道具":return n.jsxs("div",{className:"p-6 text-center text-gray-500 font-serif flex flex-col items-center justify-center h-full",children:[n.jsx("div",{className:"text-4xl mb-4",children:"📦"}),n.jsx("p",{children:"此功能尚未开放。"}),n.jsx("p",{className:"mt-2",children:"未来的丹药、材料等消耗品将在此处展示。"})]})}};return n.jsxs("div",{className:"h-full flex flex-col font-serif text-gray-300",children:[n.jsxs("div",{className:"flex-shrink-0 px-4 flex space-x-2 border-b border-stone-700",children:[n.jsx(Xt,{label:"图鉴",isActive:d==="图鉴",onClick:()=>o("图鉴")}),n.jsx(Xt,{label:"通用技能库",isActive:d==="通用技能库",onClick:()=>o("通用技能库")}),n.jsx(Xt,{label:"装备库",isActive:d==="装备库",onClick:()=>o("装备库")}),n.jsx(Xt,{label:"日常道具",isActive:d==="日常道具",onClick:()=>o("日常道具")})]}),n.jsx("div",{className:"flex-grow overflow-y-auto bg-black/20 relative",children:ge()}),Y&&n.jsx(Ou,{card:Y,onClose:()=>z(null),playerProfile:c,setPlayerProfile:u}),N&&n.jsx(yb,{skill:N,onClose:()=>A(null)}),U&&n.jsx(Nb,{item:U,onClose:()=>G(null)}),de&&n.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4 animate-fade-in",children:n.jsxs("div",{className:"bg-stone-800 border border-stone-600 rounded-xl w-full max-w-md shadow-2xl p-6 text-center font-serif",children:[n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"确认出售"}),n.jsxs("p",{className:"text-gray-300",children:["你确定要出售 ",n.jsxs("span",{className:`font-semibold ${Re(de.rarity)}`,children:["[",de.rarity,"] ",de.name]})," 吗?"]}),n.jsxs("p",{className:"text-lg text-green-400 font-bold my-4",children:["你将获得 ",pu[de.rarity]||0," 灵石"]}),Je&&n.jsx("p",{className:"text-red-500 text-sm mb-4 animate-shake",children:Je}),n.jsxs("div",{className:"flex justify-center gap-4 mt-6",children:[n.jsx("button",{onClick:()=>Ae(null),className:"px-6 py-2 bg-stone-600 hover:bg-stone-500 rounded-md font-semibold",children:"取消"}),n.jsx("button",{onClick:$e,className:"px-6 py-2 bg-red-600 text-white hover:bg-red-500 rounded-md font-bold",children:"确认"})]})]})})]})},Mb=({data:c})=>n.jsx("div",{className:"w-full h-full",children:n.jsxs("table",{className:"w-full text-sm text-left text-gray-300 table-fixed",children:[n.jsx("thead",{className:"text-xs text-amber-400 uppercase bg-slate-700/50 sticky top-0",children:n.jsxs("tr",{children:[n.jsx("th",{scope:"col",className:"p-3 w-16 text-center",children:"排名"}),n.jsx("th",{scope:"col",className:"p-3 w-2/5",children:"修士名号"}),n.jsx("th",{scope:"col",className:"p-3 w-2/5",children:"所属势力"}),n.jsx("th",{scope:"col",className:"p-3 w-1/5 text-right",children:"积分"})]})}),n.jsx("tbody",{children:c.map(u=>n.jsxs("tr",{className:"border-b border-slate-700/50 hover:bg-slate-800/40",children:[n.jsx("td",{className:"p-3 font-medium text-center",children:u.rank===1?"🥇":u.rank===2?"🥈":u.rank===3?"🥉":u.rank}),n.jsx("td",{className:"p-3 font-semibold text-white truncate",children:u.name}),n.jsx("td",{className:"p-3 truncate",children:u.faction}),n.jsx("td",{className:"p-3 font-mono text-right",children:u.points})]},u.rank))})]})}),D0=({label:c,isActive:u,onClick:d,isSubTab:o})=>n.jsx("button",{onClick:d,className:`px-4 transition-colors duration-200 font-semibold ${o?`py-1 text-sm rounded-md ${u?"bg-amber-600/80 text-white":"bg-stone-700/60 text-gray-300 hover:bg-stone-700"}`:`py-2 text-base rounded-t-lg ${u?"bg-stone-700/80 text-amber-400 border-b-2 border-amber-400":"bg-transparent text-gray-400 hover:bg-stone-700/50 hover:text-gray-200"}`}`,children:c}),Ab=({playerProfile:c,leaderboards:u,onMatchFound:d})=>{const[o,m]=k.useState("宗门排行榜"),[p,b]=k.useState("总榜"),[E,v]=k.useState(!1),g=c.arenaRank,O=u,S=()=>o==="宗门排行榜"?O[o][p]:O[o],Y=()=>{v(!0),setTimeout(()=>{const z=tl.filter(U=>U.id!==c.name),A={...z[Math.floor(Math.random()*z.length)],id:`arena-opponent-${Date.now()}`};d(A)},2500)};return n.jsxs("div",{className:"h-full flex flex-col md:flex-row font-serif text-gray-300 p-4 gap-4",children:[n.jsxs("div",{className:"flex-shrink-0 md:w-1/3 bg-black/20 p-6 rounded-lg flex flex-col items-center justify-center text-center border border-stone-700/50",children:[n.jsx("h2",{className:"text-2xl font-bold text-white mb-4",children:"我的战绩"}),n.jsx("div",{className:"text-6xl mb-4",children:g.tierIcon}),n.jsxs("p",{className:"text-3xl font-bold text-amber-400",children:[g.tier," ",g.division]}),n.jsxs("p",{className:"text-lg text-gray-400 mt-2",children:[g.points," 积分"]}),n.jsx("button",{onClick:Y,disabled:E,className:"mt-8 bg-red-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-red-500 transition-colors shadow-lg w-40 h-14 flex items-center justify-center disabled:bg-red-800 disabled:cursor-wait",children:E?n.jsxs(n.Fragment,{children:[n.jsx("i",{className:"fa-solid fa-spinner fa-spin mr-3"}),"匹配中..."]}):"寻找对战"})]}),n.jsxs("div",{className:"flex-grow bg-black/20 p-4 rounded-lg border border-stone-700/50 flex flex-col",children:[n.jsxs("div",{className:"flex-shrink-0 border-b border-stone-700",children:[n.jsx("div",{className:"flex space-x-2",children:Object.keys(O).map(z=>n.jsx(D0,{label:z,isActive:o===z,onClick:()=>m(z)},z))}),o==="宗门排行榜"&&n.jsx("div",{className:"px-2 py-2 flex space-x-2",children:Object.keys(O.宗门排行榜).map(z=>n.jsx(D0,{label:z,isActive:p===z,onClick:()=>b(z),isSubTab:!0},z))})]}),n.jsx("div",{className:"flex-grow overflow-y-auto mt-2",children:n.jsx(Mb,{data:S()})})]})]})},Eb=c=>!!(c&&c.gender&&c.skills),R0=c=>!!(c&&c.stats&&["Weapon","Armor","Accessory"].includes(c.type)),k0=c=>!!(c&&c.cost!==void 0&&c.mechanicsDescription),B0=c=>c.type==="compensation",Ob=({gender:c})=>{if(c==="Universal"||!c)return null;const u=c==="Male"?"♂":"♀",d=c==="Male"?"text-sky-400":"text-pink-400";return n.jsx("div",{className:`absolute top-1 right-1 w-5 h-5 rounded-full bg-black/50 flex items-center justify-center font-bold text-sm ${d}`,children:u})},_b=({item:c,isRevealed:u,onReveal:d})=>{const[o,m]=k.useState(!1);k.useEffect(()=>{u&&m(!0)},[u]);const p=()=>{o||(m(!0),d())},b=(()=>{if(B0(c))return n.jsx("div",{className:"text-4xl mb-1 text-yellow-400",children:"💎"});if(Eb(c))return c.gender==="Male"?n.jsx("div",{className:"text-4xl mb-1 text-sky-400",children:"♂"}):n.jsx("div",{className:"text-4xl mb-1 text-pink-400",children:"♀"});const E=R0(c)?"🗡️":k0(c)?"📜":"❓";return n.jsx("div",{className:"text-4xl mb-1",children:E})})();return n.jsx("div",{className:"w-full aspect-[3/4] [perspective:1000px] group",onClick:p,children:n.jsxs("div",{className:`relative w-full h-full transition-transform duration-700 [transform-style:preserve-3d] ${o?"[transform:rotateY(180deg)]":""}`,children:[n.jsx("div",{className:"absolute w-full h-full [backface-visibility:hidden] bg-slate-700 rounded-lg border-2 border-slate-500 flex items-center justify-center",children:n.jsx("div",{className:"text-4xl text-amber-400 opacity-50",children:"?"})}),n.jsxs("div",{className:`absolute w-full h-full [backface-visibility:hidden] [transform:rotateY(180deg)] bg-slate-800 rounded-lg border-2 flex flex-col justify-between p-2 text-center ${Vh(c.rarity)} ${Pl(c.rarity)}`,children:[(R0(c)||k0(c))&&n.jsx(Ob,{gender:c.genderLock}),n.jsxs("div",{className:"flex-grow flex flex-col items-center justify-center",children:[b,n.jsx("p",{className:"text-sm font-bold text-white font-serif leading-tight",children:c.name}),B0(c)&&n.jsx("p",{className:"text-xs text-amber-300 mt-1 px-1",children:c.description})]}),n.jsxs("p",{className:`text-xs font-semibold ${Re(c.rarity)}`,children:["[",c.rarity,"]"]})]})]})})},zb=({results:c,onClose:u})=>{const[d,o]=k.useState(new Set),m=c.length===1;k.useEffect(()=>{if(m){const v=setTimeout(()=>o(new Set([0])),500);return()=>clearTimeout(v)}},[m]);const p=()=>{const v=new Set(c.map((g,O)=>O));o(v)},b=v=>{o(g=>new Set(g).add(v))},E=d.size===c.length;return n.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 animate-fade-in",children:n.jsxs("div",{className:"bg-slate-900/90 border border-slate-700 rounded-xl w-full max-w-4xl h-auto max-h-[90vh] shadow-2xl flex flex-col backdrop-blur-lg",onClick:v=>v.stopPropagation(),children:[n.jsx("h2",{className:"text-2xl font-bold text-white font-serif text-center p-4 flex-shrink-0",children:"招募结果"}),n.jsx("div",{className:`flex-grow p-4 overflow-y-auto ${m?"flex items-center justify-center":"grid grid-cols-5 gap-3"}`,children:c.map((v,g)=>n.jsx("div",{className:m?"w-48":"",children:n.jsx(_b,{item:v,isRevealed:d.has(g),onReveal:()=>b(g)})},g))}),n.jsxs("div",{className:"p-4 flex-shrink-0 flex justify-center items-center gap-4",children:[!m&&n.jsx("button",{onClick:p,disabled:E,className:"bg-slate-600 hover:bg-slate-500 text-white font-bold py-2 px-6 rounded-md transition-colors disabled:opacity-50",children:"全部展示"}),n.jsx("button",{onClick:u,disabled:!E,className:"bg-amber-600 hover:bg-amber-500 text-white font-bold py-2 px-8 rounded-md transition-colors disabled:opacity-50",children:"确认"})]})]})})};async function Db(c,u){try{await window.TavernHelper.updateVariablesWith(d=>(d.xianxiaRpgSaves||(d.xianxiaRpgSaves={}),d.xianxiaRpgSaves[u]=c,d),{type:"character"})}catch(d){console.error(`保存游戏到槽位 ${u} 失败:`,d)}}function Rb(c){try{const u=window.TavernHelper.getVariables({type:"character"});return u&&u.xianxiaRpgSaves&&u.xianxiaRpgSaves[c]?u.xianxiaRpgSaves[c]:null}catch(u){return console.error(`从槽位 ${c} 加载游戏失败:`,u),null}}function kb(){try{const c=window.TavernHelper.getVariables({type:"character"});return c&&c.xianxiaRpgSaves||{}}catch(c){return console.error("获取所有存档失败:",c),{}}}function Zt(c){const u=/```json\s*([\s\S]*?)\s*```/,d=c.match(u);if(d&&d[1])try{return JSON.parse(d[1])}catch(o){throw console.error("解析从AI响应中提取的JSON失败:",o),console.error("原始JSON字符串:",d[1]),new Error("模型返回的JSON格式无效。")}throw console.error("在AI响应中未找到JSON代码块。响应内容:",c),new Error("模型响应中未找到预期的JSON代码块。")}async function U0(c,u,d){var g;const o=`你是一位仙侠（中国仙幻）RPG的大师级故事讲述者和游戏主持人。
1. 阅读故事历史、玩家档案和玩家的行动。
2. 撰写故事的下一章。故事应引人入胜，文笔优美，符合仙侠主题。
3. **任务更新**:
   a. 如果玩家的行动完成了某个正在进行的任务目标（例如，与特定NPC交谈），你**必须**在JSON输出中包含一个 'questUpdate' 对象。该对象应包含 'questId', 'objectiveId' 和 'progress' (通常为1，代表完成1次)。
   b. 如果故事发展到了可以触发一个新任务的节点，你**可以**在JSON输出中包含一个 'newQuest' 对象，其结构必须符合我们定义的Quest类型。
4. **战斗和挑战**: 仅当故事中明确出现一个角色对另一个角色“亮出黄牌”时，你才必须触发战斗。
5. **关系更新**: 如果剧情导致角色关系发生变化，你可以包含一个 'relationshipUpdate' 对象。
6. 更新游戏世界的状态（地点，时间）。
7. 提供三个富有创意、各不相同且简洁的行动选项。
8. 你的最终输出必须是一个包裹在 \`\`\`json ... \`\`\` 代码块中的JSON对象。不要在代码块之外添加任何解释或注释。`,m=c.length>2e3?`...${c.slice(-2e3)}`:c,p=d.maleParty.length>0?d.maleParty:d.femaleParty,b=`
    迄今为止的故事：
    ${m}

    玩家档案（摘要）：
    姓名: ${d.name}
    队伍成员: ${p.map(O=>O.name).join("、")}
    声望: ${d.reputation.level} (${d.reputation.score})
    进行中的任务: ${JSON.stringify(d.quests.filter(O=>O.status==="In Progress"))}

    玩家的行动：
    "${u}"

    现在，请生成故事的下一部分和新的游戏状态。
    `,E=await window.TavernHelper.generateRaw({ordered_prompts:[{role:"system",content:o},{role:"user",content:b}]}),v=Zt(E);return((g=v.event)==null?void 0:g.type)==="battle"?{...v,opponentParty:[]}:v}async function Bb(c,u,d){const o=`你是一位顶级的仙侠世界色情战斗解说员。你的任务是基于角色和技能的色情设定，生成一段露骨、详细、电影般的战斗场景描述，同时精确计算战斗结果。
规则：
1.  **色情战斗描述 (ActionDescription)**: 这是你的首要任务。你必须基于当前行动者使用的技能的 'eroticDescription' 进行扩展和润色，生成一段详细、露骨、充满想象力的色情战斗场景描述。这段描述应该具体到身体姿态、表情、体液、以及性器官的互动。例如，如果 eroticDescription 是“从私处涌出能量”，你应该描绘出这个过程的细节、颜色、以及对敌人的影响。此字段绝对不能包含任何数值。
2.  **精确伤害计算**: 基础伤害 = (攻击者攻击力 - 防御者防御力)。最低伤害为5。
3.  **状态与会心**: 严格按照技能机制、状态效果和会心率计算最终伤害和HP/MP变化。
4.  **简洁战斗总结 (TurnSummary)**: 这个字段必须非常简洁，只记录客观的战斗结果，用于战斗日志。例如：“【淫纹爆发】对 灵月 造成了 69 点伤害。”
5.  **AI对手行动**: 对手总是使用其两个技能之一。选择策略上最合理的一个，并同样为其生成色情的 'opponentActionDescription' 和简洁的 'opponentTurnSummary'。
6.  **JSON输出**: 你的最终输出必须是一个包裹在 \`\`\`json ... \`\`\` 代码块中的JSON对象。不要在代码块之外添加任何解释或注释。`,m=E=>E.card.skills.filter(v=>v).map(v=>({name:v.name,cost:v.cost,mechanics:v.mechanicsDescription,eroticDescription:v.eroticDescription})),p=`
    当前战斗人员：
    - 玩家卡牌: ${c.card.name} (境界: ${c.card.realm}, 攻击: ${c.calculatedStats.attack}, 防御: ${c.calculatedStats.defense}, 当前气血: ${c.currentHp}, 当前真元: ${c.currentMp}, 当前状态: ${JSON.stringify(c.statusEffects)}, 技能: ${JSON.stringify(m(c))})
    - 对手卡牌: ${u.card.name} (境界: ${u.card.realm}, 攻击: ${u.calculatedStats.attack}, 防御: ${u.calculatedStats.defense}, 当前气血: ${u.currentHp}, 当前真元: ${u.currentMp}, 当前状态: ${JSON.stringify(u.statusEffects)}, 技能: ${JSON.stringify(m(u))})

    玩家的行动：
    "${d}"

    请结算此回合。首先，基于玩家使用的技能的 'eroticDescription' 生成 'playerActionDescription'，并计算结果。然后，决定对手的行动，同样生成 'opponentActionDescription' 并计算结果。
    `,b=await window.TavernHelper.generateRaw({ordered_prompts:[{role:"system",content:o},{role:"user",content:p}]});return Zt(b)}async function Ub(c,u){const d="你是一位仙侠（中国仙幻）RPG的大师级故事讲述者和游戏主持人。你的任务是生成一个随机世界事件。\n1. 事件应该有趣并符合仙侠主题。\n2. 提供一个简短、引人入胜的故事。\n3. 创建2-3个有意义的选择，并有明确的风险/回报结果。\n4. 结果必须是指定类型之一。\n5. 如果结果是 'reward_item'，你必须从提供的可用装备列表中选择一个物品名称。\n6. 你的最终输出必须是一个包裹在 ```json ... ``` 代码块中的JSON对象。不要在代码块之外添加任何解释或注释。",o=K0.map(b=>b.name).join(", "),m=`
    玩家当前位置: ${c}
    玩家姓名: ${u.name}
    可作为奖励的物品: ${o}

    请根据此背景生成一个随机事件。
    `,p=await window.TavernHelper.generateRaw({ordered_prompts:[{role:"system",content:d},{role:"user",content:m}]});return Zt(p)}async function Hb(c){const u=`你是一位专业的仙侠背景色情内容创作者，写作风格大胆、露骨、毫不避讳。你的任务是根据指定的稀有度，创造一个极度色情的角色。
1.  **严格遵守稀有度**: 稀有度越高，角色的色情程度和暴露程度应该越高。
2.  **生成核心属性**: 你必须为角色生成'charm'(魅力), 'skillfulness'(技巧), 'perception'(悟性)这三个属性，数值范围在1-100之间。请根据角色的稀有度和定位赋予合理的数值。例如，一个高稀有度的妖女可能拥有极高的魅力，而一个刺客则可能技巧和悟性更高。
3.  **色情化核心字段**:
    *   **外观描述 (appearance)**: 这是最重要的部分。描述必须极度详细、露骨，并直接聚焦于性器官和性感部位。请具体描绘角色的巨乳、乳头、私处、臀部等。衣着必须暴露，甚至完全裸体。例如：“她的法袍仅由几根布条构成，巨大的乳房完全暴露在外，深色的乳头硬挺着。下身光裸，神秘的缝隙若隐若现，随着她的动作，淫水甚至会微微渗出。”
    *   **称号 (title)**: 称号必须直接、粗俗，充满性意味。例如：“行走的人形春药”、“榨精女魔”、“万兽臣服的巨根神子”。
4.  **其他字段**: 角色的名称、种族、来历和技能也应与整体的极度色情风格保持一致。
5.  **JSON输出**: 你的最终输出必须是一个包裹在 \`\`\`json ... \`\`\` 代码块中的JSON对象，其结构与CharacterCard类型匹配，确保包含 charm, skillfulness, perception 字段。不要在代码块之外添加任何解释或注释。`,d=`请生成一个稀有度为【${c}】的角色卡。`,o=await window.TavernHelper.generateRaw({ordered_prompts:[{role:"system",content:u},{role:"user",content:d}]});return Zt(o)}async function qb(c){const u="你是一位顶级的仙侠世界色情装备设计师，精通如何将功能与极致的色情美学结合。\n1.  **严格遵守稀有度**: 稀有度越高，装备应该越暴露、越色情、功能越奇特。\n2.  **色情化核心字段**:\n    *   **描述 (description)**: 这是最重要的部分。描述必须聚焦于其色情外观和穿着效果。请详细、露骨地描述它如何贴合身体、暴露哪些部位、使用何种充满暗示的材料。不要有任何保留。例如，一件铠甲可以被描述为‘仅能遮住乳头的秘银胸链，其冰冷的触感时刻刺激着穿戴者，让乳头保持硬挺’；一条裙子可以是‘一条完全透明的纱裙，仅在私处缝有一颗珍珠，随着走动摩擦着阴蒂’。\n    *   **名称 (name)**: 装备名称也应充满性暗示，例如“淫纹贞操带”、“堕落仙子之泪”、“巨根束缚环”。\n3.  **JSON输出**: 你的最终输出必须是一个包裹在 ```json ... ``` 代码块中的JSON对象，其结构与Equipment类型匹配。不要在代码块之外添加任何解释或注释。",d=`请生成一个稀有度为【${c}】的装备。`,o=await window.TavernHelper.generateRaw({ordered_prompts:[{role:"system",content:u},{role:"user",content:d}]});return Zt(o)}async function Lb(c,u){const d=`你是一位顶级的仙侠世界色情技能设计师，精通如何将技能效果与极致的色情表现结合。
1.  **严格遵守稀有度**: 稀有度越高，技能的色情程度和表现力应该越强。
2.  **严格遵守性别锁 (genderLock)**: 你必须为你被指定的性别【${u}】设计技能。
    *   如果是 **Male**，描述应聚焦于男性的雄伟、力量和侵略性，例如使用巨根、阳气、精液等元素。
    *   如果是 **Female**，描述应聚焦于女性的妩媚、柔软和淫荡，例如使用乳房、私处、媚术、潮吹等元素。
    *   如果是 **Universal**，描述应适用于任何性别，可以聚焦于更通用的性感姿态或中性的快感。
3.  **色情化核心字段**:
    *   **eroticDescription**: 这是最重要的部分。必须为技能生成一个该字段。描述必须根据指定的性别，极度色情、充满想象力地描绘技能释放时的身体姿态和能量流动。
    *   **名称 (name)**: 技能名称也应充满性暗示，并符合指定的性别特征。
4.  **JSON输出**: 你的最终输出必须是一个包裹在 \`\`\`json ... \`\`\` 代码块中的JSON对象，其结构与Skill类型匹配，不要忘记包含 eroticDescription 和 genderLock 字段。`,o=`请为【${u}】性别生成一个稀有度为【${c}】的技能。`,m=await window.TavernHelper.generateRaw({ordered_prompts:[{role:"system",content:d},{role:"user",content:o}]}),p=Zt(m);return p.genderLock=u,p}async function Yb(c,u){const d=`You are a creative storyteller for a Xianxia (Chinese Fantasy) RPG. Your task is to generate world announcements that make the game world feel alive and dynamic.
1.  Generate exactly ${u} announcements for the specified category.
2.  Each announcement must have a title, content, and a thematic timestamp.
3.  The tone should be immersive and match the Xianxia genre. Announcements can be about major events, minor gossip, character achievements, or mysterious occurrences.
4.  Your final output must be a JSON object wrapped in a \`\`\`json ... \`\`\` code block. Do not add any explanations or comments outside the code block.`,m=`
    Please generate ${u} announcements for the following category: ${c}
    Category Guideline: ${{sect:"Sect Announcements: Focus on events within the player's sect (青蛇宗) or rival sects. Examples: promotions, breakthroughs, new rules, successful alchemy, challenges between disciples.",adventure:"Adventures & Anecdotes: Focus on rumors, discoveries, and strange events happening in the world that players might investigate. Examples: mysterious treasures appearing, strange beasts spotted, legendary cultivators being seen, gossip from a teahouse.",world:"World Decrees: Focus on major, world-shaking events. Examples: Heavenly Dao phenomena, wars between major factions, the birth of a divine being, the opening of an ancient ruin."}[c]}
    `,p=await window.TavernHelper.generateRaw({ordered_prompts:[{role:"system",content:d},{role:"user",content:m}]});return Zt(p).announcements||[]}function Gb(c,u){const d=JSON.parse(JSON.stringify(c)),o=d.relationships.findIndex(m=>m.id===u.characterId);if(o!==-1){const m=d.relationships[o];if(u.status&&(m.relationshipStatus=u.status),u.newTags){const p=new Set([...m.relationshipTags,...u.newTags]);m.relationshipTags=Array.from(p)}}else console.warn(`Relationship with ID ${u.characterId} not found.`);return d}async function Qb(c){const u="你是一个仙侠世界的天机阁说书人，负责根据玩家的档案和声望，总结他们的称号和各种事迹。\n1.  阅读玩家的档案，特别是他们的声望分数和等级。\n2.  基于他们的声望，创造性地生成 1 个符合仙侠风格的江湖称号。\n3.  基于他们的声望和故事历史（摘要），总结出他们做过的两件广为人知的好事。\n4.  基于他们的声望和故事历史（摘要），总结出他们做过的两件广为人知的坏事。\n5.  发挥你的想象力，杜撰两件关于该角色的风流韵事或“最色的事”，要大胆、出格、符合仙侠世界的风土人情。例如“胁迫敌对宗门圣女当众裸体跳舞”或“在瑶池圣地偷看仙子洗澡”。\n6.  你的最终输出必须是一个包裹在 ```json ... ``` 代码块中的JSON对象，包含 'title', 'goodDeeds', 'badDeeds', 和 'lewdDeeds' 四个字段，每个数组包含两个字符串。不要在代码块之外添加任何解释或注释。",d=`
    玩家档案：
    姓名: ${c.name}
    称号: ${c.title}
    声望等级: ${c.reputation.level}
    声望分数: ${c.reputation.score}

    请为这位修士生成称号和各类事迹。
    `,o=await window.TavernHelper.generateRaw({ordered_prompts:[{role:"system",content:u},{role:"user",content:d}]});return Zt(o)}async function Xb(c){const u="你是一个跨次元的角色卡牌生成器。你的任务是根据用户提供的“灵感来源”，创造一个符合该灵感、但又适合我们仙侠世界观的角色卡。\n1.  **解析灵感**: 理解用户输入的核心概念（例如，角色名、作品、特征）。\n2.  **仙侠化改编**: 将角色的能力、背景和外观进行“仙侠化”改编。例如，如果灵感是“一个使用龟派气功的赛亚人”，你可以将其改编为一个掌握了某种强大掌法、血脉奇特的炼体修士。\n3.  **数据完整性**: 你必须完整地填充CharacterCard的所有字段，包括名称、性别、境界、稀有度、称号、种族、来历、外观描述、基础属性和技能。技能也需要完整的名称、描述和效果。\n4.  **JSON输出**: 你的最终输出必须是一个包裹在 ```json ... ``` 代码块中的JSON对象，其结构与CharacterCard类型完全匹配。不要在代码块之外添加任何解释或注释。",d=`请根据以下灵感来源，生成一张同人角色卡：

"${c}"`,o=await window.TavernHelper.generateRaw({ordered_prompts:[{role:"system",content:u},{role:"user",content:d}]});return Zt(o)}async function Zb(c,u){const d="你是一家名为“七情六欲坊”的商业街区的大总管，负责记录每天发生的各种香艳、有趣的经营事件。\n1.  **分析员工信息**: 下面会提供一系列在不同店铺工作的员工信息。\n2.  **创造事件**: 从中随机挑选1-2名员工，围绕他们创造一个简短的、符合店铺定位的色情小故事或经营事件。\n    *   **正面事件**: 例如，某位花魁让客人极为满意，获得了巨额打赏；某位角斗士的英姿引来了女修的疯狂追捧。\n    *   **负面事件**: 例如，某位炼丹师偷尝春药导致炸炉；某位护卫与客人争风吃醋大打出手。\n3.  **决定收入变化**: 根据事件的性质，决定一个对总收入的微小影响值 'incomeChange'（可正可负，绝对值通常在50以内，以实现长期积累的目标）。\n4.  **JSON输出**: 你的最终输出必须是一个包裹在 ```json ... ``` 代码块中的JSON对象，包含 'message' 和 'incomeChange' 两个字段。",o=c.shops.flatMap(b=>b.staff.map(E=>{const v=u.find(g=>g.id===E.characterId);return{shopType:b.type,characterName:(v==null?void 0:v.name)||"未知员工"}}));if(o.length===0)return{message:"街区无人开工，一片死寂。",incomeChange:0};const m=`
    当前员工列表:
    ${JSON.stringify(o,null,2)}

    请基于以上信息，生成一则今日的经营事件。
    `,p=await window.TavernHelper.generateRaw({ordered_prompts:[{role:"system",content:d},{role:"user",content:m}]});try{return Zt(p)}catch(b){return console.error("解析经营事件JSON失败:",b),{message:"今天风平浪静，无事发生。",incomeChange:0}}}async function Vb(c,u){const d=`你是一个拥有上帝视角的观察者，正在通过一枚隐形的“监视水晶”窥探一名员工的私密工作状态。你的描述必须极度色情、露骨，并充满细节。
1.  **聚焦当前**: 描述这个人【现在】正在做什么。
2.  **结合岗位**: 描述的内容必须与员工的岗位（${u}）和角色设定（${c.name}, ${c.appearance}）紧密相关。
3.  **细节描绘**: 大胆描绘角色的身体姿态、表情、体液、以及与客人或物品的性爱互动。不要有任何保留。
4.  **直接输出**: 你的最终输出只需要一段纯文本描述，不要包含任何JSON格式或额外解释。`,o=`
    正在监视:
    - 姓名: ${c.name}
    - 岗位: ${u}
    - 外观: ${c.appearance}

    请生成一份详细的、极度色情的监视报告。
    `;return await window.TavernHelper.generateRaw({ordered_prompts:[{role:"system",content:d},{role:"user",content:o}]})}async function Gi(c){const u=`你是一位专业的性病医生和创意作家，擅长创造符合仙侠世界观的、充满色情想象力的病例。
1.  **创造病人**: 生成一个独特的病人，包括姓名、性别、年龄和简短背景。${c?`病人的性别必须是【${c}】。`:""}
2.  **设计性特征**:
    *   为病人设计一个独特的生殖器形态 **(genitalShape)**，例如“一线天型蜜穴”、“龙角巨根”、“双洞并蒂莲”等。
    *   为病人设计2-3个独特的性特征 **(sexualFeatures)**，例如“超敏感体质”、“淫纹”、“喷乳”等。
3.  **杜撰性病**:
    *   为病人杜撰一种奇特的仙侠世界性病，并给出详细、露骨的描述 **(illnessDescription)**。描述需要包含病症、发作时的状态以及可能的后果。例如：“所患性病为‘七日断魂骚’，灵气在体内凝结成春药，每日午时发作，会不分场合地疯狂自慰，直至精尽人亡。”
4.  **JSON输出**: 你的最终输出必须是一个包裹在 \`\`\`json ... \`\`\` 代码块中的JSON对象，其结构与MedicalRecord类型完全匹配。`,d=`请为我的性病医馆生成一位${c?`性别为【${c}】的`:""}新的病人病例。`,o=await window.TavernHelper.generateRaw({ordered_prompts:[{role:"system",content:u},{role:"user",content:d}]}),m=Zt(o);return m.patientId=`patient-${Date.now()}`,m}async function ps(c){const u=`你是一位顶级的色情世界观构建师，擅长创造充满诱惑和危险的角色。
1.  **创造悬赏目标**: 生成一个独特的、可被玩家“狩猎”的悬赏目标。
2.  **设计核心要素**:
    *   **名号 (name)**: 必须是一个极具性暗示和想象力的称号，例如“千乳圣女”、“不射金刚”、“九转淫魔”。
    *   **特殊体质 (specialTrait)**: 详细描述该目标独特的、与色情相关的体质或性癖。例如：“被殴打时会获得快感”、“只对兽人形态的角色发情”、“拥有三个阴道”。
    *   **出没线索 (locationHint)**: 提供一个模糊但有迹可循的地点线索，例如“据说常在【黑森林】的月光下吸收阴气”。
3.  **生成角色卡 (character)**: 你必须为这个目标生成一个完整的、符合CharacterCard接口的角色卡数据。角色的外观、技能和属性都必须与ta的名号和特殊体质紧密相关，且充满色情细节。${c?`该角色卡的性别必须是【${c}】。`:""}
4.  **JSON输出**: 你的最终输出必须是一个包裹在 \`\`\`json ... \`\`\` 代码块中的JSON对象，其结构与 Omit<BountyTarget, 'id' | 'status'> 类型完全匹配。`,d=`请为我的“红尘录”悬赏榜单生成一个新的${c?`性别为【${c}】的`:""}目标。`,o=await window.TavernHelper.generateRaw({ordered_prompts:[{role:"system",content:u},{role:"user",content:d}]});return Zt(o)}const Jb=c=>!!(c&&c.gender&&c.skills),$b=c=>!!(c&&c.stats&&["Weapon","Armor","Accessory"].includes(c.type)),Kb=c=>!!(c&&c.cost!==void 0&&c.mechanicsDescription),Wb=c=>c.type==="compensation",H0=({label:c,isActive:u,onClick:d})=>n.jsx("button",{onClick:d,className:`px-4 py-2 text-sm font-semibold rounded-t-lg transition-colors duration-200 ${u?"bg-stone-700/80 text-amber-400 border-b-2 border-amber-400":"bg-transparent text-gray-400 hover:bg-stone-700/50 hover:text-gray-200"}`,children:c}),gs=({label:c,isActive:u,onClick:d})=>n.jsx("button",{onClick:d,className:`px-4 py-2 rounded-md transition-colors duration-200 text-sm font-medium ${u?"bg-amber-600/20 text-amber-300":"bg-stone-800/60 text-gray-300 hover:bg-stone-700/80"}`,children:c}),Fb=({title:c,description:u,bannerUrl:d,onPullOne:o,onPullTen:m,isLoading:p,error:b,pullOneCost:E,pullTenCost:v,pullOneLabel:g="招募一次",pullTenLabel:O="招募十次"})=>{const[S,Y]=k.useState(!1);return n.jsxs("div",{className:"bg-stone-800/50 rounded-lg overflow-hidden border border-stone-700/50 flex flex-col shadow-lg",children:[n.jsxs("div",{className:"relative h-48",children:[n.jsx("img",{src:d,alt:c,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-stone-800/90 to-transparent"}),n.jsx("h3",{className:"absolute bottom-4 left-4 text-2xl font-bold text-white font-serif tracking-wider drop-shadow-lg",children:c})]}),n.jsxs("div",{className:"p-4 flex-grow flex flex-col",children:[n.jsx("p",{className:"text-sm text-gray-300 flex-grow",children:u}),n.jsx("div",{className:"text-right mt-2 mb-2",children:n.jsxs("button",{onClick:()=>Y(!S),className:"text-xs text-stone-400 hover:text-amber-400",children:["概率公示 ",S?"▲":"▼"]})}),S&&n.jsxs("div",{className:"bg-black/20 p-2 rounded-md mb-3 text-xs animate-fade-in border border-stone-700/50",children:[n.jsx("p",{className:`${Re("神品")}`,children:"【神品】: 0.1%"}),n.jsx("p",{className:`${Re("圣品")}`,children:"【圣品】: 0.4%"}),n.jsx("p",{className:`${Re("仙品")}`,children:"【仙品】: 1.5%"}),n.jsx("p",{className:`${Re("绝品")}`,children:"【绝品】: 3%"}),n.jsx("p",{className:`${Re("珍品")}`,children:"【珍品】: 5%"}),n.jsx("p",{className:`${Re("优品")}`,children:"【优品】: 15%"}),n.jsx("p",{className:`${Re("良品")}`,children:"【良品】: 30%"}),n.jsx("p",{className:`${Re("凡品")}`,children:"【凡品】: 45%"}),n.jsx("p",{className:"text-stone-500 mt-1 text-[10px]",children:"※ 十次招募必得【优品】或以上品质的物品。"})]}),b&&n.jsx("div",{className:"text-red-400 text-center text-sm my-2 animate-shake",children:b}),n.jsxs("div",{className:"mt-auto flex gap-3",children:[n.jsxs("button",{onClick:o,disabled:p,className:"flex-1 bg-stone-700 hover:bg-stone-600 transition-colors rounded-md p-3 text-center border border-stone-600/50 disabled:opacity-50 disabled:cursor-wait",children:[n.jsx("p",{className:"font-bold text-white",children:p?"...":g}),n.jsxs("p",{className:"text-xs text-amber-400",children:["消耗 ",E," 灵石"]})]}),n.jsxs("button",{onClick:m,disabled:p,className:"flex-1 bg-gradient-to-br from-amber-600 to-amber-700 hover:from-amber-500 hover:to-amber-600 transition-all rounded-md p-3 text-center border border-amber-500/50 shadow-md shadow-amber-600/20 disabled:opacity-50 disabled:cursor-wait",children:[n.jsx("p",{className:"font-bold text-white",children:p?"天机演算中...":O}),n.jsxs("p",{className:"text-xs text-amber-200",children:["消耗 ",v," 灵石"]})]})]})]})]})},Ib=({playerProfile:c,setPlayerProfile:u})=>{const[d,o]=k.useState("抽取卡池"),[m,p]=k.useState("人物卡牌"),[b,E]=k.useState("regular"),[v,g]=k.useState(null),[O,S]=k.useState(!1),[Y,z]=k.useState(null),N=["凡品","良品","优品","珍品","绝品","仙品","圣品","神品"],A={凡品:45,良品:30,优品:15,珍品:5,绝品:3,仙品:1.5,圣品:.4,神品:.1},U=(ee,ue=!1)=>{const W=A,de=[];let Ae=N;ue&&(Ae=N.filter(me=>N.indexOf(me)>=2)),Ae.forEach(me=>{de.push({rarity:me,weight:W[me]})});const Je=de.reduce((me,$e)=>me+$e.weight,0);let _e=Math.random()*Je;for(const me of de)if(_e-=me.weight,_e<=0)return me.rarity;return de[de.length-1].rarity},G=async(ee,ue)=>{const W=[];for(let ge=0;ge<ee;ge++)W.push(U());ee===10&&!W.some(ge=>N.indexOf(ge)>=2)&&(W[Math.floor(Math.random()*10)]=U(ue,!0));const de=W.map(ge=>{switch(N.indexOf(ge)>=5,m){case"人物卡牌":return Hb(ge);case"装备":return qb(ge);case"通用技能":return Lb(ge,"Universal");default:return Promise.reject(new Error("Invalid gacha tab"))}}),Ae=await Promise.all(de),Je=[],_e=JSON.parse(JSON.stringify(c)),me=m==="人物卡牌",$e=m==="通用技能";for(const ge of Ae){if(!ge)continue;let Xe=!1;if(me?Xe=_e.cardCollection.some(_=>_.name===ge.name):$e&&(Xe=_e.universalSkills.some(_=>_.name===ge.name)),(me||$e)&&Xe){const _=(pu[ge.rarity]||10)*5;Je.push({type:"compensation",id:`comp-${ge.id}-${Date.now()}`,name:`重复的${me?"角色":"技能"}`,rarity:ge.rarity,description:`转化为 ${_} 灵石`})}else Je.push(ge),me&&_e.cardCollection.push(ge),$e&&_e.universalSkills.push(ge)}return Je},J=async(ee,ue,W)=>{if(c.spiritStones<ee){z("灵石不足！"),setTimeout(()=>z(null),3e3);return}if(O)return;S(!0),z(null);const de=c.spiritStones;try{u({...c,spiritStones:de-ee});const Ae=await G(ue,W);g(Ae)}catch(Ae){console.error(Ae),z("天机紊乱，招募失败。灵石已退回。"),u({...c,spiritStones:de}),setTimeout(()=>z(null),4e3)}finally{S(!1)}},Q=()=>{if(!v)return;const ee=JSON.parse(JSON.stringify(c));v.forEach(ue=>{if(Wb(ue)){const W=ue.description.match(/\d+/);W&&(ee.spiritStones+=parseInt(W[0],10))}else if(Jb(ue)){if(!ee.cardCollection.some(W=>W.name===ue.name)){const W={...ue,id:`gen-char-${ue.name.replace(/\s/g,"")}-${Date.now()}`};ee.cardCollection.push(W)}}else if($b(ue)){const W={...ue,id:`gen-equip-${ue.name.replace(/\s/g,"")}-${Date.now()}-${Math.random()}`};ee.equipmentInventory.push(W)}else if(Kb(ue)&&!ee.universalSkills.some(W=>W.name===ue.name)){const W={...ue,id:`gen-skill-${ue.name.replace(/\s/g,"")}-${Date.now()}`};ee.universalSkills.push(W)}}),u(ee),g(null)},I=()=>{const ee=async()=>{const _e=prompt("请输入你的灵感来源（例如，一个角色名或一段描述）:");if(!_e)return;const me=500;if(c.spiritStones<me){z("灵石不足！"),setTimeout(()=>z(null),3e3);return}if(O)return;S(!0),z(null);const $e=c.spiritStones;try{u({...c,spiritStones:$e-me});const ge=await Xb(_e);g([ge])}catch(ge){console.error(ge),z("天机紊乱，召唤失败。灵石已退回。"),u({...c,spiritStones:$e}),setTimeout(()=>z(null),4e3)}finally{S(!1)}},de=b==="regular"?{人物卡牌:{title:"万象寻仙",description:"常驻卡池，可招募来自五湖四海的修士。",bannerUrl:"https://i.imgur.com/3sL0qXf.jpg",onPull:()=>J(100,1,"permanent")},装备:{title:"百炼阁",description:"常驻装备池，可获取各类法宝与防具。",bannerUrl:"https://i.imgur.com/2jM1aYk.jpg",onPull:()=>J(100,1,"permanent")},通用技能:{title:"万法楼",description:"常驻技能池，可习得各种通用功法。",bannerUrl:"https://i.imgur.com/dK8k9oN.jpg",onPull:()=>J(100,1,"permanent")}}[m]:{人物卡牌:{title:"异界降临",description:"消耗大量灵石，将你的“灵感”化为现实，召唤来自异界的强者。",bannerUrl:"https://i.imgur.com/s6A4b3g.jpg",onPull:ee},装备:{title:"神兵天成",description:"消耗大量灵石，根据你的“灵感”锻造出传说中的神兵利器。",bannerUrl:"https://i.imgur.com/Tq9g8xS.jpg",onPull:ee},通用技能:{title:"大道顿悟",description:"消耗大量灵石，从你的“灵感”中领悟出惊天动地的无上功法。",bannerUrl:"https://i.imgur.com/o2N5d1m.jpg",onPull:ee}}[m],Ae=b==="regular"?200:1e3,Je=b==="regular"?1800:9e3;return n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-center gap-3 mb-4",children:[n.jsx(gs,{label:"常规卡池",isActive:b==="regular",onClick:()=>E("regular")}),n.jsx(gs,{label:"同人卡池",isActive:b==="doujin",onClick:()=>E("doujin")})]}),n.jsx(Fb,{title:de.title,description:de.description,bannerUrl:de.bannerUrl,onPullOne:()=>b==="regular"?J(Ae,1,"permanent"):ee(),onPullTen:()=>b==="regular"?J(Je,10,"permanent"):alert("同人卡池暂不支持十连抽。"),isLoading:O,error:Y,pullOneCost:Ae,pullTenCost:Je,pullOneLabel:b==="doujin"?"注入灵感":"招募一次",pullTenLabel:b==="doujin"?" ":"招募十次"})]})};return n.jsxs("div",{className:"h-full flex flex-col font-serif text-gray-300",children:[n.jsxs("div",{className:"flex-shrink-0 px-4 flex space-x-2 border-b border-stone-700",children:[n.jsx(H0,{label:"抽取卡池",isActive:d==="抽取卡池",onClick:()=>o("抽取卡池")}),n.jsx(H0,{label:"道具购买",isActive:d==="道具购买",onClick:()=>o("道具购买")})]}),n.jsxs("div",{className:"flex-grow overflow-y-auto bg-black/20 p-4",children:[d==="抽取卡池"&&n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex justify-center gap-3",children:[n.jsx(gs,{label:"人物卡牌",isActive:m==="人物卡牌",onClick:()=>p("人物卡牌")}),n.jsx(gs,{label:"装备",isActive:m==="装备",onClick:()=>p("装备")}),n.jsx(gs,{label:"通用技能",isActive:m==="通用技能",onClick:()=>p("通用技能")})]}),I()]}),d==="道具购买"&&n.jsxs("div",{className:"p-6 text-center text-gray-500 font-serif flex flex-col items-center justify-center h-full",children:[n.jsx("div",{className:"text-4xl mb-4",children:"💰"}),n.jsx("p",{children:"此功能尚未开放。"}),n.jsx("p",{className:"mt-2",children:"未来的商店将在此处展示，可购买丹药、材料等。"})]})]}),v&&n.jsx(zb,{results:v,onClose:Q})]})},Pb=({activeModal:c,onClose:u,playerProfile:d,setPlayerProfile:o,leaderboards:m,onMatchFound:p})=>{const b=()=>{switch(c){case"队伍":return n.jsx(gb,{playerProfile:d,setPlayerProfile:o});case"商城":return n.jsx(Ib,{playerProfile:d,setPlayerProfile:o});case"背包":return n.jsx(Tb,{playerProfile:d,setPlayerProfile:o});case"竞技场":return n.jsx(Ab,{playerProfile:d,leaderboards:m,onMatchFound:p});case"任务":default:return n.jsxs("div",{className:"p-6 text-gray-300 font-serif flex flex-col items-center justify-center h-full",children:[n.jsx("div",{className:"text-4xl mb-4",children:"📜"}),n.jsxs("p",{children:["这里是 ",n.jsx("span",{className:"font-semibold text-amber-400",children:c})," 界面的占位内容。"]}),n.jsx("p",{className:"mt-4 text-center text-gray-400",children:"后续开发将在此处填充相关的游戏信息，例如背包列表、技能树、人物关系或当前任务日志等。"})]})}};return n.jsx("div",{className:"fixed inset-0 bg-black/70 z-50 flex items-center justify-center p-4 animate-fade-in",onClick:u,children:n.jsxs("div",{className:"ornate-border bg-stone-900/80 w-full max-w-6xl h-[90vh] rounded-xl shadow-2xl overflow-hidden backdrop-blur-lg flex flex-col",onClick:E=>E.stopPropagation(),children:[n.jsxs("div",{className:"flex justify-between items-center p-4 flex-shrink-0 bg-black/20",children:[n.jsx("h2",{className:"text-2xl font-bold text-amber-300 font-serif tracking-widest",children:c}),n.jsx("button",{onClick:u,className:"text-amber-300 hover:text-white transition-colors",children:n.jsx("i",{className:"fa-solid fa-times text-2xl"})})]}),n.jsx("div",{className:"flex-grow overflow-y-auto",children:b()})]})})},q0=({value:c,maxValue:u,color:d,label:o})=>{const m=u>0?c/u*100:0;return n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-center mb-1",children:[n.jsx("span",{className:"text-xs font-medium text-gray-300",children:o}),n.jsx("span",{className:"text-xs font-mono text-gray-400",children:`${Math.round(c)}/${Math.round(u)}`})]}),n.jsx("div",{className:"w-full bg-stone-600 rounded-full h-1.5",children:n.jsx("div",{className:`${d} h-1.5 rounded-full transition-all duration-500 ease-in-out`,style:{width:`${m}%`}})})]})},ep=({char:c})=>{const u=Il(c);return n.jsxs("div",{className:"bg-stone-700/50 p-3 rounded-lg backdrop-blur-sm",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("h3",{className:"font-bold text-white font-serif",children:c.name}),n.jsx("p",{className:"text-amber-400 text-sm",children:c.realm})]}),n.jsxs("div",{className:"space-y-2",children:[n.jsx(q0,{value:u.hp,maxValue:u.maxHp,color:"bg-red-500",label:"气血"}),n.jsx(q0,{value:u.mp,maxValue:u.maxMp,color:"bg-blue-500",label:"真元"})]})]})},tp=({playerProfile:c})=>{const u=c.maleParty.length>0?c.maleParty:c.femaleParty;return n.jsx(Xi,{title:`${c.name}的队伍`,children:n.jsx("div",{className:"space-y-3",children:u.length>0?u.map(d=>n.jsx(ep,{char:d},d.id)):n.jsx("p",{className:"text-center text-gray-400",children:"当前没有角色上阵"})})})},Xi=({title:c,children:u})=>n.jsxs("div",{className:"bg-black/20 p-4 rounded-lg border border-stone-700/50",children:[n.jsx("h3",{className:"font-semibold text-amber-400 mb-3 text-lg",children:c}),u]}),lp=({playerProfile:c,isOpen:u,onClose:d,hasPendingChallenge:o,onBattleClick:m,onRelationshipsClick:p,onReputationClick:b})=>n.jsxs(n.Fragment,{children:[n.jsx("div",{className:`fixed inset-0 bg-black/70 z-30 transition-opacity duration-300 ${u?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:d}),n.jsxs("div",{className:`fixed top-0 left-0 h-full w-full max-w-md bg-stone-900/90 backdrop-blur-lg border-r border-yellow-400/20 shadow-2xl z-40 transform transition-transform duration-300 ease-in-out ${u?"translate-x-0":"-translate-x-full"}`,children:[n.jsxs("div",{className:"p-4 flex justify-between items-center border-b border-yellow-400/20 bg-stone-900/50",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("h2",{className:"text-xl font-bold text-white font-serif",children:"个人信息"}),n.jsxs("button",{onClick:m,className:`relative px-4 py-1.5 text-sm font-semibold rounded-md transition-all duration-300 border ${o?"bg-red-800/80 border-red-500 text-white animate-pulse-fast shadow-[0_0_15px_rgba(239,68,68,0.6)]":"bg-stone-700/50 border-stone-600 text-gray-400 cursor-default"}`,children:["战况",o&&n.jsxs("span",{className:"absolute -top-1 -right-1 flex h-3 w-3",children:[n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-red-400 opacity-75"}),n.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-red-500"})]})]}),n.jsx("button",{onClick:b,className:"relative px-4 py-1.5 text-sm font-semibold rounded-md transition-all duration-300 border bg-stone-700/50 border-stone-600 text-gray-300 hover:bg-stone-600/80",children:"声望"})]}),n.jsx("button",{onClick:d,className:"text-gray-400 hover:text-white transition-colors",children:n.jsx("i",{className:"fa-solid fa-times text-2xl"})})]}),n.jsxs("div",{className:"p-4 overflow-y-auto h-[calc(100%-65px)] space-y-4 font-serif",children:[n.jsxs(Xi,{title:"当前身份",children:[n.jsxs("p",{children:[n.jsx("span",{className:"text-gray-400 w-16 inline-block",children:"名号："})," ",n.jsx("span",{className:"text-white font-bold",children:c.name})]}),n.jsxs("p",{children:[n.jsx("span",{className:"text-gray-400 w-16 inline-block",children:"称号："})," ",n.jsx("span",{className:"text-white",children:c.title||"无"})]})]}),n.jsx(Xi,{title:"经济状况",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("i",{className:"fa-solid fa-gem text-yellow-400 text-xl"}),n.jsx("span",{className:"text-white font-bold text-lg",children:c.spiritStones}),n.jsx("span",{className:"text-gray-300",children:"灵石"})]})}),n.jsx(Xi,{title:"人际关系",children:n.jsx("button",{onClick:p,className:"w-full text-left hover:bg-stone-800/50 p-2 -m-2 rounded-md transition-colors",children:c.relationships&&c.relationships.length>0?n.jsxs("div",{children:[n.jsxs("p",{className:"text-gray-300",children:["已结识 ",n.jsx("span",{className:"font-bold text-white",children:c.relationships.length})," 位道友。"]}),n.jsx("p",{className:"text-xs text-amber-400 mt-1",children:"点击查看详情"})]}):n.jsxs("div",{children:[n.jsx("p",{className:"text-gray-500 italic",children:"江湖路远，尚未结识重要人物。"}),n.jsx("p",{className:"text-xs text-amber-400 mt-1",children:"点击查看详情"})]})})}),n.jsx(tp,{playerProfile:c})]})]})]}),Qi=({value:c,rolling:u})=>{const[d,o]=k.useState(1);return k.useEffect(()=>{if(u){const m=setInterval(()=>{o(Math.floor(Math.random()*6)+1)},50);return()=>clearInterval(m)}else c!==null&&o(c)},[u,c]),n.jsx("div",{className:"w-20 h-20 bg-white border-2 border-gray-300 rounded-lg flex items-center justify-center text-4xl font-bold text-stone-800 shadow-lg",children:d})},ap=({playerProfile:c,opponentName:u,onBattleStart:d,onClose:o})=>{const[m,p]=k.useState("roll"),[b,E]=k.useState(null),[v,g]=k.useState(!1),[O,S]=k.useState(null),[Y,z]=k.useState(null),[N,A]=k.useState("通过拼点决定先手！"),U=()=>{g(!0),setTimeout(()=>{let Q,I;do Q=Math.floor(Math.random()*6)+1,I=Math.floor(Math.random()*6)+1;while(Q===I);const ee=Q>I?"player":"opponent";E({playerRoll:Q,opponentRoll:I,winner:ee}),g(!1),p("select"),A(ee==="player"?"你赢得了先手！请选择你的出战队伍。":"对手赢得了先手，正在选择队伍...")},1500)},G=Q=>{(b==null?void 0:b.winner)==="player"&&!O&&S(Q)};k.useEffect(()=>{if(!(m!=="select"||!b)){if(O&&Y){const Q=setTimeout(()=>{p("result"),A("队伍确定，准备开战！")},1e3);return()=>clearTimeout(Q)}if(!O||!Y)if(b.winner==="player"){if(O&&!Y){const Q=O==="Male"?"Female":"Male";A(`你已选择，对手将使用 ${Q==="Male"?"男性":"女性"} 队伍。`);const I=setTimeout(()=>z(Q),500);return()=>clearTimeout(I)}}else if(Y){if(Y&&!O){const Q=Y==="Male"?"Female":"Male",I=setTimeout(()=>{S(Q),A(`你将使用 ${Q==="Male"?"男性":"女性"} 队伍。`)},500);return()=>clearTimeout(I)}}else{const Q=setTimeout(()=>{const I=Math.random()>.5?"Male":"Female";z(I),A(`对手选择了 ${I==="Male"?"男性":"女性"} 队伍。`)},1500);return()=>clearTimeout(Q)}}},[m,b,O,Y]);const J=()=>{if(m==="roll")return n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"flex justify-around items-center my-8",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-white mb-2",children:c.name}),n.jsx(Qi,{value:null,rolling:v})]}),n.jsx("p",{className:"text-4xl font-serif text-amber-400",children:"VS"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-white mb-2",children:u}),n.jsx(Qi,{value:null,rolling:v})]})]}),n.jsx("button",{onClick:U,disabled:v,className:"bg-amber-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-amber-500 transition-colors disabled:opacity-50",children:v?"投掷中...":"拼点"})]});if(m==="select"||m==="result"){const Q=c.maleParty.length>0,I=c.femaleParty.length>0;return n.jsxs("div",{className:"text-center",children:[n.jsxs("div",{className:"flex justify-around items-center my-4",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-white mb-2",children:c.name}),n.jsx(Qi,{value:(b==null?void 0:b.playerRoll)||1,rolling:!1})]}),n.jsx("p",{className:`text-2xl font-serif ${(b==null?void 0:b.winner)==="player"?"text-green-400":"text-gray-400"}`,children:(b==null?void 0:b.winner)==="player"?"胜利":"败北"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-white mb-2",children:u}),n.jsx(Qi,{value:(b==null?void 0:b.opponentRoll)||1,rolling:!1})]})]}),n.jsxs("div",{className:"my-6 grid grid-cols-2 gap-4 text-center",children:[n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-sky-400",children:"你的队伍"}),n.jsx("p",{className:"mt-2 text-lg font-bold text-white h-8 animate-fade-in",children:O?O==="Male"?"男性编队":"女性编队":"..."})]}),n.jsxs("div",{children:[n.jsx("p",{className:"font-semibold text-red-400",children:"对手队伍"}),n.jsx("p",{className:"mt-2 text-lg font-bold text-white h-8 animate-fade-in",children:Y?Y==="Male"?"男性编队":"女性编队":"..."})]})]}),(b==null?void 0:b.winner)==="player"&&!O&&n.jsxs("div",{className:"mt-4 flex justify-center gap-4 animate-fade-in",children:[n.jsx("button",{onClick:()=>G("Male"),disabled:!Q,className:"bg-sky-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-sky-500 disabled:bg-gray-500 disabled:cursor-not-allowed",children:"男性编队"}),n.jsx("button",{onClick:()=>G("Female"),disabled:!I,className:"bg-pink-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-pink-500 disabled:bg-gray-500 disabled:cursor-not-allowed",children:"女性编队"})]}),m==="result"&&O&&Y&&n.jsx("div",{className:"mt-8 animate-fade-in",children:n.jsx("button",{onClick:()=>d(O,Y),className:"bg-red-600 text-white font-bold py-3 px-8 rounded-lg hover:bg-red-500 transition-colors shadow-lg animate-pulse-fast",children:"进入战斗"})})]})}};return n.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 animate-fade-in",children:n.jsxs("div",{className:"ornate-border bg-stone-800/90 backdrop-blur-lg w-full max-w-lg shadow-2xl flex flex-col",children:[n.jsx("div",{className:"p-4 text-center bg-black/20",children:n.jsx("h2",{className:"text-xl font-bold text-amber-300 font-serif",children:"战前准备"})}),n.jsxs("div",{className:"p-6 font-serif",children:[n.jsx("p",{className:"text-center text-amber-300 mb-6 h-6",children:N}),J()]})]})})},np=({isOpen:c,onClose:u,quests:d})=>{const[o,m]=k.useState("Main"),[p,b]=k.useState(null);if(!c)return null;const E=d.filter(S=>o==="Completed"?S.status==="Completed":S.category===o&&S.status!=="Completed"),v=({quest:S})=>n.jsxs("li",{onClick:()=>b(S),className:`p-3 cursor-pointer rounded-md transition-colors ${(p==null?void 0:p.id)===S.id?"bg-amber-500/20":"hover:bg-stone-700/50"}`,children:[n.jsx("h4",{className:"font-semibold text-white",children:S.title}),n.jsx("p",{className:"text-xs text-gray-400",children:S.status})]},S.id),g=({quest:S})=>{var Y;return S?n.jsxs("div",{className:"flex-1 p-6 bg-black/20 rounded-lg overflow-y-auto",children:[n.jsx("h3",{className:"text-2xl font-bold text-amber-300 font-serif mb-4",children:S.title}),n.jsxs("p",{className:"text-gray-300 mb-6 italic",children:['"',S.description,'"']}),n.jsx("h4",{className:"font-bold text-white mb-3",children:"任务目标"}),n.jsx("ul",{className:"space-y-2 mb-6",children:S.objectives.map(z=>n.jsxs("li",{className:"flex items-center",children:[n.jsx("i",{className:`fa-solid ${z.isCompleted?"fa-check-square text-green-500":"fa-square text-gray-500"} mr-3`}),n.jsxs("span",{className:`${z.isCompleted?"line-through text-gray-500":"text-gray-300"}`,children:[z.description," ",z.targetCount?`(${z.currentCount}/${z.targetCount})`:""]})]},z.id))}),n.jsx("h4",{className:"font-bold text-white mb-3",children:"任务奖励"}),n.jsxs("div",{className:"text-gray-300",children:[S.rewards.spiritStones&&n.jsxs("p",{children:["灵石 x ",S.rewards.spiritStones]}),S.rewards.reputation&&n.jsxs("p",{children:["声望 +",S.rewards.reputation]}),(Y=S.rewards.items)==null?void 0:Y.map((z,N)=>n.jsxs("p",{children:["物品: ",z.name]},N))]})]}):n.jsx("div",{className:"flex-1 flex items-center justify-center text-gray-500",children:n.jsx("p",{children:"从左侧选择一个任务以查看详情"})})},O=({tab:S,label:Y})=>n.jsx("button",{onClick:()=>m(S),className:`px-4 py-2 text-sm font-semibold rounded-t-lg transition-colors duration-200 ${o===S?"bg-stone-700/80 text-amber-400 border-b-2 border-amber-400":"bg-transparent text-gray-400 hover:bg-stone-700/50"}`,children:Y});return n.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 animate-fade-in",onClick:u,children:n.jsxs("div",{className:"ornate-border bg-stone-900 w-full max-w-5xl h-[80vh] rounded-xl shadow-2xl overflow-hidden backdrop-blur-lg flex flex-col",onClick:S=>S.stopPropagation(),children:[n.jsxs("div",{className:"flex justify-between items-center p-4 flex-shrink-0 bg-black/20",children:[n.jsx("h2",{className:"text-2xl font-bold text-amber-300 font-serif",children:"任务日志"}),n.jsx("button",{onClick:u,className:"text-amber-300 hover:text-white transition-colors",children:n.jsx("i",{className:"fa-solid fa-times text-2xl"})})]}),n.jsxs("div",{className:"flex-shrink-0 px-4 flex space-x-2 border-b border-stone-700",children:[n.jsx(O,{tab:"Main",label:"主线任务"}),n.jsx(O,{tab:"Side",label:"支线任务"}),n.jsx(O,{tab:"Sect",label:"宗门任务"}),n.jsx(O,{tab:"Completed",label:"已完成"})]}),n.jsxs("div",{className:"flex-grow flex p-6 space-x-6 overflow-hidden",children:[n.jsx("div",{className:"w-1/3 flex-shrink-0 bg-black/20 rounded-lg p-4 overflow-y-auto",children:n.jsx("ul",{className:"space-y-2",children:E.length>0?E.map(S=>n.jsx(v,{quest:S},S.id)):n.jsx("p",{className:"text-center text-gray-500 mt-4",children:"此分类下暂无任务。"})})}),n.jsx(g,{quest:p})]})]})})},sp=({event:c,onChoice:u,resultText:d})=>n.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 animate-fade-in",children:n.jsxs("div",{className:"ornate-border bg-stone-800/90 backdrop-blur-lg w-full max-w-lg shadow-2xl flex flex-col",children:[n.jsx("div",{className:"p-4 text-center bg-black/20",children:n.jsx("h2",{className:"text-xl font-bold text-amber-300 font-serif",children:c.title})}),n.jsx("div",{className:"p-6 font-serif min-h-[15rem] flex flex-col justify-center",children:d?n.jsx("div",{className:"text-center animate-fade-in",children:n.jsx("p",{className:"text-amber-300 text-lg leading-relaxed",children:d})}):n.jsxs(n.Fragment,{children:[n.jsx("p",{className:"text-gray-300 whitespace-pre-wrap mb-6 text-center leading-relaxed",children:c.story}),n.jsx("div",{className:"flex flex-col sm:flex-row justify-center items-center gap-4",children:c.choices.map((o,m)=>n.jsx("button",{onClick:()=>u(o),className:"w-full sm:w-auto bg-stone-700/80 px-5 py-3 rounded-md hover:bg-stone-600/80 hover:border-amber-400/50 border border-transparent transition-all duration-200 font-serif shadow-md",children:o.text},m))})]})})]})}),ip=({isOpen:c,onClose:u,reputation:d,isLoading:o})=>{if(!c)return null;const m=p=>{switch(p){case"名垂青史":return"text-yellow-300 animate-glow";case"威震一方":return"text-red-400";case"声名远扬":return"text-sky-400";case"小有名气":return"text-green-400";default:return"text-gray-400"}};return n.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 animate-fade-in",onClick:u,children:n.jsxs("div",{className:"ornate-border bg-stone-900 w-full max-w-2xl h-auto max-h-[80vh] rounded-xl shadow-2xl overflow-hidden backdrop-blur-lg flex flex-col",onClick:p=>p.stopPropagation(),children:[n.jsxs("div",{className:"flex justify-between items-center p-4 flex-shrink-0 bg-black/20",children:[n.jsx("h2",{className:"text-2xl font-bold text-amber-300 font-serif",children:"声望"}),n.jsx("button",{onClick:u,className:"text-amber-300 hover:text-white transition-colors",children:n.jsx("i",{className:"fa-solid fa-times text-2xl"})})]}),n.jsx("div",{className:"flex-grow overflow-y-auto p-6 space-y-6",children:o?n.jsx("div",{className:"text-center text-amber-300 animate-glow p-8",children:"正在获取天机阁的最新情报..."}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"text-center",children:[n.jsx("h3",{className:`text-4xl font-bold font-serif ${m(d.level)}`,children:d.level}),n.jsxs("p",{className:"text-lg text-gray-400 font-mono",children:[d.score," 声望"]})]}),n.jsxs("div",{className:"bg-black/20 p-4 rounded-lg border border-stone-700/50",children:[n.jsx("h4",{className:"font-semibold text-amber-400 mb-3 text-lg",children:"江湖称号"}),d.title?n.jsx("div",{className:"flex flex-wrap gap-2",children:n.jsx("span",{className:"px-3 py-1 bg-rose-800/50 text-rose-300 rounded-full border border-rose-700",children:d.title})}):n.jsx("p",{className:"text-gray-500 italic",children:"尚未获得任何称号。"})]}),n.jsxs("div",{className:"bg-black/20 p-4 rounded-lg border border-stone-700/50",children:[n.jsx("h4",{className:"font-semibold text-green-400 mb-3 text-lg",children:"侠义之举"}),d.goodDeeds&&d.goodDeeds.length>0?n.jsx("ul",{className:"space-y-2 list-disc list-inside text-gray-300",children:d.goodDeeds.map((p,b)=>n.jsx("li",{children:p},b))}):n.jsx("p",{className:"text-gray-500 italic",children:"尚未有侠义之举流传。"})]}),n.jsxs("div",{className:"bg-black/20 p-4 rounded-lg border border-stone-700/50",children:[n.jsx("h4",{className:"font-semibold text-red-400 mb-3 text-lg",children:"恶行昭彰"}),d.badDeeds&&d.badDeeds.length>0?n.jsx("ul",{className:"space-y-2 list-disc list-inside text-gray-300",children:d.badDeeds.map((p,b)=>n.jsx("li",{children:p},b))}):n.jsx("p",{className:"text-gray-500 italic",children:"你似乎还未犯下什么大错。"})]}),n.jsxs("div",{className:"bg-black/20 p-4 rounded-lg border border-stone-700/50",children:[n.jsx("h4",{className:"font-semibold text-pink-400 mb-3 text-lg",children:"风流韵事"}),d.lewdDeeds&&d.lewdDeeds.length>0?n.jsx("ul",{className:"space-y-2 list-disc list-inside text-gray-300",children:d.lewdDeeds.map((p,b)=>n.jsx("li",{children:p},b))}):n.jsx("p",{className:"text-gray-500 italic",children:"江湖上还没有关于你的风流传说。"})]})]})})]})})},cp=({isOpen:c,onClose:u,onSave:d,onLoad:o,onExport:m,onImport:p,getSaves:b})=>{const[E,v]=k.useState({}),[g,O]=k.useState("save"),S=Zi.useRef(null),Y=N=>{var G;const A=(G=N.target.files)==null?void 0:G[0];if(!A)return;const U=new FileReader;U.onload=J=>{var Q;try{const I=(Q=J.target)==null?void 0:Q.result;if(typeof I!="string")throw new Error("File is not a valid text file.");const ee=JSON.parse(I);ee.name&&ee.timestamp&&ee.gameState?p(ee):alert("无效的存档文件格式。")}catch(I){console.error("导入存档失败:",I),alert("导入失败，文件可能已损坏或格式不正确。")}},U.readAsText(A),S.current&&(S.current.value="")};if(k.useEffect(()=>{c&&(async()=>{const A=await b();v(A)})()},[c,b]),!c)return null;const z=N=>{const A=E[N],G=g==="save"?()=>{const I=prompt("请输入存档名称：",(A==null?void 0:A.name)||`存档 ${N}`);I&&d(N,I)}:()=>o(N),J=g==="save"?"存档":"读档",Q=g==="save"?"bg-blue-600 hover:bg-blue-500":"bg-green-600 hover:bg-green-500";return n.jsxs("div",{className:"bg-stone-800/50 p-4 rounded-lg flex justify-between items-center border border-stone-700/50",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-white",children:A?A.name:`存档位 ${N}`}),A?n.jsx("p",{className:"text-xs text-gray-400 mt-1",children:new Date(A.timestamp).toLocaleString()}):n.jsx("p",{className:"text-xs text-gray-500 mt-1 italic",children:"空存档"})]}),n.jsxs("div",{className:"flex space-x-2",children:[n.jsx("button",{onClick:()=>m(N),className:"px-4 py-2 rounded-md font-semibold text-white bg-gray-600 hover:bg-gray-500 transition-colors",disabled:!A,children:"导出"}),n.jsx("button",{onClick:G,className:`px-6 py-2 rounded-md font-semibold text-white transition-colors ${Q}`,disabled:g==="load"&&!A,children:J})]})]},N)};return n.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 animate-fade-in",onClick:u,children:n.jsxs("div",{className:"ornate-border bg-stone-900 w-full max-w-2xl h-auto max-h-[80vh] rounded-xl shadow-2xl overflow-hidden backdrop-blur-lg flex flex-col",onClick:N=>N.stopPropagation(),children:[n.jsxs("div",{className:"flex justify-between items-center p-4 flex-shrink-0 bg-black/20",children:[n.jsx("h2",{className:"text-2xl font-bold text-amber-300 font-serif",children:"系统菜单"}),n.jsx("button",{onClick:u,className:"text-amber-300 hover:text-white transition-colors",children:n.jsx("i",{className:"fa-solid fa-times text-2xl"})})]}),n.jsxs("div",{className:"flex-shrink-0 px-4 flex space-x-2 border-b border-stone-700",children:[n.jsx("button",{onClick:()=>O("save"),className:`px-4 py-2 text-sm font-semibold rounded-t-lg transition-colors duration-200 ${g==="save"?"bg-stone-700/80 text-amber-400 border-b-2 border-amber-400":"bg-transparent text-gray-400 hover:bg-stone-700/50"}`,children:"存档"}),n.jsx("button",{onClick:()=>O("load"),className:`px-4 py-2 text-sm font-semibold rounded-t-lg transition-colors duration-200 ${g==="load"?"bg-stone-700/80 text-amber-400 border-b-2 border-amber-400":"bg-transparent text-gray-400 hover:bg-stone-700/50"}`,children:"读档"})]}),n.jsx("div",{className:"flex-grow overflow-y-auto p-6 space-y-4",children:[1,2,3,4,5].map(N=>z(N))}),n.jsxs("div",{className:"p-4 bg-black/20 border-t border-stone-700",children:[n.jsx("input",{type:"file",ref:S,onChange:Y,className:"hidden",accept:"application/json"}),n.jsx("button",{onClick:()=>{var N;return(N=S.current)==null?void 0:N.click()},className:"w-full px-6 py-3 rounded-md font-semibold text-white bg-purple-600 hover:bg-purple-500 transition-colors",children:"导入存档"})]})]})})},rp=({isOpen:c,onClose:u,shop:d,cardCollection:o})=>{const[m,p]=k.useState(null),[b,E]=k.useState(""),[v,g]=k.useState(!1);if(!c)return null;const O=async(S,Y)=>{p(S),g(!0),E("");try{const z=await Vb(S,Y);E(z)}catch(z){console.error("Failed to generate surveillance report:",z),E("监视水晶似乎被一股神秘的力量干扰了...")}finally{g(!1)}};return n.jsx("div",{className:"fixed inset-0 bg-black/80 z-[60] flex items-center justify-center p-4 animate-fade-in",onClick:u,children:n.jsxs("div",{className:"ornate-border bg-stone-900 w-full max-w-3xl h-[70vh] rounded-xl shadow-2xl overflow-hidden backdrop-blur-lg flex flex-col",onClick:S=>S.stopPropagation(),children:[n.jsxs("div",{className:"flex justify-between items-center p-4 flex-shrink-0 bg-black/20",children:[n.jsxs("h2",{className:"text-2xl font-bold text-amber-300 font-serif",children:["监视 ",d.type]}),n.jsx("button",{onClick:u,className:"text-amber-300 hover:text-white transition-colors",children:n.jsx("i",{className:"fa-solid fa-times text-2xl"})})]}),n.jsxs("div",{className:"flex-grow p-6 flex gap-6 overflow-hidden",children:[n.jsx("div",{className:"w-1/3 flex-shrink-0 space-y-3 overflow-y-auto",children:Object.entries(Au).filter(([,S])=>S.shop===d.type).map(([S,Y])=>{const z=d.staff.find(A=>A.positionId===S),N=z?o.find(A=>A.id===z.characterId):null;return n.jsxs("div",{children:[n.jsx("h4",{className:"text-amber-400 font-semibold mb-1",children:Y.name}),N?n.jsx("button",{onClick:()=>O(N,Y.name),className:`w-full text-left p-2 rounded-md transition-colors ${(m==null?void 0:m.id)===N.id?"bg-amber-600/50":"bg-stone-800/70 hover:bg-stone-700/90"}`,children:N.name}):n.jsx("div",{className:"p-2 text-gray-500 italic text-sm",children:"空缺"})]},S)})}),n.jsx("div",{className:"w-2/3 bg-black/30 rounded-lg p-4 overflow-y-auto border border-stone-700",children:v?n.jsx("div",{className:"text-center text-amber-300 animate-pulse",children:"正在通过水晶窥探..."}):b?n.jsx("p",{className:"text-gray-300 whitespace-pre-wrap font-serif leading-relaxed",children:b}):n.jsx("div",{className:"text-center text-gray-500 h-full flex items-center justify-center",children:n.jsx("p",{children:"选择一名员工进行监视。"})})})]})]})})},up=({isOpen:c,onClose:u,playerProfile:d})=>{const[o,m]=k.useState([]),[p,b]=k.useState(null),[E,v]=k.useState([]),[g,O]=k.useState(""),[S,Y]=k.useState(!1);if(k.useEffect(()=>{if(c){const N=d.relationships.filter(A=>A.relationshipStatus==="熟人");m(N),N.length>0?b(N[0]):b(null),v([]),O("")}},[c,d.relationships]),!c)return null;const z=async()=>{if(g.trim()&&!S&&p){const N={sender:"user",text:g},A=[...E,N];v(A),O(""),Y(!0);const U=`你正在扮演角色 ${p.name}。请以 ${p.name} 的身份和口吻，简洁地回复玩家。你的回复应该符合仙侠世界的背景和你的角色设定。`,J=`
对话历史:
${A.slice(-5).map(Q=>`${Q.sender==="user"?d.name:p.name}: ${Q.text}`).join(`
`)}

玩家 (${d.name}) 的最新消息:
"${g}"

现在，请以 ${p.name} 的身份回复。
`;try{const Q=await window.TavernHelper.generateRaw({ordered_prompts:[{role:"system",content:U},{role:"user",content:J}]});v(I=>[...I,{sender:"ai",text:Q}])}catch(Q){console.error("传音失败:",Q),v(I=>[...I,{sender:"ai",text:"...信号中断..."}])}finally{Y(!1)}}};return n.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 animate-fade-in",onClick:u,children:n.jsxs("div",{className:"ornate-border-dialog bg-stone-900/90 backdrop-blur-lg w-full max-w-4xl h-[80vh] rounded-xl shadow-2xl flex",onClick:N=>N.stopPropagation(),children:[n.jsxs("div",{className:"w-1/3 border-r-2 border-amber-500/10 flex flex-col bg-black/20",children:[n.jsx("h3",{className:"text-xl font-bold text-amber-200 p-4 border-b-2 border-amber-500/10 text-center font-serif tracking-widest",children:"传音玉简"}),n.jsx("ul",{className:"flex-grow overflow-y-auto scrollbar-thin scrollbar-thumb-amber-700/50 scrollbar-track-transparent",children:o.length>0?o.map(N=>n.jsxs("li",{className:`p-4 flex items-center cursor-pointer hover:bg-amber-500/10 transition-colors duration-200 border-b border-amber-500/5 ${(p==null?void 0:p.id)===N.id?"bg-amber-500/20":""}`,onClick:()=>b(N),children:[n.jsx("i",{className:"fa-solid fa-user-circle text-2xl mr-4 text-amber-300/70"}),n.jsx("span",{className:"text-lg text-gray-200 font-serif",children:N.name})]},N.id)):n.jsx("li",{className:"p-4 text-center text-gray-500",children:"暂无熟人"})})]}),n.jsx("div",{className:"w-2/3 flex flex-col bg-stone-800/30",children:p?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"p-4 border-b-2 border-amber-500/10 flex justify-between items-center bg-black/20",children:[n.jsx("h3",{className:"text-xl font-bold text-amber-200 font-serif tracking-wider",children:p.name}),n.jsx("button",{onClick:u,className:"text-amber-300 hover:text-white transition-colors",children:n.jsx("i",{className:"fa-solid fa-times text-xl"})})]}),n.jsx("div",{className:"flex-grow p-4 overflow-y-auto space-y-4 scrollbar-thin scrollbar-thumb-amber-700/50 scrollbar-track-transparent",children:E.map((N,A)=>n.jsxs("div",{className:`flex items-start gap-3 animate-fade-in-up ${N.sender==="user"?"justify-end":"justify-start"}`,children:[N.sender==="ai"&&n.jsx("i",{className:"fa-solid fa-user-circle text-2xl text-amber-300/70 mt-1"}),n.jsx("div",{className:`max-w-xs lg:max-w-md p-3 rounded-lg font-serif shadow-md ${N.sender==="user"?"bg-blue-900/60 text-white rounded-br-none":"bg-stone-700/60 text-gray-200 rounded-bl-none"}`,children:N.text}),N.sender==="user"&&n.jsx("i",{className:"fa-solid fa-user-circle text-2xl text-blue-300/70 mt-1"})]},A))}),n.jsx("div",{className:"p-4 border-t-2 border-amber-500/10 bg-black/20",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("input",{type:"text",value:g,onChange:N=>O(N.target.value),onKeyPress:N=>N.key==="Enter"&&z(),className:"w-full bg-stone-800/80 border border-amber-500/30 rounded-l-md p-3 text-gray-200 focus:outline-none focus:ring-1 focus:ring-amber-400 font-serif",placeholder:S?"对方正在输入...":"输入传音内容...",disabled:S}),n.jsx("button",{onClick:z,disabled:S||!g.trim(),className:"bg-amber-600 text-white px-5 py-3 rounded-r-md hover:bg-amber-500 transition-colors font-semibold disabled:bg-stone-600 disabled:cursor-not-allowed flex items-center justify-center w-20",children:S?n.jsx("i",{className:"fas fa-spinner fa-pulse"}):n.jsx("i",{className:"fa-solid fa-paper-plane"})})]})})]}):n.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-500",children:[n.jsx("i",{className:"fa-solid fa-comments text-4xl mb-4"}),n.jsx("p",{children:"请先从左侧选择一位熟人开始传音"})]})})]})})},op=({playerProfile:c,location:u,onProfileClick:d})=>n.jsxs("header",{className:"absolute top-0 left-0 right-0 h-16 bg-gradient-to-b from-black/80 to-transparent p-3 flex justify-between items-center z-20 font-serif text-sm pointer-events-none",children:[n.jsx("div",{className:"flex items-center gap-4 pointer-events-auto",children:n.jsxs("button",{onClick:d,className:"flex items-center gap-3 bg-black/50 p-2 pr-4 rounded-full border border-yellow-400/20 hover:bg-black/70 transition-colors shadow-lg",children:[n.jsx("div",{className:"w-8 h-8 rounded-full bg-slate-700 flex items-center justify-center text-yellow-400 border border-yellow-400/30",children:n.jsx("i",{className:"fa-solid fa-user"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"font-semibold text-white",children:c.name}),n.jsx("p",{className:"text-xs text-yellow-300",children:c.title})]})]})}),n.jsx("div",{className:"text-center bg-black/50 px-6 py-2 rounded-full border border-yellow-400/20 shadow-lg",children:n.jsx("p",{className:"text-white font-semibold",children:u})}),n.jsxs("div",{className:"flex items-center gap-3 bg-black/50 p-2 pl-4 rounded-full border border-yellow-400/20 shadow-lg pointer-events-auto",children:[n.jsx("i",{className:"fa-solid fa-gem text-yellow-400 text-lg"}),n.jsx("span",{className:"text-white font-bold text-lg",children:c.spiritStones})]})]}),dp=(c,u)=>c.quests.some(o=>o.id===u.id)?c:{...c,quests:[...c.quests,u]},fp=(c,u,d,o)=>({...c,quests:c.quests.map(m=>{if(m.id===u){const p=m.objectives.map(b=>{if(b.id===d){const E=b.targetCount?o>=b.targetCount:!0;return{...b,currentCount:o,isCompleted:E}}return b});return{...m,objectives:p}}return m})}),gu=(c,u)=>u.some(d=>c instanceof d);let L0,Y0;function mp(){return L0||(L0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xp(){return Y0||(Y0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const yu=new WeakMap,hu=new WeakMap,Ki=new WeakMap;function hp(c){const u=new Promise((d,o)=>{const m=()=>{c.removeEventListener("success",p),c.removeEventListener("error",b)},p=()=>{d(Sa(c.result)),m()},b=()=>{o(c.error),m()};c.addEventListener("success",p),c.addEventListener("error",b)});return Ki.set(u,c),u}function bp(c){if(yu.has(c))return;const u=new Promise((d,o)=>{const m=()=>{c.removeEventListener("complete",p),c.removeEventListener("error",b),c.removeEventListener("abort",b)},p=()=>{d(),m()},b=()=>{o(c.error||new DOMException("AbortError","AbortError")),m()};c.addEventListener("complete",p),c.addEventListener("error",b),c.addEventListener("abort",b)});yu.set(c,u)}let vu={get(c,u,d){if(c instanceof IDBTransaction){if(u==="done")return yu.get(c);if(u==="store")return d.objectStoreNames[1]?void 0:d.objectStore(d.objectStoreNames[0])}return Sa(c[u])},set(c,u,d){return c[u]=d,!0},has(c,u){return c instanceof IDBTransaction&&(u==="done"||u==="store")?!0:u in c}};function P0(c){vu=c(vu)}function pp(c){return xp().includes(c)?function(...u){return c.apply(ju(this),u),Sa(this.request)}:function(...u){return Sa(c.apply(ju(this),u))}}function gp(c){return typeof c=="function"?pp(c):(c instanceof IDBTransaction&&bp(c),gu(c,mp())?new Proxy(c,vu):c)}function Sa(c){if(c instanceof IDBRequest)return hp(c);if(hu.has(c))return hu.get(c);const u=gp(c);return u!==c&&(hu.set(c,u),Ki.set(u,c)),u}const ju=c=>Ki.get(c);function yp(c,u,{blocked:d,upgrade:o,blocking:m,terminated:p}={}){const b=indexedDB.open(c,u),E=Sa(b);return o&&b.addEventListener("upgradeneeded",v=>{o(Sa(b.result),v.oldVersion,v.newVersion,Sa(b.transaction),v)}),d&&b.addEventListener("blocked",v=>d(v.oldVersion,v.newVersion,v)),E.then(v=>{p&&v.addEventListener("close",()=>p()),m&&v.addEventListener("versionchange",g=>m(g.oldVersion,g.newVersion,g))}).catch(()=>{}),E}const vp=["get","getKey","getAll","getAllKeys","count"],jp=["put","add","delete","clear"],bu=new Map;function G0(c,u){if(!(c instanceof IDBDatabase&&!(u in c)&&typeof u=="string"))return;if(bu.get(u))return bu.get(u);const d=u.replace(/FromIndex$/,""),o=u!==d,m=jp.includes(d);if(!(d in(o?IDBIndex:IDBObjectStore).prototype)||!(m||vp.includes(d)))return;const p=async function(b,...E){const v=this.transaction(b,m?"readwrite":"readonly");let g=v.store;return o&&(g=g.index(E.shift())),(await Promise.all([g[d](...E),m&&v.done]))[0]};return bu.set(u,p),p}P0(c=>({...c,get:(u,d,o)=>G0(u,d)||c.get(u,d,o),has:(u,d)=>!!G0(u,d)||c.has(u,d)}));const Np=["continue","continuePrimaryKey","advance"],Q0={},Nu=new WeakMap,em=new WeakMap,Sp={get(c,u){if(!Np.includes(u))return c[u];let d=Q0[u];return d||(d=Q0[u]=function(...o){Nu.set(this,em.get(this)[u](...o))}),d}};async function*wp(...c){let u=this;if(u instanceof IDBCursor||(u=await u.openCursor(...c)),!u)return;u=u;const d=new Proxy(u,Sp);for(em.set(d,u),Ki.set(d,ju(u));u;)yield d,u=await(Nu.get(d)||u.continue()),Nu.delete(d)}function X0(c,u){return u===Symbol.asyncIterator&&gu(c,[IDBIndex,IDBObjectStore,IDBCursor])||u==="iterate"&&gu(c,[IDBIndex,IDBObjectStore])}P0(c=>({...c,get(u,d,o){return X0(u,d)?wp:c.get(u,d,o)},has(u,d){return X0(u,d)||c.has(u,d)}}));const Cp={},tm=c=>{let u=c.version||0;if(u===hn)return c;console.log(`Migrating save data from version ${u} to ${hn}...`);let d={...c};for(let o=u+1;o<=hn;o++){const m=Cp[o];m&&(d=m(d),console.log(`- Applied migration for version ${o}`))}return d.version=hn,console.log("Migration complete."),d};class Tp{async saveToSlot(u,d){const o={...d.gameState,version:hn};return Db(o,u)}async loadFromSlot(u){const d=Rb(u);return d?Promise.resolve(tm(d)):null}async getAllSaves(){const u=kb(),d={};for(const o in u){const m=u[o];m&&(d[o]={name:`存档 ${o}`,timestamp:Date.now(),gameState:m})}return Promise.resolve(d)}}class Mp{constructor(){this.dbPromise=yp("xianxia-card-rpg-db",1,{upgrade(u){u.objectStoreNames.contains("autosave")&&u.deleteObjectStore("autosave"),u.objectStoreNames.contains("manual_saves")||u.createObjectStore("manual_saves")}})}async saveToSlot(u,d){const o=await this.dbPromise,m={...d,gameState:{...d.gameState,version:hn}};await o.put("manual_saves",m,u)}async loadFromSlot(u){const o=await(await this.dbPromise).get("manual_saves",u);return o?tm(o.gameState):null}async getAllSaves(){const u=await this.dbPromise,d=await u.getAll("manual_saves"),o={},m=await u.getAllKeys("manual_saves");for(let p=0;p<m.length;p++)o[m[p]]=d[p];return o}}const Ap=()=>window.TavernHelper?(console.log("Storage Service: Using TavernHelper adapter."),new Tp):(console.log("Storage Service: Using IndexedDB adapter."),new Mp),ys=Ap(),Ep=({favorability:c})=>{const u=(c+100)/200*100,d=c>50?"bg-green-500":c>-50?"bg-yellow-500":"bg-red-500";return n.jsx("div",{className:"w-full bg-stone-700 rounded-full h-2.5",children:n.jsx("div",{className:`${d} h-2.5 rounded-full`,style:{width:`${u}%`}})})},Op=({isOpen:c,onClose:u,playerProfile:d})=>{const[o,m]=k.useState("熟人");if(!c)return null;const p=d.relationships.filter(b=>b.relationshipStatus===o);return n.jsx("div",{className:"fixed inset-0 bg-black/80 z-50 flex items-center justify-center p-4 animate-fade-in",onClick:u,children:n.jsxs("div",{className:"ornate-border bg-stone-900 w-full max-w-2xl h-auto max-h-[80vh] rounded-xl shadow-2xl overflow-hidden backdrop-blur-lg flex flex-col",onClick:b=>b.stopPropagation(),children:[n.jsxs("div",{className:"flex justify-between items-center p-4 flex-shrink-0 bg-black/20",children:[n.jsx("h2",{className:"text-2xl font-bold text-amber-300 font-serif",children:"人际关系"}),n.jsx("button",{onClick:u,className:"text-amber-300 hover:text-white transition-colors",children:n.jsx("i",{className:"fa-solid fa-times text-2xl"})})]}),n.jsxs("div",{className:"flex-shrink-0 px-4 flex space-x-2 border-b border-stone-700",children:[n.jsx("button",{onClick:()=>m("熟人"),className:`px-4 py-2 text-sm font-semibold rounded-t-lg transition-colors duration-200 ${o==="熟人"?"bg-stone-700/80 text-amber-400 border-b-2 border-amber-400":"bg-transparent text-gray-400 hover:bg-stone-700/50"}`,children:"熟人"}),n.jsx("button",{onClick:()=>m("陌生人"),className:`px-4 py-2 text-sm font-semibold rounded-t-lg transition-colors duration-200 ${o==="陌生人"?"bg-stone-700/80 text-amber-400 border-b-2 border-amber-400":"bg-transparent text-gray-400 hover:bg-stone-700/50"}`,children:"陌生人"})]}),n.jsx("div",{className:"flex-grow overflow-y-auto p-6 space-y-4",children:p.length>0?p.map(b=>n.jsxs("div",{className:"bg-black/20 p-4 rounded-lg border border-stone-700/50",children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-white font-serif",children:b.name}),n.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:b.relationshipTags.map(E=>n.jsx("span",{className:"px-2 py-1 bg-stone-700 text-xs text-gray-300 rounded-full",children:E},E))})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("p",{className:"text-sm text-gray-400",children:"好感度"}),n.jsx("p",{className:"font-mono text-lg text-white",children:b.favorability})]})]}),n.jsx("div",{className:"mt-3",children:n.jsx(Ep,{favorability:b.favorability})}),n.jsxs("p",{className:"text-sm text-gray-300 mt-3 italic",children:['"',b.description,'"']})]},b.id)):n.jsxs("div",{className:"text-center text-gray-500 pt-10",children:[n.jsx("p",{className:"text-4xl mb-4",children:"🌪️"}),n.jsx("p",{children:"此分类下暂无人物。"})]})})]})})},_p=()=>{var il;const[c,u]=k.useState(Bh),[d,o]=k.useState(!1),[m,p]=k.useState(!1),[b,E]=k.useState(null),[v,g]=k.useState(null),[O,S]=k.useState(!1),[Y,z]=k.useState([]),[N,A]=k.useState(null),[U,G]=k.useState(null),[J,Q]=k.useState(null),[I,ee]=k.useState(!1),[ue,W]=k.useState(!1),[de,Ae]=k.useState(!1),[Je,_e]=k.useState(!1),[me,$e]=k.useState(null),[ge,Xe]=k.useState(null),[_,X]=k.useState(!1),[le,he]=k.useState(!1),[Ce,x]=k.useState(!1),[R,$]=k.useState(!1),[F,re]=k.useState(!1),[be,we]=k.useState(!1),[it,Ge]=k.useState(!1),[ea,ll]=k.useState(!1),[bn,pn]=k.useState(!1),[al,wa]=k.useState(!1),[ta,vs]=k.useState(null),[js,la]=k.useState(!1),[nl,Ca]=k.useState(null),[Ns,gn]=k.useState(""),[gt,yn]=k.useState([]),[Wi,Ss]=k.useState(!1),[Ta,ws]=k.useState(!1),[vn,Cs]=k.useState(null),[jn,wl]=k.useState(null),[mt,Vt]=k.useState(null),xt=k.useRef(null);k.useEffect(()=>{o(!0),c.playerProfile.businessDistrict||u(B=>({...B,playerProfile:{...B.playerProfile,businessDistrict:{name:"七情六欲坊",level:1,shops:[{id:"shop_brothel_1",type:"青楼",level:1,staff:[]}],log:[{timestamp:"初始",message:"你获得了“七情六欲坊”的初始地契，并开设了第一家青楼。"}]}}}))},[]),k.useEffect(()=>{c.hospitalPatients.length===0&&u(B=>({...B,hospitalPatients:[{id:M0.patientId,medicalRecord:M0,status:"待诊"}]})),c.bountyBoard.length===0&&u(B=>({...B,bountyBoard:[{...Uh,id:"bounty-example-01",status:"悬赏中"}]}))},[]);const Fi=async()=>{if(c.playerProfile.businessDistrict){const B=W0(c.playerProfile);let L="",V=0;if(Math.random()<.3)try{const se=await Zb(c.playerProfile.businessDistrict,c.playerProfile.cardCollection);L=se.message,V=se.incomeChange}catch(se){console.error("Failed to generate business event:",se),L="今天风平浪静，无事发生。"}else L="今天风平浪静，无事发生。";const Z=B+V;u(se=>{if(!se.playerProfile.businessDistrict)return se;const te=se.exploration.time.match(/第(\d+)天/),Ee=`第${(te?parseInt(te[1],10):1)+1}天，清晨`,ce=[{timestamp:Ee,message:`结算日：总收入 ${Z} 灵石。${L}`},...se.playerProfile.businessDistrict.log].slice(0,50);return{...se,exploration:{...se.exploration,time:Ee},playerProfile:{...se.playerProfile,spiritStones:se.playerProfile.spiritStones+Z,businessDistrict:{...se.playerProfile.businessDistrict,log:ce}}}})}if(Math.random()<.5)try{const B=await ps();u(L=>({...L,bountyBoard:[...L.bountyBoard,{...B,id:`bounty-${Date.now()}`,status:"悬赏中"}].slice(-10)}))}catch(B){console.error("Failed to generate bounty target:",B)}},Ii=async()=>{p(!0);try{const B=await Promise.all([Gi(),Gi(),Gi()]);u(L=>({...L,hospitalPatients:B.map(V=>({id:V.patientId,medicalRecord:V,status:"待诊"}))}))}catch(B){console.error("Failed to refresh patients:",B),E("刷新病人列表失败。")}finally{p(!1)}},Pi=async B=>{p(!0);try{const L=await Gi(B);u(V=>({...V,hospitalPatients:[...V.hospitalPatients,{id:L.patientId,medicalRecord:L,status:"待诊"}].slice(-10)}))}catch(L){console.error("Failed to add patient:",L),E("添加病人失败。")}finally{p(!1)}},Ma=async()=>{p(!0);try{const B=await Promise.all([ps(),ps(),ps()]);u(L=>({...L,bountyBoard:B.map(V=>({...V,id:`bounty-${Date.now()}-${Math.random()}`,status:"悬赏中"})).slice(-10)}))}catch(B){console.error("Failed to refresh bounty board:",B),E("刷新悬赏榜失败。")}finally{p(!1)}},Aa=async B=>{p(!0);try{const L=await ps(B);u(V=>({...V,bountyBoard:[...V.bountyBoard,{...L,id:`bounty-${Date.now()}`,status:"悬赏中"}].slice(-10)}))}catch(L){console.error("Failed to add bounty target:",L),E("添加悬赏目标失败。")}finally{p(!1)}},Ea=B=>{const L=c.hospitalPatients.find(V=>V.id===B);if(L){Ca(L);const V=`你坐在问诊室内，面前的病人是【${L.medicalRecord.name}】。你清了清嗓子，准备开始今天的问诊。`;gn(V),yn(["询问病症","进行身体检查","安抚情绪"]),la(!1)}},sl=async B=>{if(!nl)return;p(!0);const L=`${Ns}

> ${B}`,V=`你正在为【${nl.medicalRecord.name}】诊断【${nl.medicalRecord.illnessDescription}】。`;try{const Z=await U0(`${V}
${L}`,B,c.playerProfile);gn(`${L}

${Z.story}`),yn(Z.choices)}catch(Z){console.error(Z),E("AI响应错误，请稍后再试。")}finally{p(!1)}},Oa=()=>{Ca(null),gn(""),yn([])},aa=B=>{wl(B)},Ts=k.useCallback(async(B="all")=>{$(!0);try{const L=B==="all"?["sect","adventure","world"]:[B],V={...c.announcements};for(const Z of L){const se=Z,pe=await Yb(se,5),te={sect:"宗门",adventure:"奇遇",world:"世界"},ae=pe.map((Ee,ce)=>({...Ee,id:`${se}-${Date.now()}-${ce}`,category:te[se]}));V[se]=ae}u(Z=>({...Z,announcements:V}))}catch(L){console.error("Failed to fetch announcements:",L)}finally{$(!1)}},[c.announcements]);k.useEffect(()=>{Ts("all")},[]),k.useEffect(()=>{var B;c.mode==="exploration"&&((B=xt.current)==null||B.scrollIntoView({behavior:"smooth",block:"end"}))},[c.exploration.story,c.mode]),k.useEffect(()=>{c.exploration.pendingChallenge&&X(!0)},[c.exploration.pendingChallenge]),k.useEffect(()=>{c.mode==="battle"&&c.battle&&u(B=>{if(!B.battle)return B;const L=B.battle.playerParty.map(V=>{const Z=B.playerProfile.maleParty.find(se=>se.id===V.card.id)||B.playerProfile.femaleParty.find(se=>se.id===V.card.id);if(Z){const se=Il(Z),pe=V.calculatedStats?V.calculatedStats.maxHp:Z.baseAttributes.maxHp,te=pe>0?Math.min(1,V.currentHp/pe):1,ae=V.calculatedStats?V.calculatedStats.maxMp:Z.baseAttributes.maxMp,Ee=ae>0?Math.min(1,V.currentMp/ae):1;return{...V,card:Z,calculatedStats:se,currentHp:Math.max(1,Math.round(se.maxHp*te)),currentMp:Math.round(se.maxMp*Ee)}}return V});return{...B,battle:{...B.battle,playerParty:L}}})},[c.playerProfile,c.mode]);const _a=k.useCallback(async B=>{var V;p(!0),E(null);const L=c.exploration.story;try{const Z=await U0(L,B,c.playerProfile);let se=`${c.exploration.story}

> ${B}

${Z.story}`,pe=!1,te=null;const ae=c.bountyBoard.filter(ce=>ce.status==="悬赏中");for(const ce of ae)if(ce.locationHint.includes(Z.location)&&Math.random()<.25){se+=`

**[红尘录]** 你似乎在【${Z.location}】感受到了特殊的气息... 一个名号为【${ce.name}】的悬赏目标出现了！`;const ke=Il(ce.character),nt={playerParty:[],opponentParty:[{card:ce.character,currentHp:ke.maxHp,currentMp:ke.maxMp,statusEffects:[],calculatedStats:ke}],activePlayerCardIndex:0,activeOpponentCardIndex:0,turn:"pre-battle",combatLog:[`遭遇了红尘录目标：${ce.name}！`],isBattleOver:!1,victory:null};Q(nt),pe=!0;break}if(((V=Z.event)==null?void 0:V.type)==="battle"&&Z.opponentParty){const ce={playerParty:[],opponentParty:Z.opponentParty.map(ke=>({...ke,statusEffects:[]})),activePlayerCardIndex:0,activeOpponentCardIndex:0,turn:"pre-battle",combatLog:[`与 ${Z.event.opponentName} 的战斗即将开始！`],isBattleOver:!1,victory:null};Q(ce),pe=!0}if(Z.pendingChallenge&&Z.pendingChallenge.challengerName&&(te=Z.pendingChallenge,se+=`

[你收到了来自 ${te.challengerName} 的挑战！]`),u(ce=>{let ke={...ce.playerProfile};if(Z.relationshipUpdate&&(ke=Gb(ke,Z.relationshipUpdate)),Z.newQuest&&(ke=dp(ke,Z.newQuest)),Z.questUpdate){const{questId:nt,objectiveId:Fe,progress:jt}=Z.questUpdate,yt=ke.quests.find(kt=>kt.id===nt),ct=yt==null?void 0:yt.objectives.find(kt=>kt.id===Fe);if(ct){const kt=(ct.currentCount||0)+jt;ke=fp(ke,nt,Fe,kt)}}return Z.reputationUpdate&&(ke.reputation={...ke.reputation,score:ke.reputation.score+Z.reputationUpdate.scoreChange}),{...ce,playerProfile:ke,exploration:{...ce.exploration,story:se,location:Z.location,time:Z.time,choices:Z.choices,pendingChallenge:te}}}),pe&&!te){z([]),ee(!0),p(!1);return}if(Math.random()<.25&&!te&&!pe)try{const ce=await Ub(Z.location,c.playerProfile);$e(ce)}catch(ce){console.error("Failed to generate random event:",ce)}p(!1)}catch(Z){console.error(Z),E("仙界似乎有些不稳定，灵气无法正确响应你的请求。"),p(!1)}},[c.playerProfile,c.exploration.story]),Nn=k.useCallback(async B=>{var te;if(!c.battle||c.battle.isBattleOver)return;p(!0),E(null),z([]);const L=c.battle,V=L.playerParty[L.activePlayerCardIndex],Z=L.opponentParty[L.activeOpponentCardIndex],se=ae=>ae.includes("剑")||ae.includes("斩")?"slash":ae.includes("火")||ae.includes("焰")?"fire":ae.includes("疗")||ae.includes("愈")?"heal":ae.includes("盾")||ae.includes("御")?"shield":"default",pe=ae=>new Promise(Ee=>setTimeout(Ee,ae));try{const ae=await Bb(V,Z,B);z([ae.playerActionDescription]),A({key:Date.now(),effect:se(B),attacker:"player"}),ae.opponentHpChange<0&&G("opponent"),await pe(1500),z(rt=>[...rt,ae.opponentActionDescription]);const Ee=((te=ae.opponentTurnSummary.match(/\[(.*?)\]/))==null?void 0:te[1])||"default";A({key:Date.now()+1,effect:se(Ee),attacker:"opponent"}),G(null),ae.playerHpChange<0&&G("player"),await pe(1500);const ce=V.currentHp+ae.playerHpChange,ke=Z.currentHp+ae.opponentHpChange,nt=V.currentMp+ae.playerMpChange,Fe=Z.currentMp+ae.opponentMpChange,jt=[...L.combatLog,`> ${ae.playerTurnSummary}`,`> ${ae.opponentTurnSummary}`],yt=ce<=0,ct=ke<=0;let kt=L.activePlayerCardIndex,Tn=L.activeOpponentCardIndex,ia=!1,Ra=null;ct&&(jt.push(`${Z.card.name} 已被击败！`),L.activeOpponentCardIndex+1>=L.opponentParty.length?(ia=!0,Ra=!0,jt.push("你获得了胜利！")):(Tn++,jt.push(`对手派出了 ${L.opponentParty[Tn].card.name}！`))),yt&&(jt.push(`${V.card.name} 已被击败！`),L.activePlayerCardIndex+1>=L.playerParty.length?(ia=!0,Ra=!1,jt.push("你被击败了！")):(kt++,jt.push(`你派出了 ${L.playerParty[kt].card.name}！`))),u(rt=>{if(!rt.battle)return rt;const Mn=[...rt.battle.playerParty];Mn[rt.battle.activePlayerCardIndex]={...Mn[rt.battle.activePlayerCardIndex],currentHp:Math.max(0,ce),currentMp:Math.max(0,nt),statusEffects:ae.playerStatusEffects};const bt=[...rt.battle.opponentParty];return bt[rt.battle.activeOpponentCardIndex]={...bt[rt.battle.activeOpponentCardIndex],currentHp:Math.max(0,ke),currentMp:Math.max(0,Fe),statusEffects:ae.opponentStatusEffects},{...rt,battle:{...rt.battle,playerParty:Mn,opponentParty:bt,combatLog:jt,activePlayerCardIndex:kt,activeOpponentCardIndex:Tn,isBattleOver:ia,victory:Ra}}}),G(null)}catch(ae){console.error(ae),E("一股神秘的力量扰乱了战场。")}finally{p(!1)}},[c.battle]),na=B=>{const L=c.playerProfile.arenaRank,V=B?25:-15,Z=Math.max(0,L.points+V),pe=(te=>te>=5e3?{tier:"王者",division:"",points:te,tierIcon:"👑"}:te>=4e3?{tier:"钻石",division:String(5-Math.floor((te-4e3)/200)),points:te,tierIcon:"💎"}:te>=3e3?{tier:"白金",division:String(5-Math.floor((te-3e3)/200)),points:te,tierIcon:"🛡️"}:te>=2e3?{tier:"黄金",division:String(5-Math.floor((te-2e3)/200)),points:te,tierIcon:"🌟"}:te>=1e3?{tier:"白银",division:String(5-Math.floor((te-1e3)/200)),points:te,tierIcon:"🥈"}:{tier:"黄铜",division:String(5-Math.floor(te/200)),points:te,tierIcon:"🥉"})(Z);Vt({oldRank:L,newRank:pe,pointsChange:V,victory:B}),u(te=>{const ae={...te.playerProfile,arenaRank:pe},Ee={...te.leaderboards},ce=Ee.宗门排行榜.总榜,ke=ce.findIndex(nt=>nt.name===ae.name);return ke!==-1?ce[ke].points=pe.points:(ce.length<20||pe.points>ce[ce.length-1].points)&&ce.push({rank:0,name:ae.name,faction:"青蛇宗",points:pe.points,characterId:"player"}),ce.sort((nt,Fe)=>Fe.points-nt.points).forEach((nt,Fe)=>{nt.rank=Fe+1}),Ee.宗门排行榜.总榜=ce.slice(0,20),{...te,playerProfile:ae,leaderboards:Ee,mode:"exploration",battle:void 0}})},ec=()=>{var Z,se;if((Z=c.battle)!=null&&Z.isArenaBattle){na(c.battle.victory??!1);return}let B=`

 战斗的尘埃落定。`,L=[...c.bountyBoard],V=[...c.playerProfile.cardCollection];if((se=c.battle)!=null&&se.victory){const pe=c.battle.opponentParty[0].card,te=L.findIndex(ae=>ae.character.name===pe.name&&ae.status==="悬赏中");if(te!==-1){const ae=L[te];L[te]={...ae,status:"已狩猎"},V.some(Ee=>Ee.name===ae.character.name)||V.push(ae.character),B+=`

**[红尘录]** 目标【${ae.name}】已被你成功狩猎！你获得了ta的角色卡！`}}u(pe=>({...pe,mode:"exploration",battle:void 0,bountyBoard:L,playerProfile:{...pe.playerProfile,cardCollection:V},exploration:{...pe.exploration,story:pe.exploration.story+B,choices:["继续你的旅程。","调息疗伤。","搜查四周。"]}}))},Ms=()=>{u(B=>({...B,mode:"exploration",battle:void 0,exploration:{...B.exploration,story:B.exploration.story+`

你选择了避其锋芒，从战斗中脱离。`,choices:["继续你的旅程。","检查你的状态。","寻找一个安全的地方休息。"]}}))},As=(B,L)=>{var ae;const V=B==="Male"?c.playerProfile.maleParty:c.playerProfile.femaleParty,Z=L==="Male"?[Vi]:[Eu],se=J?((ae=J.combatLog[0].match(/与 (.*) 的战斗/))==null?void 0:ae[1])||"挑战者":Z[0].name,pe=J?J.opponentParty:Z.map(Ee=>{const ce=Il(Ee);return{card:Ee,currentHp:ce.maxHp,currentMp:ce.maxMp,statusEffects:[],calculatedStats:ce}}),te={playerParty:V.map(Ee=>{const ce=Il(Ee);return{card:Ee,currentHp:ce.maxHp,currentMp:ce.maxMp,statusEffects:[],calculatedStats:ce}}),opponentParty:pe,activePlayerCardIndex:0,activeOpponentCardIndex:0,turn:"player",combatLog:[`与 ${se} 的战斗即将开始！`],isBattleOver:!1,victory:null};u(Ee=>({...Ee,mode:"battle",battle:te,exploration:{...Ee.exploration,pendingChallenge:null}})),Q(null),ee(!1)},Es=k.useCallback(()=>{if(X(!1),c.playerProfile.maleParty.length===0&&c.playerProfile.femaleParty.length===0){E("队伍中至少需要一名角色才能进入战斗！"),setTimeout(()=>E(null),3e3);return}J?(z([]),ee(!0)):(E("战斗信息丢失，无法开始。"),u(B=>({...B,exploration:{...B.exploration,pendingChallenge:null}})))},[c.playerProfile,J]),za=k.useCallback(()=>{var L;X(!1);const B=((L=c.exploration.pendingChallenge)==null?void 0:L.challengerName)||"对方";u(V=>({...V,exploration:{...V.exploration,story:V.exploration.story+`

你思虑再三，决定拒绝 ${B} 的挑战。`,choices:["继续你的旅程。","检查你的状态。","寻找一个安全的地方休息。"],pendingChallenge:null}})),Q(null)},[c.exploration.pendingChallenge,c.exploration.story]),Sn=B=>g(B),Os=()=>g(null),Da=B=>{u(L=>({...L,playerProfile:B}))},Wt=B=>{W(!1),_a(`前往 ${B}。`)},lt=B=>{_e(!1),_a(B)},ht=async(B,L)=>{const V={name:L,timestamp:Date.now(),gameState:c};await ys.saveToSlot(B,V)},Cl=async B=>{const V=(await ys.getAllSaves())[B];if(!V){alert("没有可导出的存档！");return}const Z=JSON.stringify(V,null,2),se=new Blob([Z],{type:"application/json"}),pe=URL.createObjectURL(se),te=document.createElement("a");te.href=pe,te.download=`${V.name.replace(/\s/g,"_")}_${new Date(V.timestamp).toISOString()}.json`,document.body.appendChild(te),te.click(),document.body.removeChild(te),URL.revokeObjectURL(pe)},wn=async B=>{const L=prompt("请选择要导入到的存档槽位 (1-5):");if(!L)return;const V=parseInt(L,10);if(isNaN(V)||V<1||V>5){alert("无效的槽位！请输入1到5之间的数字。");return}try{await ys.saveToSlot(V,B),alert(`存档 "${B.name}" 已成功导入到槽位 ${V}！请重新打开菜单查看。`),ll(!1)}catch(Z){console.error("导入存档时保存失败:",Z),alert("保存导入的存档时发生错误。")}},tc=async B=>{const L=await ys.loadFromSlot(B);L&&u(L),ll(!1)},lc=async()=>{we(!0),Ge(!0);try{const B=await Qb(c.playerProfile);u(L=>({...L,playerProfile:{...L.playerProfile,reputation:{...L.playerProfile.reputation,title:B.title,goodDeeds:B.goodDeeds,badDeeds:B.badDeeds,lewdDeeds:B.lewdDeeds}}}))}catch(B){console.error("Failed to generate reputation details:",B)}finally{Ge(!1)}},_s=B=>{const L=Il(B),V={playerParty:[],opponentParty:[{card:B,currentHp:L.maxHp,currentMp:L.maxMp,statusEffects:[],calculatedStats:L}],activePlayerCardIndex:0,activeOpponentCardIndex:0,turn:"pre-battle",combatLog:[`与 ${B.name} 的竞技场对决即将开始！`],isBattleOver:!1,victory:null,isArenaBattle:!0};Q(V),g(null),ee(!0)},sa=B=>{const{outcome:L}=B;Xe(L.description),setTimeout(()=>{u(Z=>{const se=JSON.parse(JSON.stringify(Z.playerProfile));let pe=`

[奇遇] ${L.description}`;switch(L.type){case"reward_stones":se.spiritStones+=L.amount;break;case"lose_stones":se.spiritStones=Math.max(0,se.spiritStones-L.amount);break;case"battle":const te=tl.filter(Fe=>Fe.rarity==="优品"||Fe.rarity==="珍品"),Ee={...te[Math.floor(Math.random()*te.length)],id:`rand-${Date.now()}`,name:L.opponentName,origin:L.opponentDescription},ce=Il(Ee),ke={playerParty:[],opponentParty:[{card:Ee,currentHp:ce.maxHp,currentMp:ce.maxMp,statusEffects:[],calculatedStats:ce}],activePlayerCardIndex:0,activeOpponentCardIndex:0,turn:"pre-battle",combatLog:[`遭遇了 ${L.opponentName}！`],isBattleOver:!1,victory:null};Q(ke),pe+=`

你遭遇了 ${L.opponentName}！`;break;case"reward_item":const nt=K0.find(Fe=>Fe.name===L.itemName);if(nt){const Fe={...nt,id:`${nt.id}_${Date.now()}_${Math.random()}`};se.equipmentInventory.push(Fe)}else pe+=`
但它似乎只是个普通的物件，你随手丢弃了。`;break}return{...Z,playerProfile:se,exploration:{...Z.exploration,story:Z.exploration.story+pe}}}),$e(null),Xe(null),L.type==="battle"&&ee(!0)},2e3)},Cn=()=>{if(c.mode==="exploration")return n.jsx(F0,{story:c.exploration.story,storyEndRef:xt});if(nl)return n.jsx(ub,{patient:nl,story:Ns,choices:gt,isLoading:m,error:b,onAction:sl,onViewRecord:()=>Ss(!0),onEndConsultation:Oa});if(c.mode==="battle"&&c.battle){const B=c.battle;if(B.activePlayerCardIndex>=B.playerParty.length||B.activeOpponentCardIndex>=B.opponentParty.length)return n.jsx("div",{className:"flex-1"});const L=B.playerParty[B.activePlayerCardIndex],V=B.opponentParty[B.activeOpponentCardIndex];return n.jsxs("div",{className:"w-full h-full flex flex-col",children:[n.jsx("div",{className:"flex-grow",children:n.jsx(Fh,{player:L,opponent:V,animation:N,lastHit:U})}),n.jsx("div",{className:"flex-shrink-0 h-48 p-4",children:n.jsx(Hh,{descriptions:Y,isLoading:m,isPlayerTurn:B.turn==="player"})})]})}return null};return n.jsxs("div",{className:"flex flex-col min-h-screen bg-transparent font-serif relative",style:{backgroundImage:"url('https://github.com/zzq0219/sillytavern/blob/main/%E3%80%90%E5%93%B2%E9%A3%8E%E5%A3%81%E7%BA%B8%E3%80%91%E4%BA%91%E9%9B%BE-%E4%BB%99%E4%BE%A0.png?raw=true')",backgroundSize:"cover",backgroundPosition:"center",backgroundAttachment:"fixed"},children:[n.jsx(op,{playerProfile:c.playerProfile,location:c.exploration.location,onProfileClick:()=>Ae(!0)}),n.jsx(Gh,{announcements:[...c.announcements.world,...c.announcements.adventure,...c.announcements.sect],onClick:()=>x(!0)}),n.jsx("main",{className:"flex-1 flex flex-col items-center h-full overflow-hidden pt-24",children:Cn()}),c.mode==="battle"&&c.battle&&!c.battle.isBattleOver&&n.jsx("div",{className:"flex-shrink-0",children:n.jsx(Zh,{battleState:c.battle,isLoading:m,onCombatAction:Nn,onFlee:Ms,onOpenCombatLog:()=>S(!0)})}),c.mode==="battle"&&((il=c.battle)==null?void 0:il.isBattleOver)&&n.jsx(Ih,{victory:c.battle.victory,onClose:ec}),c.mode==="exploration"&&n.jsx(Ph,{gameState:c,isLoading:m,error:b,onExplorationAction:_a,onNavClick:Sn,onMapClick:()=>W(!0),onInteractClick:()=>_e(!0),onTelepathyClick:()=>re(!0),onSystemClick:()=>ll(!0),onQuestClick:()=>pn(!0),onBusinessClick:()=>wa(!0),onHospitalClick:()=>la(!0),onBountyBoardClick:()=>ws(!0),onNextDay:Fi}),n.jsx(lp,{isOpen:de,onClose:()=>Ae(!1),playerProfile:c.playerProfile,hasPendingChallenge:!!c.exploration.pendingChallenge,onBattleClick:()=>{c.exploration.pendingChallenge&&(Ae(!1),X(!0))},onRelationshipsClick:()=>he(!0),onReputationClick:()=>lc()}),v&&n.jsx(Pb,{activeModal:v,onClose:Os,playerProfile:c.playerProfile,setPlayerProfile:Da,leaderboards:c.leaderboards,onMatchFound:_s}),O&&c.battle&&n.jsx(rb,{log:c.battle.combatLog,onClose:()=>S(!1)}),I&&J&&n.jsx(ap,{playerProfile:c.playerProfile,opponentName:J.opponentParty[0].card.name,onBattleStart:As,onClose:()=>{ee(!1),Q(null),u(B=>({...B,exploration:{...B.exploration,pendingChallenge:null}}))}}),ue&&n.jsx(bb,{currentLocationName:c.exploration.location,onClose:()=>W(!1),onTravel:Wt}),Je&&n.jsx(db,{isOpen:Je,onClose:()=>_e(!1),onInteract:lt,storyContext:c.exploration.story}),me&&n.jsx(sp,{event:me,onChoice:sa,resultText:ge}),c.exploration.pendingChallenge&&n.jsx(nb,{isOpen:_,onClose:za,challenge:c.exploration.pendingChallenge,onAccept:Es,onDecline:za}),le&&n.jsx(Op,{isOpen:le,onClose:()=>he(!1),playerProfile:c.playerProfile}),n.jsx(Yh,{isOpen:Ce,onClose:()=>x(!1),announcements:c.announcements,onRefresh:()=>Ts("all"),isLoading:R}),n.jsx(up,{isOpen:F,onClose:()=>re(!1),playerProfile:c.playerProfile}),n.jsx(ip,{isOpen:be,onClose:()=>we(!1),reputation:c.playerProfile.reputation,isLoading:it}),n.jsx(cp,{isOpen:ea,onClose:()=>ll(!1),onSave:ht,onLoad:tc,onExport:Cl,onImport:wn,getSaves:ys.getAllSaves}),n.jsx(np,{isOpen:bn,onClose:()=>pn(!1),quests:c.playerProfile.quests}),mt&&n.jsx(Qh,{...mt,onClose:()=>Vt(null)}),n.jsx(ab,{isOpen:al,onClose:()=>wa(!1),playerProfile:c.playerProfile,onUpdateProfile:Da,onOpenSurveillance:B=>vs(B)}),ta&&n.jsx(rp,{isOpen:!!ta,onClose:()=>vs(null),shop:ta,cardCollection:c.playerProfile.cardCollection}),n.jsx(ob,{isOpen:js,onClose:()=>la(!1),patients:c.hospitalPatients,onStartConsultation:Ea,onRefresh:Ii,onAddPatient:Pi,isLoading:m,onViewRecord:aa}),jn&&n.jsx(pb,{isOpen:!!jn,onClose:()=>wl(null),record:jn}),n.jsx(eb,{isOpen:Ta,onClose:()=>ws(!1),bountyBoard:c.bountyBoard,onViewTarget:B=>Cs(B.character),onRefresh:Ma,onAddTarget:Aa,isLoading:m}),vn&&n.jsx(Ou,{card:vn,onClose:()=>Cs(null),playerProfile:c.playerProfile,setPlayerProfile:Da})]})},lm=document.getElementById("root");if(!lm)throw new Error("Could not find root element to mount to");const zp=gh.createRoot(lm);zp.render(n.jsx(Zi.StrictMode,{children:n.jsx(_p,{})}));</script>
</head>
  <body class="bg-stone-950 text-stone-300 font-sans">
    <div id="root" class="w-screen h-screen overflow-hidden"></div>

  </body>
</html>